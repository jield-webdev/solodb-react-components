var KS = Object.defineProperty;
var eI = (e, t, n) => t in e ? KS(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n;
var Jn = (e, t, n) => eI(e, typeof t != "symbol" ? t + "" : t, n);
import { jsx as l, jsxs as v, Fragment as ve } from "react/jsx-runtime";
import * as U from "react";
import ne, { createContext as vr, useState as B, useRef as Oe, useEffect as re, useCallback as _e, useContext as ke, useMemo as Xe, useLayoutEffect as Ad, useReducer as Zg, cloneElement as Cl, forwardRef as _s, useImperativeHandle as qg, Component as tI, Fragment as zo } from "react";
import ae from "axios";
import { useQuery as Gn, useQueryClient as $n, useQueries as nn, useInfiniteQuery as nI, QueryClientProvider as rI, QueryClient as iI, keepPreviousData as ma, useMutation as aI } from "@tanstack/react-query";
import { useParams as mt, Link as pn, Outlet as Es, useNavigate as Jg, useLocation as sI } from "react-router-dom";
import bi, { createPortal as oI } from "react-dom";
import { useReactTable as lI, getSortedRowModel as cI, getCoreRowModel as uI, flexRender as nh } from "@tanstack/react-table";
const ks = vr({
  user: null,
  setUser: () => {
  },
  isLoadingUser: !0
});
function dI(e) {
  let t = { ...e };
  return t.facet = Object.fromEntries(Object.entries(e.facet).filter(([n, r]) => r.values.length > 0)), e.filter.general.length <= 0 && (t.filter = {}), t;
}
async function fI({
  service: e,
  environment: t,
  formResult: n
}) {
  const r = new URLSearchParams();
  if (r.append("service", e), t !== void 0 && r.append("environment", t), n !== void 0) {
    let o = JSON.stringify(dI(n));
    r.append("formResult", btoa(o));
  }
  let i = "view/filter?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    filter: s._embedded.items[0],
    facet: s._embedded.items[1]
  };
}
async function pI() {
  const e = await ae.get("me"), { data: t } = e;
  return t;
}
async function hI({ query: e, selection: t }) {
  const n = new URLSearchParams();
  e && n.append("query", e), t && n.append("selection", t.toString());
  let r = "list/user?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
function Qg(e) {
  return new Promise((t, n) => {
    const r = new FileReader();
    r.onload = () => {
      const i = r.result;
      t(i);
    }, r.onerror = n, r.readAsDataURL(e);
  });
}
const mI = (e, t) => {
  ae.defaults.headers.common.Authorization = "Bearer " + e, ae.defaults.headers.common.Accept = "application/json", ae.defaults.headers.common["Content-Type"] = "application/json", ae.defaults.baseURL = t;
};
async function gI({ id: e }) {
  const t = await ae.get("view/chemical/container/" + e), { data: n } = t;
  return n;
}
async function Kg({
  qrCodeContent: e
}) {
  const t = new URLSearchParams();
  t.append("qr_code_content", e);
  let n = "list/chemical/container/external-label?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function vI({
  query: e
}) {
  const t = new URLSearchParams();
  e && t.append("query", e);
  let n = "list/chemical/container/type?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function yI({ query: e }) {
  const t = new URLSearchParams();
  e && t.append("query", e);
  let n = "list/chemical?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function rh({ id: e }) {
  const t = await ae.get("view/equipment/" + e), { data: n } = t;
  return n;
}
async function bI({ id: e }) {
  const t = await ae.get("view/setup/" + e), { data: n } = t;
  return n;
}
async function xI({ id: e }) {
  const t = await ae.get("view/status-mail/" + e), { data: n } = t;
  return n;
}
function wI(e) {
  let t = { ...e };
  return t.facet = Object.fromEntries(Object.entries(e.facet).filter(([n, r]) => r.values.length > 0)), e.filter.general.length <= 0 && (t.filter = {}), t;
}
async function ev({
  environment: e,
  run: t,
  room: n,
  statusMail: r,
  page: i = 1,
  pageSize: a = 25,
  query: s,
  filter: o,
  order: c,
  direction: u
}) {
  const f = new URLSearchParams();
  e !== void 0 && f.append("environment", e), t !== void 0 && f.append("run", t.id.toString()), n !== void 0 && f.append("room", n.id.toString()), s !== void 0 && f.append("query", s), c !== void 0 && f.append("order", c), u !== void 0 && f.append("direction", u), r !== void 0 && (f.append("status_mail", r.id.toString()), f.append("page_size", "200")), o !== void 0 && (o = wI(o), f.append("filter", btoa(JSON.stringify(o)))), f.append("page", i.toString()), f.append("page_size", a.toString());
  let p = "list/equipment?" + f.toString();
  const g = await ae.get(p), { data: h } = g;
  return {
    items: h._embedded.items,
    amountOfPages: h.page_count,
    currentPage: h.page,
    totalItems: h.total_items,
    hasMore: h.page < h.page_count
  };
}
async function CI() {
  let e = "list/equipment/status?" + new URLSearchParams().toString();
  const t = await ae.get(e), { data: n } = t;
  return {
    items: n._embedded.items,
    amountOfPages: n.page_count,
    currentPage: n.page,
    totalItems: n.total_items,
    hasMore: n.page < n.page_count
  };
}
async function tv({
  equipment: e,
  module: t,
  statusMail: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && r.append("module", t.id.toString()), n !== void 0 && (r.append("status_mail", n.id.toString()), r.append("page_size", "1000"));
  let i = "list/equipment/module/ecn/attachment?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function SI({ id: e }) {
  if (isNaN(e))
    return null;
  const t = await ae.get("view/equipment/module/" + e), { data: n } = t;
  return n;
}
async function nv({
  equipment: e,
  module: t,
  statusMail: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && r.append("module", t.id.toString()), n !== void 0 && (r.append("status_mail", n.id.toString()), r.append("page_size", "1000"));
  let i = "list/equipment/module/issue/attachment?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function Dd({
  equipment: e,
  module: t,
  statusMail: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && r.append("module", t.id.toString()), n !== void 0 && (r.append("status_mail", n.id.toString()), r.append("page_size", "1000"));
  let i = "list/equipment/module/ecn?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function II({
  module: e,
  pageSize: t,
  order: n,
  direction: r
}) {
  const i = new URLSearchParams();
  e !== void 0 && i.append("module", e.id.toString()), t !== void 0 && i.append("page_size", t.toString()), n && i.append("order", n), r && i.append("direction", r);
  let a = "list/equipment/module/parameter?" + i.toString();
  const s = await ae.get(a), { data: o } = s;
  return {
    items: o._embedded.items,
    amountOfPages: o.page_count,
    currentPage: o.page,
    totalItems: o.total_items,
    hasMore: o.page < o.page_count
  };
}
async function rv({
  equipment: e,
  module: t,
  statusMail: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && r.append("module", t.id.toString()), n !== void 0 && (r.append("status_mail", n.id.toString()), r.append("page_size", "1000"));
  let i = "list/equipment/module/issue?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function Ni({
  equipment: e,
  statusMail: t,
  run: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && (r.append("status_mail", t.id.toString()), r.append("page_size", "10000")), n !== void 0 && r.append("run", n.id.toString());
  let i = "list/equipment/module?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function Ho({
  equipment: e,
  module: t,
  which: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("equipment", e.id.toString()), t !== void 0 && r.append("module", t.id.toString()), n !== void 0 && r.append("which", n);
  let i = "list/equipment/reservation?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  if (n == "active")
    for (let o = 0; o < s._embedded.items.length; o++)
      s._embedded.items[o].active = !0;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function _I({
  statusMail: e
}) {
  const t = new URLSearchParams();
  e !== void 0 && (t.append("status_mail", e.id.toString()), t.append("page_size", "1000"));
  let n = "list/location/message?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function ds({ id: e }) {
  const t = await ae.get("view/location/" + e), { data: n } = t;
  return n;
}
async function EI({ id: e }) {
  const t = await ae.get("view/room/" + e), { data: n } = t;
  return n;
}
async function kI({
  environment: e,
  room: t,
  pageSize: n = 25
}) {
  const r = new URLSearchParams();
  e && r.append("environment", e), t && r.append("room", t.id.toString()), r.append("page_size", n.toString());
  let i = "list/location?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function NI({
  environment: e,
  withLocations: t
}) {
  const n = new URLSearchParams();
  e && n.append("environment", e), n.append("which", "with_locations");
  let r = "list/room?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
async function Au({ id: e }) {
  let t = await ae.get("view/monitor/" + e);
  const { data: n } = t;
  return n;
}
async function iv({
  equipmentId: e,
  monitorId: t
}) {
  const n = new URLSearchParams();
  e !== void 0 && n.append("equipment", e.toString()), t && n.append("monitor", t.toString());
  let r = "list/monitor/requirement?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
async function av({
  equipment: e
}) {
  const t = new URLSearchParams();
  e !== void 0 && t.append("equipment", e.id.toString()), t.append("ad_hoc", "true");
  let n = "list/monitor?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function AI({
  requirement: e,
  order: t,
  direction: n,
  pageSize: r,
  page: i
}) {
  const a = new URLSearchParams();
  e && a.append("requirement", e.id.toString()), a.append("order", t), a.append("direction", n), r && a.append("page_size", r.toString()), i && a.append("page", i.toString());
  let s = "list/monitor/measurement/result?" + a.toString();
  const o = await ae.get(s), { data: c } = o;
  return {
    items: c._embedded.items,
    amountOfPages: c.page_count,
    currentPage: c.page,
    totalItems: c.total_items,
    hasMore: c.page < c.page_count
  };
}
async function sv({
  requirement: e,
  result: t,
  order: n,
  direction: r,
  pageSize: i,
  page: a
}) {
  const s = new URLSearchParams();
  e && s.append("requirement", e.id.toString()), t && s.append("result", t.id.toString()), n && s.append("order", n), r && s.append("direction", r), i && s.append("page_size", i.toString()), a && s.append("page", a.toString());
  let o = "list/monitor/measurement/result/step-parameter-value?" + s.toString();
  const c = await ae.get(o), { data: u } = c;
  return {
    items: u._embedded.items,
    amountOfPages: u.page_count,
    currentPage: u.page,
    totalItems: u.total_items,
    hasMore: u.page < u.page_count
  };
}
async function DI({
  requirement: e
}) {
  const t = new URLSearchParams();
  e && t.append("requirement", e.id.toString());
  let n = "list/monitor/requirement/target?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function OI({
  step: e,
  pageSize: t,
  order: n,
  direction: r
}) {
  const i = new URLSearchParams();
  e !== void 0 && i.append("step", e.id.toString()), i.append("page_size", t.toString()), i.append("order", n), i.append("direction", r);
  let a = "list/monitor/step/file?" + i.toString();
  const s = await ae.get(a), { data: o } = s;
  return {
    items: o._embedded.items,
    amountOfPages: o.page_count,
    currentPage: o.page,
    totalItems: o.total_items,
    hasMore: o.page < o.page_count
  };
}
async function MI({
  step: e,
  requirement: t,
  pageSize: n,
  order: r,
  direction: i
}) {
  const a = new URLSearchParams();
  e !== void 0 && a.append("step", e.id.toString()), t !== void 0 && a.append("requirement", t.id.toString()), n !== void 0 && a.append("page_size", n.toString()), r && a.append("order", r), i && a.append("direction", i);
  let s = "list/monitor/step/parameter?" + a.toString();
  const o = await ae.get(s), { data: c } = o;
  return {
    items: c._embedded.items,
    amountOfPages: c.page_count,
    currentPage: c.page,
    totalItems: c.total_items,
    hasMore: c.page < c.page_count
  };
}
async function jo({ id: e }) {
  let t = "view/run/" + e;
  const n = await ae.get(t), { data: r } = n;
  return r;
}
async function ih({ id: e }) {
  let t = "view/run/step/" + e;
  const n = await ae.get(t), { data: r } = n;
  return r;
}
async function Od({
  step: e,
  run: t
}) {
  const n = new URLSearchParams();
  e !== void 0 && n.append("step", String(e.id)), t !== void 0 && n.append("run", String(t.id));
  let r = "list/run/requirement?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
async function RI({
  run: e,
  page: t
}) {
  const n = new URLSearchParams();
  e !== void 0 && n.append("run", e.id.toString()), n.append("page", t.toString());
  let r = "list/run/changelog?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
async function Sl({ run: e }) {
  const t = new URLSearchParams();
  t.append("run", e.id.toString()), t.append("page_size", "10000");
  let n = "list/run/parts?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function Md({
  run: e,
  page: t = 1,
  pageSize: n = 25
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("run", e.id.toString()), r.append("page", t.toString()), r.append("page_size", n.toString());
  let i = "list/run/step?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function TI({
  environment: e,
  firstUnfinishedStepEquipment: t
}) {
  const n = new URLSearchParams();
  t !== void 0 && (n.append("operator", "1"), n.append("first_unfinished_step_equipment_id", t.id.toString())), e !== void 0 && n.append("environment", e);
  let r = "list/run?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
var Ge = /* @__PURE__ */ ((e) => (e[e.START_PROCESSING = 1] = "START_PROCESSING", e[e.FINISH_PROCESSING = 2] = "FINISH_PROCESSING", e[e.FAILED_PROCESSING = 3] = "FAILED_PROCESSING", e[e.REWORK = 4] = "REWORK", e))(Ge || {});
function Du(e) {
  if (e.part_processing_failed_in_previous_step)
    return [];
  const t = e.latest_action?.type.id, n = [];
  return e.actions === 0 && n.push(Ge.START_PROCESSING), e.actions > 0 && t !== Ge.FINISH_PROCESSING && t !== Ge.FAILED_PROCESSING && n.push(Ge.FINISH_PROCESSING, Ge.FAILED_PROCESSING), e.actions > 0 && n.push(Ge.REWORK), n;
}
async function Il({
  measurement: e
}) {
  const t = new URLSearchParams();
  t.append("measurement", String(e.id));
  let n = "/list/run/measurement/result?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function ov({
  runStep: e
}) {
  const t = new URLSearchParams();
  e !== void 0 && t.append("step", e.id.toString());
  let n = "list/run/step/checklist?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function FI(e) {
  if (!e)
    throw new Error("Run step is undefined when trying to start step");
  return await ae.create().patch("update/run/step/start/" + e.id, {});
}
async function lv(e) {
  if (!e)
    throw new Error("Run step is undefined when trying to finish step");
  return await ae.create().patch("update/run/step/finish/" + e.id, {});
}
async function PI({
  step: e,
  pageSize: t
}) {
  const n = new URLSearchParams();
  e !== void 0 && n.append("step", e.id.toString()), t !== void 0 && n.append("page_size", t.toString()), n.append("order", "date-created"), n.append("direction", "DESC");
  let r = "list/run/step/file?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    items: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items,
    hasMore: a.page < a.page_count
  };
}
async function LI({
  runStep: e
}) {
  const t = new URLSearchParams();
  e !== void 0 && t.append("step", e.id.toString());
  let n = "list/run/step/parameter?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function Ns({
  step: e,
  run: t,
  page_size: n
}) {
  const r = new URLSearchParams();
  e !== void 0 && r.append("step", e.id.toString()), t !== void 0 && r.append("run", t.id.toString()), n !== void 0 ? r.append("page_size", n.toString()) : r.append("page_size", "10000");
  let i = "list/run/step/part?" + r.toString();
  const a = await ae.get(i), { data: s } = a;
  return {
    items: s._embedded.items,
    amountOfPages: s.page_count,
    currentPage: s.page,
    totalItems: s.total_items,
    hasMore: s.page < s.page_count
  };
}
async function _l({
  runStepPart: e,
  runStepPartAction: t
}) {
  const n = await ae.post("create/run/step/part/action", {
    run_step_part_id: e.id,
    type: t
  }), { data: r } = n;
  return r;
}
async function VI({ id: e }) {
  const t = new URLSearchParams();
  e !== void 0 && t.append("report", e.toString());
  let n = "list/service/event/report/results?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return i._embedded.items;
}
async function BI({ id: e }) {
  let t = await ae.get("view/service/event/report/" + e);
  const { data: n } = t;
  return n;
}
async function GI({
  equipmentId: e
}) {
  const t = new URLSearchParams();
  e !== void 0 && t.append("equipment", e.toString());
  let n = "list/service?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    items: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items,
    hasMore: i.page < i.page_count
  };
}
async function YI({ template: e, pageSize: t }) {
  const n = new URLSearchParams();
  e !== void 0 && n.append("template", e.id.toString()), n.append("page_size", t.toString());
  let r = "list/template/step?" + n.toString();
  const i = await ae.get(r), { data: a } = i;
  return {
    steps: a._embedded.items,
    amountOfPages: a.page_count,
    currentPage: a.page,
    totalItems: a.total_items
  };
}
async function WI({ reworkRecipes: e }) {
  const t = new URLSearchParams();
  e !== void 0 && e.map((a) => a.id).forEach((a) => {
    t.append("rework_recipe_id[]", a.toString());
  });
  let n = "list/template?" + t.toString();
  const r = await ae.get(n), { data: i } = r;
  return {
    templates: i._embedded.items,
    amountOfPages: i.page_count,
    currentPage: i.page,
    totalItems: i.total_items
  };
}
var Ou = /* @__PURE__ */ ((e) => (e[e.STANDARD_PRODUCT = 1] = "STANDARD_PRODUCT", e[e.NON_STANDARD_PRODUCT = 2] = "NON_STANDARD_PRODUCT", e))(Ou || {}), es = /* @__PURE__ */ ((e) => (e[e.SOLID = 1] = "SOLID", e[e.LIQUID = 2] = "LIQUID", e[e.GAS = 3] = "GAS", e[e.OTHER = 4] = "OTHER", e))(es || {}), Oo = /* @__PURE__ */ ((e) => (e[e.Equipment = 1] = "Equipment", e[e.Accessory = 2] = "Accessory", e[e.Storage = 3] = "Storage", e))(Oo || {}), Pr = /* @__PURE__ */ ((e) => (e[e.DEFAULT = 1] = "DEFAULT", e[e.PRIORITY = 2] = "PRIORITY", e[e.ESCALATION = 3] = "ESCALATION", e))(Pr || {}), ts = /* @__PURE__ */ ((e) => (e[e.ACTIVE = 1] = "ACTIVE", e[e.CLOSED = 2] = "CLOSED", e))(ts || {}), mi = /* @__PURE__ */ ((e) => (e[e.AREA = 1] = "AREA", e[e.AREA_PER_FACILITY = 2] = "AREA_PER_FACILITY", e[e.ROOM = 3] = "ROOM", e))(mi || {}), Vn = /* @__PURE__ */ ((e) => (e[e.RESEARCH = 1] = "RESEARCH", e[e.PRODUCTION = 2] = "PRODUCTION", e))(Vn || {});
const cv = {
  serverUri: ""
};
function jY(e) {
  e.serverUri !== void 0 && (cv.serverUri = e.serverUri);
}
function uv() {
  return cv.serverUri + "/api";
}
const zI = () => {
  const [e, t] = B(null), [n, r] = B(!0), i = Oe(!1);
  return re(() => {
    const s = document.getElementById("root")?.dataset.jwt ?? "";
    if (mI(s, uv()), !s) {
      r(!1);
      return;
    }
    i.current || (i.current = !0, pI().then(t).finally(() => r(!1)));
  }, []), { user: e, setUser: t, isLoadingUser: n };
}, $Y = ({ children: e }) => {
  const { user: t, setUser: n, isLoadingUser: r } = zI();
  return r ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center align-items-center", style: { height: "100vh" }, children: /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ l("h2", { children: "Loading" }),
    /* @__PURE__ */ l("p", { children: "Loading userâ€¦" })
  ] }) }) : /* @__PURE__ */ l(ks.Provider, { value: { user: t, setUser: n, isLoadingUser: r }, children: e });
};
function li(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var Oc = { exports: {} };
var ah;
function HI() {
  return ah || (ah = 1, (function(e) {
    (function() {
      var t = {}.hasOwnProperty;
      function n() {
        for (var a = "", s = 0; s < arguments.length; s++) {
          var o = arguments[s];
          o && (a = i(a, r(o)));
        }
        return a;
      }
      function r(a) {
        if (typeof a == "string" || typeof a == "number")
          return a;
        if (typeof a != "object")
          return "";
        if (Array.isArray(a))
          return n.apply(null, a);
        if (a.toString !== Object.prototype.toString && !a.toString.toString().includes("[native code]"))
          return a.toString();
        var s = "";
        for (var o in a)
          t.call(a, o) && a[o] && (s = i(s, o));
        return s;
      }
      function i(a, s) {
        return s ? a ? a + " " + s : a + s : a;
      }
      e.exports ? (n.default = n, e.exports = n) : window.classNames = n;
    })();
  })(Oc)), Oc.exports;
}
var jI = HI();
const Ee = /* @__PURE__ */ li(jI);
function Be() {
  return Be = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, Be.apply(null, arguments);
}
function Rd(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) !== -1) continue;
    n[r] = e[r];
  }
  return n;
}
var Mc, sh;
function $I() {
  if (sh) return Mc;
  sh = 1;
  var e = function(t, n, r, i, a, s, o, c) {
    if (process.env.NODE_ENV !== "production" && n === void 0)
      throw new Error("invariant requires an error message argument");
    if (!t) {
      var u;
      if (n === void 0)
        u = new Error(
          "Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
        );
      else {
        var f = [r, i, a, s, o, c], p = 0;
        u = new Error(
          n.replace(/%s/g, function() {
            return f[p++];
          })
        ), u.name = "Invariant Violation";
      }
      throw u.framesToPop = 1, u;
    }
  };
  return Mc = e, Mc;
}
var UI = $I();
const oh = /* @__PURE__ */ li(UI);
function lh(e) {
  return "default" + e.charAt(0).toUpperCase() + e.substr(1);
}
function XI(e) {
  var t = ZI(e, "string");
  return typeof t == "symbol" ? t : String(t);
}
function ZI(e, t) {
  if (typeof e != "object" || e === null) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(e, t);
    if (typeof r != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function dv(e, t, n) {
  var r = Oe(e !== void 0), i = B(t), a = i[0], s = i[1], o = e !== void 0, c = r.current;
  return r.current = o, !o && c && a !== t && s(t), [o ? e : a, _e(function(u) {
    for (var f = arguments.length, p = new Array(f > 1 ? f - 1 : 0), g = 1; g < f; g++)
      p[g - 1] = arguments[g];
    n && n.apply(void 0, [u].concat(p)), s(u);
  }, [n])];
}
function El(e, t) {
  return Object.keys(t).reduce(function(n, r) {
    var i, a = n, s = a[lh(r)], o = a[r], c = Rd(a, [lh(r), r].map(XI)), u = t[r], f = dv(o, s, e[u]), p = f[0], g = f[1];
    return Be({}, c, (i = {}, i[r] = p, i[u] = g, i));
  }, e);
}
function $o(e, t) {
  return $o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, r) {
    return n.__proto__ = r, n;
  }, $o(e, t);
}
function qI(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, $o(e, t);
}
const JI = ["xxl", "xl", "lg", "md", "sm", "xs"], QI = "xs", As = /* @__PURE__ */ U.createContext({
  prefixes: {},
  breakpoints: JI,
  minBreakpoint: QI
}), {
  Consumer: UY,
  Provider: XY
} = As;
function Re(e, t) {
  const {
    prefixes: n
  } = ke(As);
  return e || n[t] || t;
}
function fv() {
  const {
    breakpoints: e
  } = ke(As);
  return e;
}
function pv() {
  const {
    minBreakpoint: e
  } = ke(As);
  return e;
}
function kl() {
  const {
    dir: e
  } = ke(As);
  return e === "rtl";
}
function _a(e) {
  return e && e.ownerDocument || document;
}
function KI(e) {
  var t = _a(e);
  return t && t.defaultView || window;
}
function e_(e, t) {
  return KI(e).getComputedStyle(e, t);
}
var t_ = /([A-Z])/g;
function n_(e) {
  return e.replace(t_, "-$1").toLowerCase();
}
var r_ = /^ms-/;
function fo(e) {
  return n_(e).replace(r_, "-ms-");
}
var i_ = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;
function a_(e) {
  return !!(e && i_.test(e));
}
function Ci(e, t) {
  var n = "", r = "";
  if (typeof t == "string")
    return e.style.getPropertyValue(fo(t)) || e_(e).getPropertyValue(fo(t));
  Object.keys(t).forEach(function(i) {
    var a = t[i];
    !a && a !== 0 ? e.style.removeProperty(fo(i)) : a_(i) ? r += i + "(" + a + ") " : n += fo(i) + ": " + a + ";";
  }), r && (n += "transform: " + r + ";"), e.style.cssText += ";" + n;
}
var po = { exports: {} }, ho = { exports: {} }, ut = {};
var ch;
function s_() {
  if (ch) return ut;
  ch = 1;
  var e = typeof Symbol == "function" && Symbol.for, t = e ? /* @__PURE__ */ Symbol.for("react.element") : 60103, n = e ? /* @__PURE__ */ Symbol.for("react.portal") : 60106, r = e ? /* @__PURE__ */ Symbol.for("react.fragment") : 60107, i = e ? /* @__PURE__ */ Symbol.for("react.strict_mode") : 60108, a = e ? /* @__PURE__ */ Symbol.for("react.profiler") : 60114, s = e ? /* @__PURE__ */ Symbol.for("react.provider") : 60109, o = e ? /* @__PURE__ */ Symbol.for("react.context") : 60110, c = e ? /* @__PURE__ */ Symbol.for("react.async_mode") : 60111, u = e ? /* @__PURE__ */ Symbol.for("react.concurrent_mode") : 60111, f = e ? /* @__PURE__ */ Symbol.for("react.forward_ref") : 60112, p = e ? /* @__PURE__ */ Symbol.for("react.suspense") : 60113, g = e ? /* @__PURE__ */ Symbol.for("react.suspense_list") : 60120, h = e ? /* @__PURE__ */ Symbol.for("react.memo") : 60115, y = e ? /* @__PURE__ */ Symbol.for("react.lazy") : 60116, _ = e ? /* @__PURE__ */ Symbol.for("react.block") : 60121, S = e ? /* @__PURE__ */ Symbol.for("react.fundamental") : 60117, w = e ? /* @__PURE__ */ Symbol.for("react.responder") : 60118, I = e ? /* @__PURE__ */ Symbol.for("react.scope") : 60119;
  function b(C) {
    if (typeof C == "object" && C !== null) {
      var A = C.$$typeof;
      switch (A) {
        case t:
          switch (C = C.type, C) {
            case c:
            case u:
            case r:
            case a:
            case i:
            case p:
              return C;
            default:
              switch (C = C && C.$$typeof, C) {
                case o:
                case f:
                case y:
                case h:
                case s:
                  return C;
                default:
                  return A;
              }
          }
        case n:
          return A;
      }
    }
  }
  function E(C) {
    return b(C) === u;
  }
  return ut.AsyncMode = c, ut.ConcurrentMode = u, ut.ContextConsumer = o, ut.ContextProvider = s, ut.Element = t, ut.ForwardRef = f, ut.Fragment = r, ut.Lazy = y, ut.Memo = h, ut.Portal = n, ut.Profiler = a, ut.StrictMode = i, ut.Suspense = p, ut.isAsyncMode = function(C) {
    return E(C) || b(C) === c;
  }, ut.isConcurrentMode = E, ut.isContextConsumer = function(C) {
    return b(C) === o;
  }, ut.isContextProvider = function(C) {
    return b(C) === s;
  }, ut.isElement = function(C) {
    return typeof C == "object" && C !== null && C.$$typeof === t;
  }, ut.isForwardRef = function(C) {
    return b(C) === f;
  }, ut.isFragment = function(C) {
    return b(C) === r;
  }, ut.isLazy = function(C) {
    return b(C) === y;
  }, ut.isMemo = function(C) {
    return b(C) === h;
  }, ut.isPortal = function(C) {
    return b(C) === n;
  }, ut.isProfiler = function(C) {
    return b(C) === a;
  }, ut.isStrictMode = function(C) {
    return b(C) === i;
  }, ut.isSuspense = function(C) {
    return b(C) === p;
  }, ut.isValidElementType = function(C) {
    return typeof C == "string" || typeof C == "function" || C === r || C === u || C === a || C === i || C === p || C === g || typeof C == "object" && C !== null && (C.$$typeof === y || C.$$typeof === h || C.$$typeof === s || C.$$typeof === o || C.$$typeof === f || C.$$typeof === S || C.$$typeof === w || C.$$typeof === I || C.$$typeof === _);
  }, ut.typeOf = b, ut;
}
var dt = {};
var uh;
function o_() {
  return uh || (uh = 1, process.env.NODE_ENV !== "production" && (function() {
    var e = typeof Symbol == "function" && Symbol.for, t = e ? /* @__PURE__ */ Symbol.for("react.element") : 60103, n = e ? /* @__PURE__ */ Symbol.for("react.portal") : 60106, r = e ? /* @__PURE__ */ Symbol.for("react.fragment") : 60107, i = e ? /* @__PURE__ */ Symbol.for("react.strict_mode") : 60108, a = e ? /* @__PURE__ */ Symbol.for("react.profiler") : 60114, s = e ? /* @__PURE__ */ Symbol.for("react.provider") : 60109, o = e ? /* @__PURE__ */ Symbol.for("react.context") : 60110, c = e ? /* @__PURE__ */ Symbol.for("react.async_mode") : 60111, u = e ? /* @__PURE__ */ Symbol.for("react.concurrent_mode") : 60111, f = e ? /* @__PURE__ */ Symbol.for("react.forward_ref") : 60112, p = e ? /* @__PURE__ */ Symbol.for("react.suspense") : 60113, g = e ? /* @__PURE__ */ Symbol.for("react.suspense_list") : 60120, h = e ? /* @__PURE__ */ Symbol.for("react.memo") : 60115, y = e ? /* @__PURE__ */ Symbol.for("react.lazy") : 60116, _ = e ? /* @__PURE__ */ Symbol.for("react.block") : 60121, S = e ? /* @__PURE__ */ Symbol.for("react.fundamental") : 60117, w = e ? /* @__PURE__ */ Symbol.for("react.responder") : 60118, I = e ? /* @__PURE__ */ Symbol.for("react.scope") : 60119;
    function b(ue) {
      return typeof ue == "string" || typeof ue == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      ue === r || ue === u || ue === a || ue === i || ue === p || ue === g || typeof ue == "object" && ue !== null && (ue.$$typeof === y || ue.$$typeof === h || ue.$$typeof === s || ue.$$typeof === o || ue.$$typeof === f || ue.$$typeof === S || ue.$$typeof === w || ue.$$typeof === I || ue.$$typeof === _);
    }
    function E(ue) {
      if (typeof ue == "object" && ue !== null) {
        var rt = ue.$$typeof;
        switch (rt) {
          case t:
            var vt = ue.type;
            switch (vt) {
              case c:
              case u:
              case r:
              case a:
              case i:
              case p:
                return vt;
              default:
                var We = vt && vt.$$typeof;
                switch (We) {
                  case o:
                  case f:
                  case y:
                  case h:
                  case s:
                    return We;
                  default:
                    return rt;
                }
            }
          case n:
            return rt;
        }
      }
    }
    var C = c, A = u, N = o, D = s, F = t, P = f, G = r, Y = y, z = h, H = n, L = a, q = i, te = p, ge = !1;
    function Ce(ue) {
      return ge || (ge = !0, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), O(ue) || E(ue) === c;
    }
    function O(ue) {
      return E(ue) === u;
    }
    function ie(ue) {
      return E(ue) === o;
    }
    function se(ue) {
      return E(ue) === s;
    }
    function R(ue) {
      return typeof ue == "object" && ue !== null && ue.$$typeof === t;
    }
    function oe(ue) {
      return E(ue) === f;
    }
    function K(ue) {
      return E(ue) === r;
    }
    function fe(ue) {
      return E(ue) === y;
    }
    function Ne(ue) {
      return E(ue) === h;
    }
    function we(ue) {
      return E(ue) === n;
    }
    function Fe(ue) {
      return E(ue) === a;
    }
    function Te(ue) {
      return E(ue) === i;
    }
    function He(ue) {
      return E(ue) === p;
    }
    dt.AsyncMode = C, dt.ConcurrentMode = A, dt.ContextConsumer = N, dt.ContextProvider = D, dt.Element = F, dt.ForwardRef = P, dt.Fragment = G, dt.Lazy = Y, dt.Memo = z, dt.Portal = H, dt.Profiler = L, dt.StrictMode = q, dt.Suspense = te, dt.isAsyncMode = Ce, dt.isConcurrentMode = O, dt.isContextConsumer = ie, dt.isContextProvider = se, dt.isElement = R, dt.isForwardRef = oe, dt.isFragment = K, dt.isLazy = fe, dt.isMemo = Ne, dt.isPortal = we, dt.isProfiler = Fe, dt.isStrictMode = Te, dt.isSuspense = He, dt.isValidElementType = b, dt.typeOf = E;
  })()), dt;
}
var dh;
function Td() {
  return dh || (dh = 1, process.env.NODE_ENV === "production" ? ho.exports = s_() : ho.exports = o_()), ho.exports;
}
var Rc, fh;
function l_() {
  if (fh) return Rc;
  fh = 1;
  var e = Object.getOwnPropertySymbols, t = Object.prototype.hasOwnProperty, n = Object.prototype.propertyIsEnumerable;
  function r(a) {
    if (a == null)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(a);
  }
  function i() {
    try {
      if (!Object.assign)
        return !1;
      var a = new String("abc");
      if (a[5] = "de", Object.getOwnPropertyNames(a)[0] === "5")
        return !1;
      for (var s = {}, o = 0; o < 10; o++)
        s["_" + String.fromCharCode(o)] = o;
      var c = Object.getOwnPropertyNames(s).map(function(f) {
        return s[f];
      });
      if (c.join("") !== "0123456789")
        return !1;
      var u = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(f) {
        u[f] = f;
      }), Object.keys(Object.assign({}, u)).join("") === "abcdefghijklmnopqrst";
    } catch {
      return !1;
    }
  }
  return Rc = i() ? Object.assign : function(a, s) {
    for (var o, c = r(a), u, f = 1; f < arguments.length; f++) {
      o = Object(arguments[f]);
      for (var p in o)
        t.call(o, p) && (c[p] = o[p]);
      if (e) {
        u = e(o);
        for (var g = 0; g < u.length; g++)
          n.call(o, u[g]) && (c[u[g]] = o[u[g]]);
      }
    }
    return c;
  }, Rc;
}
var Tc, ph;
function Fd() {
  if (ph) return Tc;
  ph = 1;
  var e = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Tc = e, Tc;
}
var Fc, hh;
function hv() {
  return hh || (hh = 1, Fc = Function.call.bind(Object.prototype.hasOwnProperty)), Fc;
}
var Pc, mh;
function c_() {
  if (mh) return Pc;
  mh = 1;
  var e = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    var t = /* @__PURE__ */ Fd(), n = {}, r = /* @__PURE__ */ hv();
    e = function(a) {
      var s = "Warning: " + a;
      typeof console < "u" && console.error(s);
      try {
        throw new Error(s);
      } catch {
      }
    };
  }
  function i(a, s, o, c, u) {
    if (process.env.NODE_ENV !== "production") {
      for (var f in a)
        if (r(a, f)) {
          var p;
          try {
            if (typeof a[f] != "function") {
              var g = Error(
                (c || "React class") + ": " + o + " type `" + f + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof a[f] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              throw g.name = "Invariant Violation", g;
            }
            p = a[f](s, f, c, o, null, t);
          } catch (y) {
            p = y;
          }
          if (p && !(p instanceof Error) && e(
            (c || "React class") + ": type specification of " + o + " `" + f + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof p + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
          ), p instanceof Error && !(p.message in n)) {
            n[p.message] = !0;
            var h = u ? u() : "";
            e(
              "Failed " + o + " type: " + p.message + (h ?? "")
            );
          }
        }
    }
  }
  return i.resetWarningCache = function() {
    process.env.NODE_ENV !== "production" && (n = {});
  }, Pc = i, Pc;
}
var Lc, gh;
function u_() {
  if (gh) return Lc;
  gh = 1;
  var e = Td(), t = l_(), n = /* @__PURE__ */ Fd(), r = /* @__PURE__ */ hv(), i = /* @__PURE__ */ c_(), a = function() {
  };
  process.env.NODE_ENV !== "production" && (a = function(o) {
    var c = "Warning: " + o;
    typeof console < "u" && console.error(c);
    try {
      throw new Error(c);
    } catch {
    }
  });
  function s() {
    return null;
  }
  return Lc = function(o, c) {
    var u = typeof Symbol == "function" && Symbol.iterator, f = "@@iterator";
    function p(O) {
      var ie = O && (u && O[u] || O[f]);
      if (typeof ie == "function")
        return ie;
    }
    var g = "<<anonymous>>", h = {
      array: w("array"),
      bigint: w("bigint"),
      bool: w("boolean"),
      func: w("function"),
      number: w("number"),
      object: w("object"),
      string: w("string"),
      symbol: w("symbol"),
      any: I(),
      arrayOf: b,
      element: E(),
      elementType: C(),
      instanceOf: A,
      node: P(),
      objectOf: D,
      oneOf: N,
      oneOfType: F,
      shape: Y,
      exact: z
    };
    function y(O, ie) {
      return O === ie ? O !== 0 || 1 / O === 1 / ie : O !== O && ie !== ie;
    }
    function _(O, ie) {
      this.message = O, this.data = ie && typeof ie == "object" ? ie : {}, this.stack = "";
    }
    _.prototype = Error.prototype;
    function S(O) {
      if (process.env.NODE_ENV !== "production")
        var ie = {}, se = 0;
      function R(K, fe, Ne, we, Fe, Te, He) {
        if (we = we || g, Te = Te || Ne, He !== n) {
          if (c) {
            var ue = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            throw ue.name = "Invariant Violation", ue;
          } else if (process.env.NODE_ENV !== "production" && typeof console < "u") {
            var rt = we + ":" + Ne;
            !ie[rt] && // Avoid spamming the console because they are often not actionable except for lib authors
            se < 3 && (a(
              "You are manually calling a React.PropTypes validation function for the `" + Te + "` prop on `" + we + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
            ), ie[rt] = !0, se++);
          }
        }
        return fe[Ne] == null ? K ? fe[Ne] === null ? new _("The " + Fe + " `" + Te + "` is marked as required " + ("in `" + we + "`, but its value is `null`.")) : new _("The " + Fe + " `" + Te + "` is marked as required in " + ("`" + we + "`, but its value is `undefined`.")) : null : O(fe, Ne, we, Fe, Te);
      }
      var oe = R.bind(null, !1);
      return oe.isRequired = R.bind(null, !0), oe;
    }
    function w(O) {
      function ie(se, R, oe, K, fe, Ne) {
        var we = se[R], Fe = q(we);
        if (Fe !== O) {
          var Te = te(we);
          return new _(
            "Invalid " + K + " `" + fe + "` of type " + ("`" + Te + "` supplied to `" + oe + "`, expected ") + ("`" + O + "`."),
            { expectedType: O }
          );
        }
        return null;
      }
      return S(ie);
    }
    function I() {
      return S(s);
    }
    function b(O) {
      function ie(se, R, oe, K, fe) {
        if (typeof O != "function")
          return new _("Property `" + fe + "` of component `" + oe + "` has invalid PropType notation inside arrayOf.");
        var Ne = se[R];
        if (!Array.isArray(Ne)) {
          var we = q(Ne);
          return new _("Invalid " + K + " `" + fe + "` of type " + ("`" + we + "` supplied to `" + oe + "`, expected an array."));
        }
        for (var Fe = 0; Fe < Ne.length; Fe++) {
          var Te = O(Ne, Fe, oe, K, fe + "[" + Fe + "]", n);
          if (Te instanceof Error)
            return Te;
        }
        return null;
      }
      return S(ie);
    }
    function E() {
      function O(ie, se, R, oe, K) {
        var fe = ie[se];
        if (!o(fe)) {
          var Ne = q(fe);
          return new _("Invalid " + oe + " `" + K + "` of type " + ("`" + Ne + "` supplied to `" + R + "`, expected a single ReactElement."));
        }
        return null;
      }
      return S(O);
    }
    function C() {
      function O(ie, se, R, oe, K) {
        var fe = ie[se];
        if (!e.isValidElementType(fe)) {
          var Ne = q(fe);
          return new _("Invalid " + oe + " `" + K + "` of type " + ("`" + Ne + "` supplied to `" + R + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return S(O);
    }
    function A(O) {
      function ie(se, R, oe, K, fe) {
        if (!(se[R] instanceof O)) {
          var Ne = O.name || g, we = Ce(se[R]);
          return new _("Invalid " + K + " `" + fe + "` of type " + ("`" + we + "` supplied to `" + oe + "`, expected ") + ("instance of `" + Ne + "`."));
        }
        return null;
      }
      return S(ie);
    }
    function N(O) {
      if (!Array.isArray(O))
        return process.env.NODE_ENV !== "production" && (arguments.length > 1 ? a(
          "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
        ) : a("Invalid argument supplied to oneOf, expected an array.")), s;
      function ie(se, R, oe, K, fe) {
        for (var Ne = se[R], we = 0; we < O.length; we++)
          if (y(Ne, O[we]))
            return null;
        var Fe = JSON.stringify(O, function(He, ue) {
          var rt = te(ue);
          return rt === "symbol" ? String(ue) : ue;
        });
        return new _("Invalid " + K + " `" + fe + "` of value `" + String(Ne) + "` " + ("supplied to `" + oe + "`, expected one of " + Fe + "."));
      }
      return S(ie);
    }
    function D(O) {
      function ie(se, R, oe, K, fe) {
        if (typeof O != "function")
          return new _("Property `" + fe + "` of component `" + oe + "` has invalid PropType notation inside objectOf.");
        var Ne = se[R], we = q(Ne);
        if (we !== "object")
          return new _("Invalid " + K + " `" + fe + "` of type " + ("`" + we + "` supplied to `" + oe + "`, expected an object."));
        for (var Fe in Ne)
          if (r(Ne, Fe)) {
            var Te = O(Ne, Fe, oe, K, fe + "." + Fe, n);
            if (Te instanceof Error)
              return Te;
          }
        return null;
      }
      return S(ie);
    }
    function F(O) {
      if (!Array.isArray(O))
        return process.env.NODE_ENV !== "production" && a("Invalid argument supplied to oneOfType, expected an instance of array."), s;
      for (var ie = 0; ie < O.length; ie++) {
        var se = O[ie];
        if (typeof se != "function")
          return a(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + ge(se) + " at index " + ie + "."
          ), s;
      }
      function R(oe, K, fe, Ne, we) {
        for (var Fe = [], Te = 0; Te < O.length; Te++) {
          var He = O[Te], ue = He(oe, K, fe, Ne, we, n);
          if (ue == null)
            return null;
          ue.data && r(ue.data, "expectedType") && Fe.push(ue.data.expectedType);
        }
        var rt = Fe.length > 0 ? ", expected one of type [" + Fe.join(", ") + "]" : "";
        return new _("Invalid " + Ne + " `" + we + "` supplied to " + ("`" + fe + "`" + rt + "."));
      }
      return S(R);
    }
    function P() {
      function O(ie, se, R, oe, K) {
        return H(ie[se]) ? null : new _("Invalid " + oe + " `" + K + "` supplied to " + ("`" + R + "`, expected a ReactNode."));
      }
      return S(O);
    }
    function G(O, ie, se, R, oe) {
      return new _(
        (O || "React class") + ": " + ie + " type `" + se + "." + R + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + oe + "`."
      );
    }
    function Y(O) {
      function ie(se, R, oe, K, fe) {
        var Ne = se[R], we = q(Ne);
        if (we !== "object")
          return new _("Invalid " + K + " `" + fe + "` of type `" + we + "` " + ("supplied to `" + oe + "`, expected `object`."));
        for (var Fe in O) {
          var Te = O[Fe];
          if (typeof Te != "function")
            return G(oe, K, fe, Fe, te(Te));
          var He = Te(Ne, Fe, oe, K, fe + "." + Fe, n);
          if (He)
            return He;
        }
        return null;
      }
      return S(ie);
    }
    function z(O) {
      function ie(se, R, oe, K, fe) {
        var Ne = se[R], we = q(Ne);
        if (we !== "object")
          return new _("Invalid " + K + " `" + fe + "` of type `" + we + "` " + ("supplied to `" + oe + "`, expected `object`."));
        var Fe = t({}, se[R], O);
        for (var Te in Fe) {
          var He = O[Te];
          if (r(O, Te) && typeof He != "function")
            return G(oe, K, fe, Te, te(He));
          if (!He)
            return new _(
              "Invalid " + K + " `" + fe + "` key `" + Te + "` supplied to `" + oe + "`.\nBad object: " + JSON.stringify(se[R], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(O), null, "  ")
            );
          var ue = He(Ne, Te, oe, K, fe + "." + Te, n);
          if (ue)
            return ue;
        }
        return null;
      }
      return S(ie);
    }
    function H(O) {
      switch (typeof O) {
        case "number":
        case "string":
        case "undefined":
          return !0;
        case "boolean":
          return !O;
        case "object":
          if (Array.isArray(O))
            return O.every(H);
          if (O === null || o(O))
            return !0;
          var ie = p(O);
          if (ie) {
            var se = ie.call(O), R;
            if (ie !== O.entries) {
              for (; !(R = se.next()).done; )
                if (!H(R.value))
                  return !1;
            } else
              for (; !(R = se.next()).done; ) {
                var oe = R.value;
                if (oe && !H(oe[1]))
                  return !1;
              }
          } else
            return !1;
          return !0;
        default:
          return !1;
      }
    }
    function L(O, ie) {
      return O === "symbol" ? !0 : ie ? ie["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && ie instanceof Symbol : !1;
    }
    function q(O) {
      var ie = typeof O;
      return Array.isArray(O) ? "array" : O instanceof RegExp ? "object" : L(ie, O) ? "symbol" : ie;
    }
    function te(O) {
      if (typeof O > "u" || O === null)
        return "" + O;
      var ie = q(O);
      if (ie === "object") {
        if (O instanceof Date)
          return "date";
        if (O instanceof RegExp)
          return "regexp";
      }
      return ie;
    }
    function ge(O) {
      var ie = te(O);
      switch (ie) {
        case "array":
        case "object":
          return "an " + ie;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + ie;
        default:
          return ie;
      }
    }
    function Ce(O) {
      return !O.constructor || !O.constructor.name ? g : O.constructor.name;
    }
    return h.checkPropTypes = i, h.resetWarningCache = i.resetWarningCache, h.PropTypes = h, h;
  }, Lc;
}
var Vc, vh;
function d_() {
  if (vh) return Vc;
  vh = 1;
  var e = /* @__PURE__ */ Fd();
  function t() {
  }
  function n() {
  }
  return n.resetWarningCache = t, Vc = function() {
    function r(s, o, c, u, f, p) {
      if (p !== e) {
        var g = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw g.name = "Invariant Violation", g;
      }
    }
    r.isRequired = r;
    function i() {
      return r;
    }
    var a = {
      array: r,
      bigint: r,
      bool: r,
      func: r,
      number: r,
      object: r,
      string: r,
      symbol: r,
      any: r,
      arrayOf: i,
      element: r,
      elementType: r,
      instanceOf: i,
      node: r,
      objectOf: i,
      oneOf: i,
      oneOfType: i,
      shape: i,
      exact: i,
      checkPropTypes: n,
      resetWarningCache: t
    };
    return a.PropTypes = a, a;
  }, Vc;
}
var yh;
function f_() {
  if (yh) return po.exports;
  if (yh = 1, process.env.NODE_ENV !== "production") {
    var e = Td(), t = !0;
    po.exports = /* @__PURE__ */ u_()(e.isElement, t);
  } else
    po.exports = /* @__PURE__ */ d_()();
  return po.exports;
}
var p_ = /* @__PURE__ */ f_();
const de = /* @__PURE__ */ li(p_), bh = {
  disabled: !1
};
var h_ = process.env.NODE_ENV !== "production" ? de.oneOfType([de.number, de.shape({
  enter: de.number,
  exit: de.number,
  appear: de.number
}).isRequired]) : null;
process.env.NODE_ENV !== "production" && de.oneOfType([de.string, de.shape({
  enter: de.string,
  exit: de.string,
  active: de.string
}), de.shape({
  enter: de.string,
  enterDone: de.string,
  enterActive: de.string,
  exit: de.string,
  exitDone: de.string,
  exitActive: de.string
})]);
const mv = ne.createContext(null);
var m_ = function(t) {
  return t.scrollTop;
}, ns = "unmounted", gi = "exited", Tr = "entering", vi = "entered", Uo = "exiting", $r = /* @__PURE__ */ (function(e) {
  qI(t, e);
  function t(r, i) {
    var a;
    a = e.call(this, r, i) || this;
    var s = i, o = s && !s.isMounting ? r.enter : r.appear, c;
    return a.appearStatus = null, r.in ? o ? (c = gi, a.appearStatus = Tr) : c = vi : r.unmountOnExit || r.mountOnEnter ? c = ns : c = gi, a.state = {
      status: c
    }, a.nextCallback = null, a;
  }
  t.getDerivedStateFromProps = function(i, a) {
    var s = i.in;
    return s && a.status === ns ? {
      status: gi
    } : null;
  };
  var n = t.prototype;
  return n.componentDidMount = function() {
    this.updateStatus(!0, this.appearStatus);
  }, n.componentDidUpdate = function(i) {
    var a = null;
    if (i !== this.props) {
      var s = this.state.status;
      this.props.in ? s !== Tr && s !== vi && (a = Tr) : (s === Tr || s === vi) && (a = Uo);
    }
    this.updateStatus(!1, a);
  }, n.componentWillUnmount = function() {
    this.cancelNextCallback();
  }, n.getTimeouts = function() {
    var i = this.props.timeout, a, s, o;
    return a = s = o = i, i != null && typeof i != "number" && (a = i.exit, s = i.enter, o = i.appear !== void 0 ? i.appear : s), {
      exit: a,
      enter: s,
      appear: o
    };
  }, n.updateStatus = function(i, a) {
    if (i === void 0 && (i = !1), a !== null)
      if (this.cancelNextCallback(), a === Tr) {
        if (this.props.unmountOnExit || this.props.mountOnEnter) {
          var s = this.props.nodeRef ? this.props.nodeRef.current : bi.findDOMNode(this);
          s && m_(s);
        }
        this.performEnter(i);
      } else
        this.performExit();
    else this.props.unmountOnExit && this.state.status === gi && this.setState({
      status: ns
    });
  }, n.performEnter = function(i) {
    var a = this, s = this.props.enter, o = this.context ? this.context.isMounting : i, c = this.props.nodeRef ? [o] : [bi.findDOMNode(this), o], u = c[0], f = c[1], p = this.getTimeouts(), g = o ? p.appear : p.enter;
    if (!i && !s || bh.disabled) {
      this.safeSetState({
        status: vi
      }, function() {
        a.props.onEntered(u);
      });
      return;
    }
    this.props.onEnter(u, f), this.safeSetState({
      status: Tr
    }, function() {
      a.props.onEntering(u, f), a.onTransitionEnd(g, function() {
        a.safeSetState({
          status: vi
        }, function() {
          a.props.onEntered(u, f);
        });
      });
    });
  }, n.performExit = function() {
    var i = this, a = this.props.exit, s = this.getTimeouts(), o = this.props.nodeRef ? void 0 : bi.findDOMNode(this);
    if (!a || bh.disabled) {
      this.safeSetState({
        status: gi
      }, function() {
        i.props.onExited(o);
      });
      return;
    }
    this.props.onExit(o), this.safeSetState({
      status: Uo
    }, function() {
      i.props.onExiting(o), i.onTransitionEnd(s.exit, function() {
        i.safeSetState({
          status: gi
        }, function() {
          i.props.onExited(o);
        });
      });
    });
  }, n.cancelNextCallback = function() {
    this.nextCallback !== null && (this.nextCallback.cancel(), this.nextCallback = null);
  }, n.safeSetState = function(i, a) {
    a = this.setNextCallback(a), this.setState(i, a);
  }, n.setNextCallback = function(i) {
    var a = this, s = !0;
    return this.nextCallback = function(o) {
      s && (s = !1, a.nextCallback = null, i(o));
    }, this.nextCallback.cancel = function() {
      s = !1;
    }, this.nextCallback;
  }, n.onTransitionEnd = function(i, a) {
    this.setNextCallback(a);
    var s = this.props.nodeRef ? this.props.nodeRef.current : bi.findDOMNode(this), o = i == null && !this.props.addEndListener;
    if (!s || o) {
      setTimeout(this.nextCallback, 0);
      return;
    }
    if (this.props.addEndListener) {
      var c = this.props.nodeRef ? [this.nextCallback] : [s, this.nextCallback], u = c[0], f = c[1];
      this.props.addEndListener(u, f);
    }
    i != null && setTimeout(this.nextCallback, i);
  }, n.render = function() {
    var i = this.state.status;
    if (i === ns)
      return null;
    var a = this.props, s = a.children;
    a.in, a.mountOnEnter, a.unmountOnExit, a.appear, a.enter, a.exit, a.timeout, a.addEndListener, a.onEnter, a.onEntering, a.onEntered, a.onExit, a.onExiting, a.onExited, a.nodeRef;
    var o = Rd(a, ["children", "in", "mountOnEnter", "unmountOnExit", "appear", "enter", "exit", "timeout", "addEndListener", "onEnter", "onEntering", "onEntered", "onExit", "onExiting", "onExited", "nodeRef"]);
    return (
      // allows for nested Transitions
      /* @__PURE__ */ ne.createElement(mv.Provider, {
        value: null
      }, typeof s == "function" ? s(i, o) : ne.cloneElement(ne.Children.only(s), o))
    );
  }, t;
})(ne.Component);
$r.contextType = mv;
$r.propTypes = process.env.NODE_ENV !== "production" ? {
  /**
   * A React reference to DOM element that need to transition:
   * https://stackoverflow.com/a/51127130/4671932
   *
   *   - When `nodeRef` prop is used, `node` is not passed to callback functions
   *      (e.g. `onEnter`) because user already has direct access to the node.
   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new
   *     `nodeRef` need to be provided to `Transition` with changed `key` prop
   *     (see
   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).
   */
  nodeRef: de.shape({
    current: typeof Element > "u" ? de.any : function(e, t, n, r, i, a) {
      var s = e[t];
      return de.instanceOf(s && "ownerDocument" in s ? s.ownerDocument.defaultView.Element : Element)(e, t, n, r, i, a);
    }
  }),
  /**
   * A `function` child can be used instead of a React element. This function is
   * called with the current transition status (`'entering'`, `'entered'`,
   * `'exiting'`, `'exited'`), which can be used to apply context
   * specific props to a component.
   *
   * ```jsx
   * <Transition in={this.state.in} timeout={150}>
   *   {state => (
   *     <MyComponent className={`fade fade-${state}`} />
   *   )}
   * </Transition>
   * ```
   */
  children: de.oneOfType([de.func.isRequired, de.element.isRequired]).isRequired,
  /**
   * Show the component; triggers the enter or exit states
   */
  in: de.bool,
  /**
   * By default the child component is mounted immediately along with
   * the parent `Transition` component. If you want to "lazy mount" the component on the
   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay
   * mounted, even on "exited", unless you also specify `unmountOnExit`.
   */
  mountOnEnter: de.bool,
  /**
   * By default the child component stays mounted after it reaches the `'exited'` state.
   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.
   */
  unmountOnExit: de.bool,
  /**
   * By default the child component does not perform the enter transition when
   * it first mounts, regardless of the value of `in`. If you want this
   * behavior, set both `appear` and `in` to `true`.
   *
   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop
   * > only adds an additional enter transition. However, in the
   * > `<CSSTransition>` component that first enter transition does result in
   * > additional `.appear-*` classes, that way you can choose to style it
   * > differently.
   */
  appear: de.bool,
  /**
   * Enable or disable enter transitions.
   */
  enter: de.bool,
  /**
   * Enable or disable exit transitions.
   */
  exit: de.bool,
  /**
   * The duration of the transition, in milliseconds.
   * Required unless `addEndListener` is provided.
   *
   * You may specify a single timeout for all transitions:
   *
   * ```jsx
   * timeout={500}
   * ```
   *
   * or individually:
   *
   * ```jsx
   * timeout={{
   *  appear: 500,
   *  enter: 300,
   *  exit: 500,
   * }}
   * ```
   *
   * - `appear` defaults to the value of `enter`
   * - `enter` defaults to `0`
   * - `exit` defaults to `0`
   *
   * @type {number | { enter?: number, exit?: number, appear?: number }}
   */
  timeout: function(t) {
    var n = h_;
    t.addEndListener || (n = n.isRequired);
    for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++)
      i[a - 1] = arguments[a];
    return n.apply(void 0, [t].concat(i));
  },
  /**
   * Add a custom transition end trigger. Called with the transitioning
   * DOM node and a `done` callback. Allows for more fine grained transition end
   * logic. Timeouts are still used as a fallback if provided.
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * ```jsx
   * addEndListener={(node, done) => {
   *   // use the css transitionend event to mark the finish of a transition
   *   node.addEventListener('transitionend', done, false);
   * }}
   * ```
   */
  addEndListener: de.func,
  /**
   * Callback fired before the "entering" status is applied. An extra parameter
   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * @type Function(node: HtmlElement, isAppearing: bool) -> void
   */
  onEnter: de.func,
  /**
   * Callback fired after the "entering" status is applied. An extra parameter
   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * @type Function(node: HtmlElement, isAppearing: bool)
   */
  onEntering: de.func,
  /**
   * Callback fired after the "entered" status is applied. An extra parameter
   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * @type Function(node: HtmlElement, isAppearing: bool) -> void
   */
  onEntered: de.func,
  /**
   * Callback fired before the "exiting" status is applied.
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * @type Function(node: HtmlElement) -> void
   */
  onExit: de.func,
  /**
   * Callback fired after the "exiting" status is applied.
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed.
   *
   * @type Function(node: HtmlElement) -> void
   */
  onExiting: de.func,
  /**
   * Callback fired after the "exited" status is applied.
   *
   * **Note**: when `nodeRef` prop is passed, `node` is not passed
   *
   * @type Function(node: HtmlElement) -> void
   */
  onExited: de.func
} : {};
function Xi() {
}
$r.defaultProps = {
  in: !1,
  mountOnEnter: !1,
  unmountOnExit: !1,
  appear: !1,
  enter: !0,
  exit: !0,
  onEnter: Xi,
  onEntering: Xi,
  onEntered: Xi,
  onExit: Xi,
  onExiting: Xi,
  onExited: Xi
};
$r.UNMOUNTED = ns;
$r.EXITED = gi;
$r.ENTERING = Tr;
$r.ENTERED = vi;
$r.EXITING = Uo;
function gv(e) {
  return e.code === "Escape" || e.keyCode === 27;
}
function g_() {
  const e = U.version.split(".");
  return {
    major: +e[0],
    minor: +e[1],
    patch: +e[2]
  };
}
function Ds(e) {
  if (!e || typeof e == "function")
    return null;
  const {
    major: t
  } = g_();
  return t >= 19 ? e.props.ref : e.ref;
}
const Ea = !!(typeof window < "u" && window.document && window.document.createElement);
var Mu = !1, Ru = !1;
try {
  var Bc = {
    get passive() {
      return Mu = !0;
    },
    get once() {
      return Ru = Mu = !0;
    }
  };
  Ea && (window.addEventListener("test", Bc, Bc), window.removeEventListener("test", Bc, !0));
} catch {
}
function Pd(e, t, n, r) {
  if (r && typeof r != "boolean" && !Ru) {
    var i = r.once, a = r.capture, s = n;
    !Ru && i && (s = n.__once || function o(c) {
      this.removeEventListener(t, o, a), n.call(this, c);
    }, n.__once = s), e.addEventListener(t, s, Mu ? r : a);
  }
  e.addEventListener(t, n, r);
}
function Tu(e, t, n, r) {
  var i = r && typeof r != "boolean" ? r.capture : r;
  e.removeEventListener(t, n, i), n.__once && e.removeEventListener(t, n.__once, i);
}
function Lr(e, t, n, r) {
  return Pd(e, t, n, r), function() {
    Tu(e, t, n, r);
  };
}
function v_(e, t, n, r) {
  if (r === void 0 && (r = !0), e) {
    var i = document.createEvent("HTMLEvents");
    i.initEvent(t, n, r), e.dispatchEvent(i);
  }
}
function y_(e) {
  var t = Ci(e, "transitionDuration") || "", n = t.indexOf("ms") === -1 ? 1e3 : 1;
  return parseFloat(t) * n;
}
function b_(e, t, n) {
  n === void 0 && (n = 5);
  var r = !1, i = setTimeout(function() {
    r || v_(e, "transitionend", !0);
  }, t + n), a = Lr(e, "transitionend", function() {
    r = !0;
  }, {
    once: !0
  });
  return function() {
    clearTimeout(i), a();
  };
}
function vv(e, t, n, r) {
  n == null && (n = y_(e) || 0);
  var i = b_(e, n, r), a = Lr(e, "transitionend", t);
  return function() {
    i(), a();
  };
}
function xh(e, t) {
  const n = Ci(e, t) || "", r = n.indexOf("ms") === -1 ? 1e3 : 1;
  return parseFloat(n) * r;
}
function x_(e, t) {
  const n = xh(e, "transitionDuration"), r = xh(e, "transitionDelay"), i = vv(e, (a) => {
    a.target === e && (i(), t(a));
  }, n + r);
}
function w_(e) {
  e.offsetHeight;
}
const wh = (e) => !e || typeof e == "function" ? e : (t) => {
  e.current = t;
};
function C_(e, t) {
  const n = wh(e), r = wh(t);
  return (i) => {
    n && n(i), r && r(i);
  };
}
function Ti(e, t) {
  return Xe(() => C_(e, t), [e, t]);
}
function Xo(e) {
  return e && "setState" in e ? bi.findDOMNode(e) : e ?? null;
}
const yv = /* @__PURE__ */ ne.forwardRef(({
  onEnter: e,
  onEntering: t,
  onEntered: n,
  onExit: r,
  onExiting: i,
  onExited: a,
  addEndListener: s,
  children: o,
  childRef: c,
  ...u
}, f) => {
  const p = Oe(null), g = Ti(p, c), h = (A) => {
    g(Xo(A));
  }, y = (A) => (N) => {
    A && p.current && A(p.current, N);
  }, _ = _e(y(e), [e]), S = _e(y(t), [t]), w = _e(y(n), [n]), I = _e(y(r), [r]), b = _e(y(i), [i]), E = _e(y(a), [a]), C = _e(y(s), [s]);
  return /* @__PURE__ */ l($r, {
    ref: f,
    ...u,
    onEnter: _,
    onEntered: w,
    onEntering: S,
    onExit: I,
    onExited: E,
    onExiting: b,
    addEndListener: C,
    nodeRef: p,
    children: typeof o == "function" ? (A, N) => (
      // TODO: Types for RTG missing innerProps, so need to cast.
      o(A, {
        ...N,
        ref: h
      })
    ) : /* @__PURE__ */ ne.cloneElement(o, {
      ref: h
    })
  });
});
yv.displayName = "TransitionWrapper";
function S_(e) {
  const t = Oe(e);
  return re(() => {
    t.current = e;
  }, [e]), t;
}
function ri(e) {
  const t = S_(e);
  return _e(function(...n) {
    return t.current && t.current(...n);
  }, [t]);
}
const Nl = ((e) => (
  // eslint-disable-next-line react/display-name
  /* @__PURE__ */ U.forwardRef((t, n) => /* @__PURE__ */ l("div", {
    ...t,
    ref: n,
    className: Ee(t.className, e)
  }))
)), bv = Nl("h4");
bv.displayName = "DivStyledAsH4";
const xv = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = bv,
  ...r
}, i) => (t = Re(t, "alert-heading"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
xv.displayName = "AlertHeading";
function Fu() {
  return B(null);
}
function I_(e) {
  const t = Oe(e);
  return re(() => {
    t.current = e;
  }, [e]), t;
}
function tn(e) {
  const t = I_(e);
  return _e(function(...n) {
    return t.current && t.current(...n);
  }, [t]);
}
function __(e, t, n, r = !1) {
  const i = tn(n);
  re(() => {
    const a = typeof e == "function" ? e() : e;
    return a.addEventListener(t, i, r), () => a.removeEventListener(t, i, r);
  }, [e]);
}
function wv() {
  const e = Oe(!0), t = Oe(() => e.current);
  return re(() => (e.current = !0, () => {
    e.current = !1;
  }), []), t.current;
}
function Cv(e) {
  const t = Oe(null);
  return re(() => {
    t.current = e;
  }), t.current;
}
const E_ = typeof global < "u" && // @ts-ignore
global.navigator && // @ts-ignore
global.navigator.product === "ReactNative", k_ = typeof document < "u", Ch = k_ || E_ ? Ad : re, N_ = ["as", "disabled"];
function A_(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
function D_(e) {
  return !e || e.trim() === "#";
}
function Ld({
  tagName: e,
  disabled: t,
  href: n,
  target: r,
  rel: i,
  role: a,
  onClick: s,
  tabIndex: o = 0,
  type: c
}) {
  e || (n != null || r != null || i != null ? e = "a" : e = "button");
  const u = {
    tagName: e
  };
  if (e === "button")
    return [{
      type: c || "button",
      disabled: t
    }, u];
  const f = (g) => {
    if ((t || e === "a" && D_(n)) && g.preventDefault(), t) {
      g.stopPropagation();
      return;
    }
    s?.(g);
  }, p = (g) => {
    g.key === " " && (g.preventDefault(), f(g));
  };
  return e === "a" && (n || (n = "#"), t && (n = void 0)), [{
    role: a ?? "button",
    // explicitly undefined so that it overrides the props disabled in a spread
    // e.g. <Tag {...props} {...hookProps} />
    disabled: void 0,
    tabIndex: t ? void 0 : o,
    href: n,
    target: e === "a" ? r : void 0,
    "aria-disabled": t || void 0,
    rel: e === "a" ? i : void 0,
    onClick: f,
    onKeyDown: p
  }, u];
}
const Vd = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    as: n,
    disabled: r
  } = e, i = A_(e, N_);
  const [a, {
    tagName: s
  }] = Ld(Object.assign({
    tagName: n,
    disabled: r
  }, i));
  return /* @__PURE__ */ l(s, Object.assign({}, i, a, {
    ref: t
  }));
});
Vd.displayName = "Button";
const O_ = ["onKeyDown"];
function M_(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
function R_(e) {
  return !e || e.trim() === "#";
}
const Os = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    onKeyDown: n
  } = e, r = M_(e, O_);
  const [i] = Ld(Object.assign({
    tagName: "a"
  }, r)), a = tn((s) => {
    i.onKeyDown(s), n?.(s);
  });
  return R_(r.href) || r.role === "button" ? /* @__PURE__ */ l("a", Object.assign({
    ref: t
  }, r, i, {
    onKeyDown: a
  })) : /* @__PURE__ */ l("a", Object.assign({
    ref: t
  }, r, {
    onKeyDown: n
  }));
});
Os.displayName = "Anchor";
const Sv = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = Os,
  ...r
}, i) => (t = Re(t, "alert-link"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Sv.displayName = "AlertLink";
const T_ = {
  [Tr]: "show",
  [vi]: "show"
}, ii = /* @__PURE__ */ U.forwardRef(({
  className: e,
  children: t,
  transitionClasses: n = {},
  onEnter: r,
  ...i
}, a) => {
  const s = {
    in: !1,
    timeout: 300,
    mountOnEnter: !1,
    unmountOnExit: !1,
    appear: !1,
    ...i
  }, o = _e((c, u) => {
    w_(c), r?.(c, u);
  }, [r]);
  return /* @__PURE__ */ l(yv, {
    ref: a,
    addEndListener: x_,
    ...s,
    onEnter: o,
    childRef: Ds(t),
    children: (c, u) => /* @__PURE__ */ U.cloneElement(t, {
      ...u,
      className: Ee("fade", e, t.props.className, T_[c], n[c])
    })
  });
});
ii.displayName = "Fade";
const F_ = {
  /** An accessible label indicating the relevant information about the Close Button. */
  "aria-label": de.string,
  /** A callback fired after the Close Button is clicked. */
  onClick: de.func,
  /**
   * Render different color variant for the button.
   *
   * Omitting this will render the default dark color.
   */
  variant: de.oneOf(["white"])
}, Ms = /* @__PURE__ */ U.forwardRef(({
  className: e,
  variant: t,
  "aria-label": n = "Close",
  ...r
}, i) => /* @__PURE__ */ l("button", {
  ref: i,
  type: "button",
  className: Ee("btn-close", t && `btn-close-${t}`, e),
  "aria-label": n,
  ...r
}));
Ms.displayName = "CloseButton";
Ms.propTypes = F_;
const Iv = /* @__PURE__ */ U.forwardRef((e, t) => {
  const {
    bsPrefix: n,
    show: r = !0,
    closeLabel: i = "Close alert",
    closeVariant: a,
    className: s,
    children: o,
    variant: c = "primary",
    onClose: u,
    dismissible: f,
    transition: p = ii,
    ...g
  } = El(e, {
    show: "onClose"
  }), h = Re(n, "alert"), y = ri((w) => {
    u && u(!1, w);
  }), _ = p === !0 ? ii : p, S = /* @__PURE__ */ v("div", {
    role: "alert",
    ..._ ? void 0 : g,
    ref: t,
    className: Ee(s, h, c && `${h}-${c}`, f && `${h}-dismissible`),
    children: [f && /* @__PURE__ */ l(Ms, {
      onClick: y,
      "aria-label": i,
      variant: a
    }), o]
  });
  return _ ? /* @__PURE__ */ l(_, {
    unmountOnExit: !0,
    ...g,
    ref: void 0,
    in: r,
    children: S
  }) : r ? S : null;
});
Iv.displayName = "Alert";
const Rt = Object.assign(Iv, {
  Link: Sv,
  Heading: xv
}), hn = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  bg: t = "primary",
  pill: n = !1,
  text: r,
  className: i,
  as: a = "span",
  ...s
}, o) => {
  const c = Re(e, "badge");
  return /* @__PURE__ */ l(a, {
    ref: o,
    ...s,
    className: Ee(i, c, n && "rounded-pill", r && `text-${r}`, t && `bg-${t}`)
  });
});
hn.displayName = "Badge";
const ce = /* @__PURE__ */ U.forwardRef(({
  as: e,
  bsPrefix: t,
  variant: n = "primary",
  size: r,
  active: i = !1,
  disabled: a = !1,
  className: s,
  ...o
}, c) => {
  const u = Re(t, "btn"), [f, {
    tagName: p
  }] = Ld({
    tagName: e,
    disabled: a,
    ...o
  });
  return /* @__PURE__ */ l(p, {
    ...f,
    ...o,
    ref: c,
    disabled: a,
    className: Ee(s, u, i && "active", n && `${u}-${n}`, r && `${u}-${r}`, o.href && a && "disabled")
  });
});
ce.displayName = "Button";
const _v = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  size: t,
  vertical: n = !1,
  className: r,
  role: i = "group",
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: a = "div",
  ...s
}, o) => {
  const c = Re(e, "btn-group");
  let u = c;
  return n && (u = `${c}-vertical`), /* @__PURE__ */ l(a, {
    ...s,
    ref: o,
    role: i,
    className: Ee(r, u, t && `${c}-${t}`)
  });
});
_v.displayName = "ButtonGroup";
const Bd = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "card-body"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Bd.displayName = "CardBody";
const Ev = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "card-footer"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Ev.displayName = "CardFooter";
const Gd = /* @__PURE__ */ U.createContext(null);
Gd.displayName = "CardHeaderContext";
const kv = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: n = "div",
  ...r
}, i) => {
  const a = Re(e, "card-header"), s = Xe(() => ({
    cardHeaderBsPrefix: a
  }), [a]);
  return /* @__PURE__ */ l(Gd.Provider, {
    value: s,
    children: /* @__PURE__ */ l(n, {
      ref: i,
      ...r,
      className: Ee(t, a)
    })
  });
});
kv.displayName = "CardHeader";
const Nv = /* @__PURE__ */ U.forwardRef(
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  ({
    bsPrefix: e,
    className: t,
    variant: n,
    as: r = "img",
    ...i
  }, a) => {
    const s = Re(e, "card-img");
    return /* @__PURE__ */ l(r, {
      ref: a,
      className: Ee(n ? `${s}-${n}` : s, t),
      ...i
    });
  }
);
Nv.displayName = "CardImg";
const Av = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "card-img-overlay"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Av.displayName = "CardImgOverlay";
const Dv = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "a",
  ...r
}, i) => (t = Re(t, "card-link"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Dv.displayName = "CardLink";
const P_ = Nl("h6"), Ov = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = P_,
  ...r
}, i) => (t = Re(t, "card-subtitle"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Ov.displayName = "CardSubtitle";
const Mv = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "p",
  ...r
}, i) => (t = Re(t, "card-text"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Mv.displayName = "CardText";
const L_ = Nl("h5"), Rv = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = L_,
  ...r
}, i) => (t = Re(t, "card-title"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Rv.displayName = "CardTitle";
const Tv = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  bg: n,
  text: r,
  border: i,
  body: a = !1,
  children: s,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: o = "div",
  ...c
}, u) => {
  const f = Re(e, "card");
  return /* @__PURE__ */ l(o, {
    ref: u,
    ...c,
    className: Ee(t, f, n && `bg-${n}`, r && `text-${r}`, i && `border-${i}`),
    children: a ? /* @__PURE__ */ l(Bd, {
      children: s
    }) : s
  });
});
Tv.displayName = "Card";
const Ze = Object.assign(Tv, {
  Img: Nv,
  Title: Rv,
  Subtitle: Ov,
  Body: Bd,
  Link: Dv,
  Text: Mv,
  Header: kv,
  Footer: Ev,
  ImgOverlay: Av
});
function V_() {
  const e = Oe(!0), t = Oe(() => e.current);
  return re(() => (e.current = !0, () => {
    e.current = !1;
  }), []), t.current;
}
function B_(e) {
  const t = Oe(e);
  return t.current = e, t;
}
function Fv(e) {
  const t = B_(e);
  re(() => () => t.current(), []);
}
const Pu = 2 ** 31 - 1;
function Pv(e, t, n) {
  const r = n - Date.now();
  e.current = r <= Pu ? setTimeout(t, r) : setTimeout(() => Pv(e, t, n), Pu);
}
function Lv() {
  const e = V_(), t = Oe();
  return Fv(() => clearTimeout(t.current)), Xe(() => {
    const n = () => clearTimeout(t.current);
    function r(i, a = 0) {
      e() && (n(), a <= Pu ? t.current = setTimeout(i, a) : Pv(t, i, Date.now() + a));
    }
    return {
      set: r,
      clear: n,
      handleRef: t
    };
  }, []);
}
function G_(e, t) {
  return U.Children.toArray(e).some((n) => /* @__PURE__ */ U.isValidElement(n) && n.type === t);
}
function Y_({
  as: e,
  bsPrefix: t,
  className: n,
  ...r
}) {
  t = Re(t, "col");
  const i = fv(), a = pv(), s = [], o = [];
  return i.forEach((c) => {
    const u = r[c];
    delete r[c];
    let f, p, g;
    typeof u == "object" && u != null ? {
      span: f,
      offset: p,
      order: g
    } = u : f = u;
    const h = c !== a ? `-${c}` : "";
    f && s.push(f === !0 ? `${t}${h}` : `${t}${h}-${f}`), g != null && o.push(`order${h}-${g}`), p != null && o.push(`offset${h}-${p}`);
  }), [{
    ...r,
    className: Ee(n, ...s, ...o)
  }, {
    as: e,
    bsPrefix: t,
    spans: s
  }];
}
const Mt = /* @__PURE__ */ U.forwardRef(
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  (e, t) => {
    const [{
      className: n,
      ...r
    }, {
      as: i = "div",
      bsPrefix: a,
      spans: s
    }] = Y_(e);
    return /* @__PURE__ */ l(i, {
      ...r,
      ref: t,
      className: Ee(n, !s.length && a)
    });
  }
);
Mt.displayName = "Col";
const Fi = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  fluid: t = !1,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: n = "div",
  className: r,
  ...i
}, a) => {
  const s = Re(e, "container"), o = typeof t == "string" ? `-${t}` : "-fluid";
  return /* @__PURE__ */ l(n, {
    ref: a,
    ...i,
    className: Ee(r, t ? `${s}${o}` : s)
  });
});
Fi.displayName = "Container";
var W_ = Function.prototype.bind.call(Function.prototype.call, [].slice);
function Fr(e, t) {
  return W_(e.querySelectorAll(t));
}
function z_(e, t, n) {
  const r = Oe(e !== void 0), [i, a] = B(t), s = e !== void 0, o = r.current;
  return r.current = s, !s && o && i !== t && a(t), [s ? e : i, _e((...c) => {
    const [u, ...f] = c;
    let p = n?.(u, ...f);
    return a(u), p;
  }, [n])];
}
function Vv() {
  const [, e] = Zg((t) => t + 1, 0);
  return e;
}
const Al = /* @__PURE__ */ U.createContext(null);
var Sh = Object.prototype.hasOwnProperty;
function Ih(e, t, n) {
  for (n of e.keys())
    if (rs(n, t)) return n;
}
function rs(e, t) {
  var n, r, i;
  if (e === t) return !0;
  if (e && t && (n = e.constructor) === t.constructor) {
    if (n === Date) return e.getTime() === t.getTime();
    if (n === RegExp) return e.toString() === t.toString();
    if (n === Array) {
      if ((r = e.length) === t.length)
        for (; r-- && rs(e[r], t[r]); ) ;
      return r === -1;
    }
    if (n === Set) {
      if (e.size !== t.size)
        return !1;
      for (r of e)
        if (i = r, i && typeof i == "object" && (i = Ih(t, i), !i) || !t.has(i)) return !1;
      return !0;
    }
    if (n === Map) {
      if (e.size !== t.size)
        return !1;
      for (r of e)
        if (i = r[0], i && typeof i == "object" && (i = Ih(t, i), !i) || !rs(r[1], t.get(i)))
          return !1;
      return !0;
    }
    if (n === ArrayBuffer)
      e = new Uint8Array(e), t = new Uint8Array(t);
    else if (n === DataView) {
      if ((r = e.byteLength) === t.byteLength)
        for (; r-- && e.getInt8(r) === t.getInt8(r); ) ;
      return r === -1;
    }
    if (ArrayBuffer.isView(e)) {
      if ((r = e.byteLength) === t.byteLength)
        for (; r-- && e[r] === t[r]; ) ;
      return r === -1;
    }
    if (!n || typeof e == "object") {
      r = 0;
      for (n in e)
        if (Sh.call(e, n) && ++r && !Sh.call(t, n) || !(n in t) || !rs(e[n], t[n])) return !1;
      return Object.keys(t).length === r;
    }
  }
  return e !== e && t !== t;
}
function H_(e) {
  const t = wv();
  return [e[0], _e((n) => {
    if (t())
      return e[1](n);
  }, [t, e[1]])];
}
var bn = "top", zn = "bottom", Hn = "right", xn = "left", Yd = "auto", Rs = [bn, zn, Hn, xn], ga = "start", fs = "end", j_ = "clippingParents", Bv = "viewport", Ha = "popper", $_ = "reference", _h = /* @__PURE__ */ Rs.reduce(function(e, t) {
  return e.concat([t + "-" + ga, t + "-" + fs]);
}, []), Gv = /* @__PURE__ */ [].concat(Rs, [Yd]).reduce(function(e, t) {
  return e.concat([t, t + "-" + ga, t + "-" + fs]);
}, []), U_ = "beforeRead", X_ = "read", Z_ = "afterRead", q_ = "beforeMain", J_ = "main", Q_ = "afterMain", K_ = "beforeWrite", eE = "write", tE = "afterWrite", nE = [U_, X_, Z_, q_, J_, Q_, K_, eE, tE];
function fr(e) {
  return e.split("-")[0];
}
function Dn(e) {
  if (e == null)
    return window;
  if (e.toString() !== "[object Window]") {
    var t = e.ownerDocument;
    return t && t.defaultView || window;
  }
  return e;
}
function Ai(e) {
  var t = Dn(e).Element;
  return e instanceof t || e instanceof Element;
}
function pr(e) {
  var t = Dn(e).HTMLElement;
  return e instanceof t || e instanceof HTMLElement;
}
function Wd(e) {
  if (typeof ShadowRoot > "u")
    return !1;
  var t = Dn(e).ShadowRoot;
  return e instanceof t || e instanceof ShadowRoot;
}
var Si = Math.max, Zo = Math.min, va = Math.round;
function Lu() {
  var e = navigator.userAgentData;
  return e != null && e.brands && Array.isArray(e.brands) ? e.brands.map(function(t) {
    return t.brand + "/" + t.version;
  }).join(" ") : navigator.userAgent;
}
function Yv() {
  return !/^((?!chrome|android).)*safari/i.test(Lu());
}
function ya(e, t, n) {
  t === void 0 && (t = !1), n === void 0 && (n = !1);
  var r = e.getBoundingClientRect(), i = 1, a = 1;
  t && pr(e) && (i = e.offsetWidth > 0 && va(r.width) / e.offsetWidth || 1, a = e.offsetHeight > 0 && va(r.height) / e.offsetHeight || 1);
  var s = Ai(e) ? Dn(e) : window, o = s.visualViewport, c = !Yv() && n, u = (r.left + (c && o ? o.offsetLeft : 0)) / i, f = (r.top + (c && o ? o.offsetTop : 0)) / a, p = r.width / i, g = r.height / a;
  return {
    width: p,
    height: g,
    top: f,
    right: u + p,
    bottom: f + g,
    left: u,
    x: u,
    y: f
  };
}
function zd(e) {
  var t = ya(e), n = e.offsetWidth, r = e.offsetHeight;
  return Math.abs(t.width - n) <= 1 && (n = t.width), Math.abs(t.height - r) <= 1 && (r = t.height), {
    x: e.offsetLeft,
    y: e.offsetTop,
    width: n,
    height: r
  };
}
function Wv(e, t) {
  var n = t.getRootNode && t.getRootNode();
  if (e.contains(t))
    return !0;
  if (n && Wd(n)) {
    var r = t;
    do {
      if (r && e.isSameNode(r))
        return !0;
      r = r.parentNode || r.host;
    } while (r);
  }
  return !1;
}
function ai(e) {
  return e ? (e.nodeName || "").toLowerCase() : null;
}
function Wr(e) {
  return Dn(e).getComputedStyle(e);
}
function rE(e) {
  return ["table", "td", "th"].indexOf(ai(e)) >= 0;
}
function ci(e) {
  return ((Ai(e) ? e.ownerDocument : (
    // $FlowFixMe[prop-missing]
    e.document
  )) || window.document).documentElement;
}
function Dl(e) {
  return ai(e) === "html" ? e : (
    // this is a quicker (but less type safe) way to save quite some bytes from the bundle
    // $FlowFixMe[incompatible-return]
    // $FlowFixMe[prop-missing]
    e.assignedSlot || // step into the shadow DOM of the parent of a slotted node
    e.parentNode || // DOM Element detected
    (Wd(e) ? e.host : null) || // ShadowRoot detected
    // $FlowFixMe[incompatible-call]: HTMLElement is a Node
    ci(e)
  );
}
function Eh(e) {
  return !pr(e) || // https://github.com/popperjs/popper-core/issues/837
  Wr(e).position === "fixed" ? null : e.offsetParent;
}
function iE(e) {
  var t = /firefox/i.test(Lu()), n = /Trident/i.test(Lu());
  if (n && pr(e)) {
    var r = Wr(e);
    if (r.position === "fixed")
      return null;
  }
  var i = Dl(e);
  for (Wd(i) && (i = i.host); pr(i) && ["html", "body"].indexOf(ai(i)) < 0; ) {
    var a = Wr(i);
    if (a.transform !== "none" || a.perspective !== "none" || a.contain === "paint" || ["transform", "perspective"].indexOf(a.willChange) !== -1 || t && a.willChange === "filter" || t && a.filter && a.filter !== "none")
      return i;
    i = i.parentNode;
  }
  return null;
}
function Ts(e) {
  for (var t = Dn(e), n = Eh(e); n && rE(n) && Wr(n).position === "static"; )
    n = Eh(n);
  return n && (ai(n) === "html" || ai(n) === "body" && Wr(n).position === "static") ? t : n || iE(e) || t;
}
function Hd(e) {
  return ["top", "bottom"].indexOf(e) >= 0 ? "x" : "y";
}
function is(e, t, n) {
  return Si(e, Zo(t, n));
}
function aE(e, t, n) {
  var r = is(e, t, n);
  return r > n ? n : r;
}
function zv() {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
}
function Hv(e) {
  return Object.assign({}, zv(), e);
}
function jv(e, t) {
  return t.reduce(function(n, r) {
    return n[r] = e, n;
  }, {});
}
var sE = function(t, n) {
  return t = typeof t == "function" ? t(Object.assign({}, n.rects, {
    placement: n.placement
  })) : t, Hv(typeof t != "number" ? t : jv(t, Rs));
};
function oE(e) {
  var t, n = e.state, r = e.name, i = e.options, a = n.elements.arrow, s = n.modifiersData.popperOffsets, o = fr(n.placement), c = Hd(o), u = [xn, Hn].indexOf(o) >= 0, f = u ? "height" : "width";
  if (!(!a || !s)) {
    var p = sE(i.padding, n), g = zd(a), h = c === "y" ? bn : xn, y = c === "y" ? zn : Hn, _ = n.rects.reference[f] + n.rects.reference[c] - s[c] - n.rects.popper[f], S = s[c] - n.rects.reference[c], w = Ts(a), I = w ? c === "y" ? w.clientHeight || 0 : w.clientWidth || 0 : 0, b = _ / 2 - S / 2, E = p[h], C = I - g[f] - p[y], A = I / 2 - g[f] / 2 + b, N = is(E, A, C), D = c;
    n.modifiersData[r] = (t = {}, t[D] = N, t.centerOffset = N - A, t);
  }
}
function lE(e) {
  var t = e.state, n = e.options, r = n.element, i = r === void 0 ? "[data-popper-arrow]" : r;
  i != null && (typeof i == "string" && (i = t.elements.popper.querySelector(i), !i) || Wv(t.elements.popper, i) && (t.elements.arrow = i));
}
const cE = {
  name: "arrow",
  enabled: !0,
  phase: "main",
  fn: oE,
  effect: lE,
  requires: ["popperOffsets"],
  requiresIfExists: ["preventOverflow"]
};
function ba(e) {
  return e.split("-")[1];
}
var uE = {
  top: "auto",
  right: "auto",
  bottom: "auto",
  left: "auto"
};
function dE(e, t) {
  var n = e.x, r = e.y, i = t.devicePixelRatio || 1;
  return {
    x: va(n * i) / i || 0,
    y: va(r * i) / i || 0
  };
}
function kh(e) {
  var t, n = e.popper, r = e.popperRect, i = e.placement, a = e.variation, s = e.offsets, o = e.position, c = e.gpuAcceleration, u = e.adaptive, f = e.roundOffsets, p = e.isFixed, g = s.x, h = g === void 0 ? 0 : g, y = s.y, _ = y === void 0 ? 0 : y, S = typeof f == "function" ? f({
    x: h,
    y: _
  }) : {
    x: h,
    y: _
  };
  h = S.x, _ = S.y;
  var w = s.hasOwnProperty("x"), I = s.hasOwnProperty("y"), b = xn, E = bn, C = window;
  if (u) {
    var A = Ts(n), N = "clientHeight", D = "clientWidth";
    if (A === Dn(n) && (A = ci(n), Wr(A).position !== "static" && o === "absolute" && (N = "scrollHeight", D = "scrollWidth")), A = A, i === bn || (i === xn || i === Hn) && a === fs) {
      E = zn;
      var F = p && A === C && C.visualViewport ? C.visualViewport.height : (
        // $FlowFixMe[prop-missing]
        A[N]
      );
      _ -= F - r.height, _ *= c ? 1 : -1;
    }
    if (i === xn || (i === bn || i === zn) && a === fs) {
      b = Hn;
      var P = p && A === C && C.visualViewport ? C.visualViewport.width : (
        // $FlowFixMe[prop-missing]
        A[D]
      );
      h -= P - r.width, h *= c ? 1 : -1;
    }
  }
  var G = Object.assign({
    position: o
  }, u && uE), Y = f === !0 ? dE({
    x: h,
    y: _
  }, Dn(n)) : {
    x: h,
    y: _
  };
  if (h = Y.x, _ = Y.y, c) {
    var z;
    return Object.assign({}, G, (z = {}, z[E] = I ? "0" : "", z[b] = w ? "0" : "", z.transform = (C.devicePixelRatio || 1) <= 1 ? "translate(" + h + "px, " + _ + "px)" : "translate3d(" + h + "px, " + _ + "px, 0)", z));
  }
  return Object.assign({}, G, (t = {}, t[E] = I ? _ + "px" : "", t[b] = w ? h + "px" : "", t.transform = "", t));
}
function fE(e) {
  var t = e.state, n = e.options, r = n.gpuAcceleration, i = r === void 0 ? !0 : r, a = n.adaptive, s = a === void 0 ? !0 : a, o = n.roundOffsets, c = o === void 0 ? !0 : o, u = {
    placement: fr(t.placement),
    variation: ba(t.placement),
    popper: t.elements.popper,
    popperRect: t.rects.popper,
    gpuAcceleration: i,
    isFixed: t.options.strategy === "fixed"
  };
  t.modifiersData.popperOffsets != null && (t.styles.popper = Object.assign({}, t.styles.popper, kh(Object.assign({}, u, {
    offsets: t.modifiersData.popperOffsets,
    position: t.options.strategy,
    adaptive: s,
    roundOffsets: c
  })))), t.modifiersData.arrow != null && (t.styles.arrow = Object.assign({}, t.styles.arrow, kh(Object.assign({}, u, {
    offsets: t.modifiersData.arrow,
    position: "absolute",
    adaptive: !1,
    roundOffsets: c
  })))), t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-placement": t.placement
  });
}
const pE = {
  name: "computeStyles",
  enabled: !0,
  phase: "beforeWrite",
  fn: fE,
  data: {}
};
var mo = {
  passive: !0
};
function hE(e) {
  var t = e.state, n = e.instance, r = e.options, i = r.scroll, a = i === void 0 ? !0 : i, s = r.resize, o = s === void 0 ? !0 : s, c = Dn(t.elements.popper), u = [].concat(t.scrollParents.reference, t.scrollParents.popper);
  return a && u.forEach(function(f) {
    f.addEventListener("scroll", n.update, mo);
  }), o && c.addEventListener("resize", n.update, mo), function() {
    a && u.forEach(function(f) {
      f.removeEventListener("scroll", n.update, mo);
    }), o && c.removeEventListener("resize", n.update, mo);
  };
}
const mE = {
  name: "eventListeners",
  enabled: !0,
  phase: "write",
  fn: function() {
  },
  effect: hE,
  data: {}
};
var gE = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
function Mo(e) {
  return e.replace(/left|right|bottom|top/g, function(t) {
    return gE[t];
  });
}
var vE = {
  start: "end",
  end: "start"
};
function Nh(e) {
  return e.replace(/start|end/g, function(t) {
    return vE[t];
  });
}
function jd(e) {
  var t = Dn(e), n = t.pageXOffset, r = t.pageYOffset;
  return {
    scrollLeft: n,
    scrollTop: r
  };
}
function $d(e) {
  return ya(ci(e)).left + jd(e).scrollLeft;
}
function yE(e, t) {
  var n = Dn(e), r = ci(e), i = n.visualViewport, a = r.clientWidth, s = r.clientHeight, o = 0, c = 0;
  if (i) {
    a = i.width, s = i.height;
    var u = Yv();
    (u || !u && t === "fixed") && (o = i.offsetLeft, c = i.offsetTop);
  }
  return {
    width: a,
    height: s,
    x: o + $d(e),
    y: c
  };
}
function bE(e) {
  var t, n = ci(e), r = jd(e), i = (t = e.ownerDocument) == null ? void 0 : t.body, a = Si(n.scrollWidth, n.clientWidth, i ? i.scrollWidth : 0, i ? i.clientWidth : 0), s = Si(n.scrollHeight, n.clientHeight, i ? i.scrollHeight : 0, i ? i.clientHeight : 0), o = -r.scrollLeft + $d(e), c = -r.scrollTop;
  return Wr(i || n).direction === "rtl" && (o += Si(n.clientWidth, i ? i.clientWidth : 0) - a), {
    width: a,
    height: s,
    x: o,
    y: c
  };
}
function Ud(e) {
  var t = Wr(e), n = t.overflow, r = t.overflowX, i = t.overflowY;
  return /auto|scroll|overlay|hidden/.test(n + i + r);
}
function $v(e) {
  return ["html", "body", "#document"].indexOf(ai(e)) >= 0 ? e.ownerDocument.body : pr(e) && Ud(e) ? e : $v(Dl(e));
}
function as(e, t) {
  var n;
  t === void 0 && (t = []);
  var r = $v(e), i = r === ((n = e.ownerDocument) == null ? void 0 : n.body), a = Dn(r), s = i ? [a].concat(a.visualViewport || [], Ud(r) ? r : []) : r, o = t.concat(s);
  return i ? o : (
    // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here
    o.concat(as(Dl(s)))
  );
}
function Vu(e) {
  return Object.assign({}, e, {
    left: e.x,
    top: e.y,
    right: e.x + e.width,
    bottom: e.y + e.height
  });
}
function xE(e, t) {
  var n = ya(e, !1, t === "fixed");
  return n.top = n.top + e.clientTop, n.left = n.left + e.clientLeft, n.bottom = n.top + e.clientHeight, n.right = n.left + e.clientWidth, n.width = e.clientWidth, n.height = e.clientHeight, n.x = n.left, n.y = n.top, n;
}
function Ah(e, t, n) {
  return t === Bv ? Vu(yE(e, n)) : Ai(t) ? xE(t, n) : Vu(bE(ci(e)));
}
function wE(e) {
  var t = as(Dl(e)), n = ["absolute", "fixed"].indexOf(Wr(e).position) >= 0, r = n && pr(e) ? Ts(e) : e;
  return Ai(r) ? t.filter(function(i) {
    return Ai(i) && Wv(i, r) && ai(i) !== "body";
  }) : [];
}
function CE(e, t, n, r) {
  var i = t === "clippingParents" ? wE(e) : [].concat(t), a = [].concat(i, [n]), s = a[0], o = a.reduce(function(c, u) {
    var f = Ah(e, u, r);
    return c.top = Si(f.top, c.top), c.right = Zo(f.right, c.right), c.bottom = Zo(f.bottom, c.bottom), c.left = Si(f.left, c.left), c;
  }, Ah(e, s, r));
  return o.width = o.right - o.left, o.height = o.bottom - o.top, o.x = o.left, o.y = o.top, o;
}
function Uv(e) {
  var t = e.reference, n = e.element, r = e.placement, i = r ? fr(r) : null, a = r ? ba(r) : null, s = t.x + t.width / 2 - n.width / 2, o = t.y + t.height / 2 - n.height / 2, c;
  switch (i) {
    case bn:
      c = {
        x: s,
        y: t.y - n.height
      };
      break;
    case zn:
      c = {
        x: s,
        y: t.y + t.height
      };
      break;
    case Hn:
      c = {
        x: t.x + t.width,
        y: o
      };
      break;
    case xn:
      c = {
        x: t.x - n.width,
        y: o
      };
      break;
    default:
      c = {
        x: t.x,
        y: t.y
      };
  }
  var u = i ? Hd(i) : null;
  if (u != null) {
    var f = u === "y" ? "height" : "width";
    switch (a) {
      case ga:
        c[u] = c[u] - (t[f] / 2 - n[f] / 2);
        break;
      case fs:
        c[u] = c[u] + (t[f] / 2 - n[f] / 2);
        break;
    }
  }
  return c;
}
function ps(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, i = r === void 0 ? e.placement : r, a = n.strategy, s = a === void 0 ? e.strategy : a, o = n.boundary, c = o === void 0 ? j_ : o, u = n.rootBoundary, f = u === void 0 ? Bv : u, p = n.elementContext, g = p === void 0 ? Ha : p, h = n.altBoundary, y = h === void 0 ? !1 : h, _ = n.padding, S = _ === void 0 ? 0 : _, w = Hv(typeof S != "number" ? S : jv(S, Rs)), I = g === Ha ? $_ : Ha, b = e.rects.popper, E = e.elements[y ? I : g], C = CE(Ai(E) ? E : E.contextElement || ci(e.elements.popper), c, f, s), A = ya(e.elements.reference), N = Uv({
    reference: A,
    element: b,
    placement: i
  }), D = Vu(Object.assign({}, b, N)), F = g === Ha ? D : A, P = {
    top: C.top - F.top + w.top,
    bottom: F.bottom - C.bottom + w.bottom,
    left: C.left - F.left + w.left,
    right: F.right - C.right + w.right
  }, G = e.modifiersData.offset;
  if (g === Ha && G) {
    var Y = G[i];
    Object.keys(P).forEach(function(z) {
      var H = [Hn, zn].indexOf(z) >= 0 ? 1 : -1, L = [bn, zn].indexOf(z) >= 0 ? "y" : "x";
      P[z] += Y[L] * H;
    });
  }
  return P;
}
function SE(e, t) {
  t === void 0 && (t = {});
  var n = t, r = n.placement, i = n.boundary, a = n.rootBoundary, s = n.padding, o = n.flipVariations, c = n.allowedAutoPlacements, u = c === void 0 ? Gv : c, f = ba(r), p = f ? o ? _h : _h.filter(function(y) {
    return ba(y) === f;
  }) : Rs, g = p.filter(function(y) {
    return u.indexOf(y) >= 0;
  });
  g.length === 0 && (g = p);
  var h = g.reduce(function(y, _) {
    return y[_] = ps(e, {
      placement: _,
      boundary: i,
      rootBoundary: a,
      padding: s
    })[fr(_)], y;
  }, {});
  return Object.keys(h).sort(function(y, _) {
    return h[y] - h[_];
  });
}
function IE(e) {
  if (fr(e) === Yd)
    return [];
  var t = Mo(e);
  return [Nh(e), t, Nh(t)];
}
function _E(e) {
  var t = e.state, n = e.options, r = e.name;
  if (!t.modifiersData[r]._skip) {
    for (var i = n.mainAxis, a = i === void 0 ? !0 : i, s = n.altAxis, o = s === void 0 ? !0 : s, c = n.fallbackPlacements, u = n.padding, f = n.boundary, p = n.rootBoundary, g = n.altBoundary, h = n.flipVariations, y = h === void 0 ? !0 : h, _ = n.allowedAutoPlacements, S = t.options.placement, w = fr(S), I = w === S, b = c || (I || !y ? [Mo(S)] : IE(S)), E = [S].concat(b).reduce(function(oe, K) {
      return oe.concat(fr(K) === Yd ? SE(t, {
        placement: K,
        boundary: f,
        rootBoundary: p,
        padding: u,
        flipVariations: y,
        allowedAutoPlacements: _
      }) : K);
    }, []), C = t.rects.reference, A = t.rects.popper, N = /* @__PURE__ */ new Map(), D = !0, F = E[0], P = 0; P < E.length; P++) {
      var G = E[P], Y = fr(G), z = ba(G) === ga, H = [bn, zn].indexOf(Y) >= 0, L = H ? "width" : "height", q = ps(t, {
        placement: G,
        boundary: f,
        rootBoundary: p,
        altBoundary: g,
        padding: u
      }), te = H ? z ? Hn : xn : z ? zn : bn;
      C[L] > A[L] && (te = Mo(te));
      var ge = Mo(te), Ce = [];
      if (a && Ce.push(q[Y] <= 0), o && Ce.push(q[te] <= 0, q[ge] <= 0), Ce.every(function(oe) {
        return oe;
      })) {
        F = G, D = !1;
        break;
      }
      N.set(G, Ce);
    }
    if (D)
      for (var O = y ? 3 : 1, ie = function(K) {
        var fe = E.find(function(Ne) {
          var we = N.get(Ne);
          if (we)
            return we.slice(0, K).every(function(Fe) {
              return Fe;
            });
        });
        if (fe)
          return F = fe, "break";
      }, se = O; se > 0; se--) {
        var R = ie(se);
        if (R === "break") break;
      }
    t.placement !== F && (t.modifiersData[r]._skip = !0, t.placement = F, t.reset = !0);
  }
}
const EE = {
  name: "flip",
  enabled: !0,
  phase: "main",
  fn: _E,
  requiresIfExists: ["offset"],
  data: {
    _skip: !1
  }
};
function Dh(e, t, n) {
  return n === void 0 && (n = {
    x: 0,
    y: 0
  }), {
    top: e.top - t.height - n.y,
    right: e.right - t.width + n.x,
    bottom: e.bottom - t.height + n.y,
    left: e.left - t.width - n.x
  };
}
function Oh(e) {
  return [bn, Hn, zn, xn].some(function(t) {
    return e[t] >= 0;
  });
}
function kE(e) {
  var t = e.state, n = e.name, r = t.rects.reference, i = t.rects.popper, a = t.modifiersData.preventOverflow, s = ps(t, {
    elementContext: "reference"
  }), o = ps(t, {
    altBoundary: !0
  }), c = Dh(s, r), u = Dh(o, i, a), f = Oh(c), p = Oh(u);
  t.modifiersData[n] = {
    referenceClippingOffsets: c,
    popperEscapeOffsets: u,
    isReferenceHidden: f,
    hasPopperEscaped: p
  }, t.attributes.popper = Object.assign({}, t.attributes.popper, {
    "data-popper-reference-hidden": f,
    "data-popper-escaped": p
  });
}
const NE = {
  name: "hide",
  enabled: !0,
  phase: "main",
  requiresIfExists: ["preventOverflow"],
  fn: kE
};
function AE(e, t, n) {
  var r = fr(e), i = [xn, bn].indexOf(r) >= 0 ? -1 : 1, a = typeof n == "function" ? n(Object.assign({}, t, {
    placement: e
  })) : n, s = a[0], o = a[1];
  return s = s || 0, o = (o || 0) * i, [xn, Hn].indexOf(r) >= 0 ? {
    x: o,
    y: s
  } : {
    x: s,
    y: o
  };
}
function DE(e) {
  var t = e.state, n = e.options, r = e.name, i = n.offset, a = i === void 0 ? [0, 0] : i, s = Gv.reduce(function(f, p) {
    return f[p] = AE(p, t.rects, a), f;
  }, {}), o = s[t.placement], c = o.x, u = o.y;
  t.modifiersData.popperOffsets != null && (t.modifiersData.popperOffsets.x += c, t.modifiersData.popperOffsets.y += u), t.modifiersData[r] = s;
}
const OE = {
  name: "offset",
  enabled: !0,
  phase: "main",
  requires: ["popperOffsets"],
  fn: DE
};
function ME(e) {
  var t = e.state, n = e.name;
  t.modifiersData[n] = Uv({
    reference: t.rects.reference,
    element: t.rects.popper,
    placement: t.placement
  });
}
const RE = {
  name: "popperOffsets",
  enabled: !0,
  phase: "read",
  fn: ME,
  data: {}
};
function TE(e) {
  return e === "x" ? "y" : "x";
}
function FE(e) {
  var t = e.state, n = e.options, r = e.name, i = n.mainAxis, a = i === void 0 ? !0 : i, s = n.altAxis, o = s === void 0 ? !1 : s, c = n.boundary, u = n.rootBoundary, f = n.altBoundary, p = n.padding, g = n.tether, h = g === void 0 ? !0 : g, y = n.tetherOffset, _ = y === void 0 ? 0 : y, S = ps(t, {
    boundary: c,
    rootBoundary: u,
    padding: p,
    altBoundary: f
  }), w = fr(t.placement), I = ba(t.placement), b = !I, E = Hd(w), C = TE(E), A = t.modifiersData.popperOffsets, N = t.rects.reference, D = t.rects.popper, F = typeof _ == "function" ? _(Object.assign({}, t.rects, {
    placement: t.placement
  })) : _, P = typeof F == "number" ? {
    mainAxis: F,
    altAxis: F
  } : Object.assign({
    mainAxis: 0,
    altAxis: 0
  }, F), G = t.modifiersData.offset ? t.modifiersData.offset[t.placement] : null, Y = {
    x: 0,
    y: 0
  };
  if (A) {
    if (a) {
      var z, H = E === "y" ? bn : xn, L = E === "y" ? zn : Hn, q = E === "y" ? "height" : "width", te = A[E], ge = te + S[H], Ce = te - S[L], O = h ? -D[q] / 2 : 0, ie = I === ga ? N[q] : D[q], se = I === ga ? -D[q] : -N[q], R = t.elements.arrow, oe = h && R ? zd(R) : {
        width: 0,
        height: 0
      }, K = t.modifiersData["arrow#persistent"] ? t.modifiersData["arrow#persistent"].padding : zv(), fe = K[H], Ne = K[L], we = is(0, N[q], oe[q]), Fe = b ? N[q] / 2 - O - we - fe - P.mainAxis : ie - we - fe - P.mainAxis, Te = b ? -N[q] / 2 + O + we + Ne + P.mainAxis : se + we + Ne + P.mainAxis, He = t.elements.arrow && Ts(t.elements.arrow), ue = He ? E === "y" ? He.clientTop || 0 : He.clientLeft || 0 : 0, rt = (z = G?.[E]) != null ? z : 0, vt = te + Fe - rt - ue, We = te + Te - rt, Bt = is(h ? Zo(ge, vt) : ge, te, h ? Si(Ce, We) : Ce);
      A[E] = Bt, Y[E] = Bt - te;
    }
    if (o) {
      var Et, jt = E === "x" ? bn : xn, Ft = E === "x" ? zn : Hn, qe = A[C], V = C === "y" ? "height" : "width", $ = qe + S[jt], Q = qe - S[Ft], Z = [bn, xn].indexOf(w) !== -1, J = (Et = G?.[C]) != null ? Et : 0, T = Z ? $ : qe - N[V] - D[V] - J + P.altAxis, X = Z ? qe + N[V] + D[V] - J - P.altAxis : Q, le = h && Z ? aE(T, qe, X) : is(h ? T : $, qe, h ? X : Q);
      A[C] = le, Y[C] = le - qe;
    }
    t.modifiersData[r] = Y;
  }
}
const PE = {
  name: "preventOverflow",
  enabled: !0,
  phase: "main",
  fn: FE,
  requiresIfExists: ["offset"]
};
function LE(e) {
  return {
    scrollLeft: e.scrollLeft,
    scrollTop: e.scrollTop
  };
}
function VE(e) {
  return e === Dn(e) || !pr(e) ? jd(e) : LE(e);
}
function BE(e) {
  var t = e.getBoundingClientRect(), n = va(t.width) / e.offsetWidth || 1, r = va(t.height) / e.offsetHeight || 1;
  return n !== 1 || r !== 1;
}
function GE(e, t, n) {
  n === void 0 && (n = !1);
  var r = pr(t), i = pr(t) && BE(t), a = ci(t), s = ya(e, i, n), o = {
    scrollLeft: 0,
    scrollTop: 0
  }, c = {
    x: 0,
    y: 0
  };
  return (r || !r && !n) && ((ai(t) !== "body" || // https://github.com/popperjs/popper-core/issues/1078
  Ud(a)) && (o = VE(t)), pr(t) ? (c = ya(t, !0), c.x += t.clientLeft, c.y += t.clientTop) : a && (c.x = $d(a))), {
    x: s.left + o.scrollLeft - c.x,
    y: s.top + o.scrollTop - c.y,
    width: s.width,
    height: s.height
  };
}
function YE(e) {
  var t = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Set(), r = [];
  e.forEach(function(a) {
    t.set(a.name, a);
  });
  function i(a) {
    n.add(a.name);
    var s = [].concat(a.requires || [], a.requiresIfExists || []);
    s.forEach(function(o) {
      if (!n.has(o)) {
        var c = t.get(o);
        c && i(c);
      }
    }), r.push(a);
  }
  return e.forEach(function(a) {
    n.has(a.name) || i(a);
  }), r;
}
function WE(e) {
  var t = YE(e);
  return nE.reduce(function(n, r) {
    return n.concat(t.filter(function(i) {
      return i.phase === r;
    }));
  }, []);
}
function zE(e) {
  var t;
  return function() {
    return t || (t = new Promise(function(n) {
      Promise.resolve().then(function() {
        t = void 0, n(e());
      });
    })), t;
  };
}
function HE(e) {
  var t = e.reduce(function(n, r) {
    var i = n[r.name];
    return n[r.name] = i ? Object.assign({}, i, r, {
      options: Object.assign({}, i.options, r.options),
      data: Object.assign({}, i.data, r.data)
    }) : r, n;
  }, {});
  return Object.keys(t).map(function(n) {
    return t[n];
  });
}
var Mh = {
  placement: "bottom",
  modifiers: [],
  strategy: "absolute"
};
function Rh() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return !t.some(function(r) {
    return !(r && typeof r.getBoundingClientRect == "function");
  });
}
function jE(e) {
  e === void 0 && (e = {});
  var t = e, n = t.defaultModifiers, r = n === void 0 ? [] : n, i = t.defaultOptions, a = i === void 0 ? Mh : i;
  return function(o, c, u) {
    u === void 0 && (u = a);
    var f = {
      placement: "bottom",
      orderedModifiers: [],
      options: Object.assign({}, Mh, a),
      modifiersData: {},
      elements: {
        reference: o,
        popper: c
      },
      attributes: {},
      styles: {}
    }, p = [], g = !1, h = {
      state: f,
      setOptions: function(w) {
        var I = typeof w == "function" ? w(f.options) : w;
        _(), f.options = Object.assign({}, a, f.options, I), f.scrollParents = {
          reference: Ai(o) ? as(o) : o.contextElement ? as(o.contextElement) : [],
          popper: as(c)
        };
        var b = WE(HE([].concat(r, f.options.modifiers)));
        return f.orderedModifiers = b.filter(function(E) {
          return E.enabled;
        }), y(), h.update();
      },
      // Sync update â€“ it will always be executed, even if not necessary. This
      // is useful for low frequency updates where sync behavior simplifies the
      // logic.
      // For high frequency updates (e.g. `resize` and `scroll` events), always
      // prefer the async Popper#update method
      forceUpdate: function() {
        if (!g) {
          var w = f.elements, I = w.reference, b = w.popper;
          if (Rh(I, b)) {
            f.rects = {
              reference: GE(I, Ts(b), f.options.strategy === "fixed"),
              popper: zd(b)
            }, f.reset = !1, f.placement = f.options.placement, f.orderedModifiers.forEach(function(P) {
              return f.modifiersData[P.name] = Object.assign({}, P.data);
            });
            for (var E = 0; E < f.orderedModifiers.length; E++) {
              if (f.reset === !0) {
                f.reset = !1, E = -1;
                continue;
              }
              var C = f.orderedModifiers[E], A = C.fn, N = C.options, D = N === void 0 ? {} : N, F = C.name;
              typeof A == "function" && (f = A({
                state: f,
                options: D,
                name: F,
                instance: h
              }) || f);
            }
          }
        }
      },
      // Async and optimistically optimized update â€“ it will not be executed if
      // not necessary (debounced to run at most once-per-tick)
      update: zE(function() {
        return new Promise(function(S) {
          h.forceUpdate(), S(f);
        });
      }),
      destroy: function() {
        _(), g = !0;
      }
    };
    if (!Rh(o, c))
      return h;
    h.setOptions(u).then(function(S) {
      !g && u.onFirstUpdate && u.onFirstUpdate(S);
    });
    function y() {
      f.orderedModifiers.forEach(function(S) {
        var w = S.name, I = S.options, b = I === void 0 ? {} : I, E = S.effect;
        if (typeof E == "function") {
          var C = E({
            state: f,
            name: w,
            instance: h,
            options: b
          }), A = function() {
          };
          p.push(C || A);
        }
      });
    }
    function _() {
      p.forEach(function(S) {
        return S();
      }), p = [];
    }
    return h;
  };
}
const $E = jE({
  defaultModifiers: [NE, RE, pE, mE, OE, EE, PE, cE]
}), UE = ["enabled", "placement", "strategy", "modifiers"];
function XE(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
const ZE = {
  name: "applyStyles",
  enabled: !1,
  phase: "afterWrite",
  fn: () => {
  }
}, qE = {
  name: "ariaDescribedBy",
  enabled: !0,
  phase: "afterWrite",
  effect: ({
    state: e
  }) => () => {
    const {
      reference: t,
      popper: n
    } = e.elements;
    if ("removeAttribute" in t) {
      const r = (t.getAttribute("aria-describedby") || "").split(",").filter((i) => i.trim() !== n.id);
      r.length ? t.setAttribute("aria-describedby", r.join(",")) : t.removeAttribute("aria-describedby");
    }
  },
  fn: ({
    state: e
  }) => {
    var t;
    const {
      popper: n,
      reference: r
    } = e.elements, i = (t = n.getAttribute("role")) == null ? void 0 : t.toLowerCase();
    if (n.id && i === "tooltip" && "setAttribute" in r) {
      const a = r.getAttribute("aria-describedby");
      if (a && a.split(",").indexOf(n.id) !== -1)
        return;
      r.setAttribute("aria-describedby", a ? `${a},${n.id}` : n.id);
    }
  }
}, JE = [];
function Xv(e, t, n = {}) {
  let {
    enabled: r = !0,
    placement: i = "bottom",
    strategy: a = "absolute",
    modifiers: s = JE
  } = n, o = XE(n, UE);
  const c = Oe(s), u = Oe(), f = _e(() => {
    var S;
    (S = u.current) == null || S.update();
  }, []), p = _e(() => {
    var S;
    (S = u.current) == null || S.forceUpdate();
  }, []), [g, h] = H_(B({
    placement: i,
    update: f,
    forceUpdate: p,
    attributes: {},
    styles: {
      popper: {},
      arrow: {}
    }
  })), y = Xe(() => ({
    name: "updateStateModifier",
    enabled: !0,
    phase: "write",
    requires: ["computeStyles"],
    fn: ({
      state: S
    }) => {
      const w = {}, I = {};
      Object.keys(S.elements).forEach((b) => {
        w[b] = S.styles[b], I[b] = S.attributes[b];
      }), h({
        state: S,
        styles: w,
        attributes: I,
        update: f,
        forceUpdate: p,
        placement: S.placement
      });
    }
  }), [f, p, h]), _ = Xe(() => (rs(c.current, s) || (c.current = s), c.current), [s]);
  return re(() => {
    !u.current || !r || u.current.setOptions({
      placement: i,
      strategy: a,
      modifiers: [..._, y, ZE]
    });
  }, [a, i, y, r, _]), re(() => {
    if (!(!r || e == null || t == null))
      return u.current = $E(e, t, Object.assign({}, o, {
        placement: i,
        strategy: a,
        modifiers: [..._, qE, y]
      })), () => {
        u.current != null && (u.current.destroy(), u.current = void 0, h((S) => Object.assign({}, S, {
          attributes: {},
          styles: {
            popper: {}
          }
        })));
      };
  }, [r, e, t]), g;
}
function hs(e, t) {
  if (e.contains) return e.contains(t);
  if (e.compareDocumentPosition) return e === t || !!(e.compareDocumentPosition(t) & 16);
}
var Gc, Th;
function QE() {
  if (Th) return Gc;
  Th = 1;
  var e = process.env.NODE_ENV !== "production", t = function() {
  };
  if (e) {
    var n = function(i, a) {
      var s = arguments.length;
      a = new Array(s > 1 ? s - 1 : 0);
      for (var o = 1; o < s; o++)
        a[o - 1] = arguments[o];
      var c = 0, u = "Warning: " + i.replace(/%s/g, function() {
        return a[c++];
      });
      typeof console < "u" && console.error(u);
      try {
        throw new Error(u);
      } catch {
      }
    };
    t = function(r, i, a) {
      var s = arguments.length;
      a = new Array(s > 2 ? s - 2 : 0);
      for (var o = 2; o < s; o++)
        a[o - 2] = arguments[o];
      if (i === void 0)
        throw new Error(
          "`warning(condition, format, ...args)` requires a warning message argument"
        );
      r || n.apply(null, [i].concat(a));
    };
  }
  return Gc = t, Gc;
}
var KE = QE();
const Pi = /* @__PURE__ */ li(KE), Fh = () => {
};
function ek(e) {
  return e.button === 0;
}
function tk(e) {
  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);
}
const Ro = (e) => e && ("current" in e ? e.current : e), Ph = {
  click: "mousedown",
  mouseup: "mousedown",
  pointerup: "pointerdown"
};
function Zv(e, t = Fh, {
  disabled: n,
  clickTrigger: r = "click"
} = {}) {
  const i = Oe(!1), a = Oe(!1), s = _e((u) => {
    const f = Ro(e);
    Pi(!!f, "ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"), i.current = !f || tk(u) || !ek(u) || !!hs(f, u.target) || a.current, a.current = !1;
  }, [e]), o = tn((u) => {
    const f = Ro(e);
    f && hs(f, u.target) ? a.current = !0 : a.current = !1;
  }), c = tn((u) => {
    i.current || t(u);
  });
  re(() => {
    var u, f;
    if (n || e == null) return;
    const p = _a(Ro(e)), g = p.defaultView || window;
    let h = (u = g.event) != null ? u : (f = g.parent) == null ? void 0 : f.event, y = null;
    Ph[r] && (y = Lr(p, Ph[r], o, !0));
    const _ = Lr(p, r, s, !0), S = Lr(p, r, (I) => {
      if (I === h) {
        h = void 0;
        return;
      }
      c(I);
    });
    let w = [];
    return "ontouchstart" in p.documentElement && (w = [].slice.call(p.body.children).map((I) => Lr(I, "mousemove", Fh))), () => {
      y?.(), _(), S(), w.forEach((I) => I());
    };
  }, [e, n, r, s, o, c]);
}
function nk(e) {
  const t = {};
  return Array.isArray(e) ? (e?.forEach((n) => {
    t[n.name] = n;
  }), t) : e || t;
}
function rk(e = {}) {
  return Array.isArray(e) ? e : Object.keys(e).map((t) => (e[t].name = t, e[t]));
}
function qv({
  enabled: e,
  enableEvents: t,
  placement: n,
  flip: r,
  offset: i,
  fixed: a,
  containerPadding: s,
  arrowElement: o,
  popperConfig: c = {}
}) {
  var u, f, p, g, h;
  const y = nk(c.modifiers);
  return Object.assign({}, c, {
    placement: n,
    enabled: e,
    strategy: a ? "fixed" : c.strategy,
    modifiers: rk(Object.assign({}, y, {
      eventListeners: {
        enabled: t,
        options: (u = y.eventListeners) == null ? void 0 : u.options
      },
      preventOverflow: Object.assign({}, y.preventOverflow, {
        options: s ? Object.assign({
          padding: s
        }, (f = y.preventOverflow) == null ? void 0 : f.options) : (p = y.preventOverflow) == null ? void 0 : p.options
      }),
      offset: {
        options: Object.assign({
          offset: i
        }, (g = y.offset) == null ? void 0 : g.options)
      },
      arrow: Object.assign({}, y.arrow, {
        enabled: !!o,
        options: Object.assign({}, (h = y.arrow) == null ? void 0 : h.options, {
          element: o
        })
      }),
      flip: Object.assign({
        enabled: !!r
      }, y.flip)
    }))
  });
}
const ik = ["children", "usePopper"];
function ak(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
const sk = () => {
};
function Jv(e = {}) {
  const t = ke(Al), [n, r] = Fu(), i = Oe(!1), {
    flip: a,
    offset: s,
    rootCloseEvent: o,
    fixed: c = !1,
    placement: u,
    popperConfig: f = {},
    enableEventListeners: p = !0,
    usePopper: g = !!t
  } = e, h = t?.show == null ? !!e.show : t.show;
  h && !i.current && (i.current = !0);
  const y = (A) => {
    t?.toggle(!1, A);
  }, {
    placement: _,
    setMenu: S,
    menuElement: w,
    toggleElement: I
  } = t || {}, b = Xv(I, w, qv({
    placement: u || _ || "bottom-start",
    enabled: g,
    enableEvents: p ?? h,
    offset: s,
    flip: a,
    fixed: c,
    arrowElement: n,
    popperConfig: f
  })), E = Object.assign({
    ref: S || sk,
    "aria-labelledby": I?.id
  }, b.attributes.popper, {
    style: b.styles.popper
  }), C = {
    show: h,
    placement: _,
    hasShown: i.current,
    toggle: t?.toggle,
    popper: g ? b : null,
    arrowProps: g ? Object.assign({
      ref: r
    }, b.attributes.arrow, {
      style: b.styles.arrow
    }) : {}
  };
  return Zv(w, y, {
    clickTrigger: o,
    disabled: !h
  }), [E, C];
}
function Qv(e) {
  let {
    children: t,
    usePopper: n = !0
  } = e, r = ak(e, ik);
  const [i, a] = Jv(Object.assign({}, r, {
    usePopper: n
  }));
  return /* @__PURE__ */ l(ve, {
    children: t(i, a)
  });
}
Qv.displayName = "DropdownMenu";
const qo = {
  prefix: String(Math.round(Math.random() * 1e10)),
  current: 0
}, Kv = /* @__PURE__ */ ne.createContext(qo), ok = /* @__PURE__ */ ne.createContext(!1);
let lk = !!(typeof window < "u" && window.document && window.document.createElement), Yc = /* @__PURE__ */ new WeakMap();
function ck(e = !1) {
  let t = ke(Kv), n = Oe(null);
  if (n.current === null && !e) {
    var r, i;
    let a = (i = ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) === null || i === void 0 || (r = i.ReactCurrentOwner) === null || r === void 0 ? void 0 : r.current;
    if (a) {
      let s = Yc.get(a);
      s == null ? Yc.set(a, {
        id: t.current,
        state: a.memoizedState
      }) : a.memoizedState !== s.state && (t.current = s.id, Yc.delete(a));
    }
    n.current = ++t.current;
  }
  return n.current;
}
function uk(e) {
  let t = ke(Kv);
  t === qo && !lk && process.env.NODE_ENV !== "production" && console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");
  let n = ck(!!e), r = t === qo && process.env.NODE_ENV === "test" ? "react-aria" : `react-aria${t.prefix}`;
  return e || `${r}-${n}`;
}
function dk(e) {
  let t = ne.useId(), [n] = B(gk()), r = n || process.env.NODE_ENV === "test" ? "react-aria" : `react-aria${qo.prefix}`;
  return e || `${r}-${t}`;
}
const fk = typeof ne.useId == "function" ? dk : uk;
function pk() {
  return !1;
}
function hk() {
  return !0;
}
function mk(e) {
  return () => {
  };
}
function gk() {
  return typeof ne.useSyncExternalStore == "function" ? ne.useSyncExternalStore(mk, pk, hk) : ke(ok);
}
const ey = (e) => {
  var t;
  return ((t = e.getAttribute("role")) == null ? void 0 : t.toLowerCase()) === "menu";
}, Lh = () => {
};
function ty() {
  const e = fk(), {
    show: t = !1,
    toggle: n = Lh,
    setToggle: r,
    menuElement: i
  } = ke(Al) || {}, a = _e((o) => {
    n(!t, o);
  }, [t, n]), s = {
    id: e,
    ref: r || Lh,
    onClick: a,
    "aria-expanded": !!t
  };
  return i && ey(i) && (s["aria-haspopup"] = !0), [s, {
    show: t,
    toggle: n
  }];
}
function ny({
  children: e
}) {
  const [t, n] = ty();
  return /* @__PURE__ */ l(ve, {
    children: e(t, n)
  });
}
ny.displayName = "DropdownToggle";
const xa = /* @__PURE__ */ U.createContext(null), wa = (e, t = null) => e != null ? String(e) : t || null, Ol = /* @__PURE__ */ U.createContext(null);
Ol.displayName = "NavContext";
const vk = "data-rr-ui-", yk = "rrUi";
function ka(e) {
  return `${vk}${e}`;
}
function bk(e) {
  return `${yk}${e}`;
}
const xk = ["eventKey", "disabled", "onClick", "active", "as"];
function wk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
function ry({
  key: e,
  href: t,
  active: n,
  disabled: r,
  onClick: i
}) {
  const a = ke(xa), s = ke(Ol), {
    activeKey: o
  } = s || {}, c = wa(e, t), u = n == null && e != null ? wa(o) === c : n;
  return [{
    onClick: tn((p) => {
      r || (i?.(p), a && !p.isPropagationStopped() && a(c, p));
    }),
    "aria-disabled": r || void 0,
    "aria-selected": u,
    [ka("dropdown-item")]: ""
  }, {
    isActive: u
  }];
}
const iy = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    eventKey: n,
    disabled: r,
    onClick: i,
    active: a,
    as: s = Vd
  } = e, o = wk(e, xk);
  const [c] = ry({
    key: n,
    href: o.href,
    disabled: r,
    onClick: i,
    active: a
  });
  return /* @__PURE__ */ l(s, Object.assign({}, o, {
    ref: t
  }, c));
});
iy.displayName = "DropdownItem";
const ay = /* @__PURE__ */ vr(Ea ? window : void 0);
ay.Provider;
function Ml() {
  return ke(ay);
}
function Vh() {
  const e = Vv(), t = Oe(null), n = _e((r) => {
    t.current = r, e();
  }, [e]);
  return [t, n];
}
function Fs({
  defaultShow: e,
  show: t,
  onSelect: n,
  onToggle: r,
  itemSelector: i = `* [${ka("dropdown-item")}]`,
  focusFirstItemOnShow: a,
  placement: s = "bottom-start",
  children: o
}) {
  const c = Ml(), [u, f] = z_(t, e, r), [p, g] = Vh(), h = p.current, [y, _] = Vh(), S = y.current, w = Cv(u), I = Oe(null), b = Oe(!1), E = ke(xa), C = _e((G, Y, z = Y?.type) => {
    f(G, {
      originalEvent: Y,
      source: z
    });
  }, [f]), A = tn((G, Y) => {
    n?.(G, Y), C(!1, Y, "select"), Y.isPropagationStopped() || E?.(G, Y);
  }), N = Xe(() => ({
    toggle: C,
    placement: s,
    show: u,
    menuElement: h,
    toggleElement: S,
    setMenu: g,
    setToggle: _
  }), [C, s, u, h, S, g, _]);
  h && w && !u && (b.current = h.contains(h.ownerDocument.activeElement));
  const D = tn(() => {
    S && S.focus && S.focus();
  }), F = tn(() => {
    const G = I.current;
    let Y = a;
    if (Y == null && (Y = p.current && ey(p.current) ? "keyboard" : !1), Y === !1 || Y === "keyboard" && !/^key.+$/.test(G))
      return;
    const z = Fr(p.current, i)[0];
    z && z.focus && z.focus();
  });
  re(() => {
    u ? F() : b.current && (b.current = !1, D());
  }, [u, b, D, F]), re(() => {
    I.current = null;
  });
  const P = (G, Y) => {
    if (!p.current) return null;
    const z = Fr(p.current, i);
    let H = z.indexOf(G) + Y;
    return H = Math.max(0, Math.min(H, z.length)), z[H];
  };
  return __(_e(() => c.document, [c]), "keydown", (G) => {
    var Y, z;
    const {
      key: H
    } = G, L = G.target, q = (Y = p.current) == null ? void 0 : Y.contains(L), te = (z = y.current) == null ? void 0 : z.contains(L);
    if (/input|textarea/i.test(L.tagName) && (H === " " || H !== "Escape" && q || H === "Escape" && L.type === "search") || !q && !te || H === "Tab" && (!p.current || !u))
      return;
    I.current = G.type;
    const Ce = {
      originalEvent: G,
      source: G.type
    };
    switch (H) {
      case "ArrowUp": {
        const O = P(L, -1);
        O && O.focus && O.focus(), G.preventDefault();
        return;
      }
      case "ArrowDown":
        if (G.preventDefault(), !u)
          f(!0, Ce);
        else {
          const O = P(L, 1);
          O && O.focus && O.focus();
        }
        return;
      case "Tab":
        Pd(L.ownerDocument, "keyup", (O) => {
          var ie;
          (O.key === "Tab" && !O.target || !((ie = p.current) != null && ie.contains(O.target))) && f(!1, Ce);
        }, {
          once: !0
        });
        break;
      case "Escape":
        H === "Escape" && (G.preventDefault(), G.stopPropagation()), f(!1, Ce);
        break;
    }
  }), /* @__PURE__ */ l(xa.Provider, {
    value: A,
    children: /* @__PURE__ */ l(Al.Provider, {
      value: N,
      children: o
    })
  });
}
Fs.displayName = "Dropdown";
Fs.Menu = Qv;
Fs.Toggle = ny;
Fs.Item = iy;
const Xd = /* @__PURE__ */ U.createContext({});
Xd.displayName = "DropdownContext";
const sy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "hr",
  role: r = "separator",
  ...i
}, a) => (t = Re(t, "dropdown-divider"), /* @__PURE__ */ l(n, {
  ref: a,
  className: Ee(e, t),
  role: r,
  ...i
})));
sy.displayName = "DropdownDivider";
const oy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  role: r = "heading",
  ...i
}, a) => (t = Re(t, "dropdown-header"), /* @__PURE__ */ l(n, {
  ref: a,
  className: Ee(e, t),
  role: r,
  ...i
})));
oy.displayName = "DropdownHeader";
const ly = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  eventKey: n,
  disabled: r = !1,
  onClick: i,
  active: a,
  as: s = Os,
  ...o
}, c) => {
  const u = Re(e, "dropdown-item"), [f, p] = ry({
    key: n,
    href: o.href,
    disabled: r,
    onClick: i,
    active: a
  });
  return /* @__PURE__ */ l(s, {
    ...o,
    ...f,
    ref: c,
    className: Ee(t, u, p.isActive && "active", r && "disabled")
  });
});
ly.displayName = "DropdownItem";
const cy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "span",
  ...r
}, i) => (t = Re(t, "dropdown-item-text"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
cy.displayName = "DropdownItemText";
const Ck = typeof global < "u" && // @ts-ignore
global.navigator && // @ts-ignore
global.navigator.product === "ReactNative", Sk = typeof document < "u", uy = Sk || Ck ? Ad : re, Rl = /* @__PURE__ */ U.createContext(null);
Rl.displayName = "InputGroupContext";
const Zd = /* @__PURE__ */ U.createContext(null);
Zd.displayName = "NavbarContext";
function dy(e, t) {
  if (process.env.NODE_ENV === "production") return e;
  const n = _e((r) => {
    r == null || !r.isReactComponent || (process.env.NODE_ENV !== "production" ? oh(!1, `${t} injected a ref to a provided \`as\` component that resolved to a component instance instead of a DOM element. Use \`React.forwardRef\` to provide the injected ref to the class component as a prop in order to pass it directly to a DOM element`) : oh(!1));
  }, [t]);
  return Ti(n, e);
}
const Zi = de.oneOf(["start", "end"]), Ik = de.oneOfType([Zi, de.shape({
  sm: Zi
}), de.shape({
  md: Zi
}), de.shape({
  lg: Zi
}), de.shape({
  xl: Zi
}), de.shape({
  xxl: Zi
}), de.object]);
function fy(e, t, n) {
  const r = n ? "top-end" : "top-start", i = n ? "top-start" : "top-end", a = n ? "bottom-end" : "bottom-start", s = n ? "bottom-start" : "bottom-end", o = n ? "right-start" : "left-start", c = n ? "right-end" : "left-end", u = n ? "left-start" : "right-start", f = n ? "left-end" : "right-end";
  let p = e ? s : a;
  return t === "up" ? p = e ? i : r : t === "end" ? p = e ? f : u : t === "start" ? p = e ? c : o : t === "down-centered" ? p = "bottom" : t === "up-centered" && (p = "top"), p;
}
const qd = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  align: n,
  rootCloseEvent: r,
  flip: i = !0,
  show: a,
  renderOnMount: s,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: o = "div",
  popperConfig: c,
  variant: u,
  ...f
}, p) => {
  let g = !1;
  const h = ke(Zd), y = Re(e, "dropdown-menu"), {
    align: _,
    drop: S,
    isRTL: w
  } = ke(Xd);
  n = n || _;
  const I = ke(Rl), b = [];
  if (n)
    if (typeof n == "object") {
      const G = Object.keys(n);
      if (process.env.NODE_ENV !== "production" && Pi(G.length === 1, "There should only be 1 breakpoint when passing an object to `align`"), G.length) {
        const Y = G[0], z = n[Y];
        g = z === "start", b.push(`${y}-${Y}-${z}`);
      }
    } else n === "end" && (g = !0);
  const E = fy(g, S, w), [C, {
    hasShown: A,
    popper: N,
    show: D,
    toggle: F
  }] = Jv({
    flip: i,
    rootCloseEvent: r,
    show: a,
    usePopper: !h && b.length === 0,
    offset: [0, 2],
    popperConfig: c,
    placement: E
  });
  if (C.ref = Ti(dy(p, "DropdownMenu"), C.ref), uy(() => {
    D && N?.update();
  }, [D]), !A && !s && !I) return null;
  typeof o != "string" && (C.show = D, C.close = () => F?.(!1), C.align = n);
  let P = f.style;
  return N != null && N.placement && (P = {
    ...f.style,
    ...C.style
  }, f["x-placement"] = N.placement), /* @__PURE__ */ l(o, {
    ...f,
    ...C,
    style: P,
    ...(b.length || h) && {
      "data-bs-popper": "static"
    },
    className: Ee(t, y, D && "show", g && `${y}-end`, u && `${y}-${u}`, ...b)
  });
});
qd.displayName = "DropdownMenu";
const Jd = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  split: t,
  className: n,
  childBsPrefix: r,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: i = ce,
  ...a
}, s) => {
  const o = Re(e, "dropdown-toggle"), c = ke(Al);
  r !== void 0 && (a.bsPrefix = r);
  const [u] = ty();
  return u.ref = Ti(u.ref, dy(s, "DropdownToggle")), /* @__PURE__ */ l(i, {
    className: Ee(n, o, t && `${o}-split`, c?.show && "show"),
    ...u,
    ...a
  });
});
Jd.displayName = "DropdownToggle";
const py = /* @__PURE__ */ U.forwardRef((e, t) => {
  const {
    bsPrefix: n,
    drop: r = "down",
    show: i,
    className: a,
    align: s = "start",
    onSelect: o,
    onToggle: c,
    focusFirstItemOnShow: u,
    // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
    as: f = "div",
    navbar: p,
    autoClose: g = !0,
    ...h
  } = El(e, {
    show: "onToggle"
  }), y = ke(Rl), _ = Re(n, "dropdown"), S = kl(), w = (N) => g === !1 ? N === "click" : g === "inside" ? N !== "rootClose" : g === "outside" ? N !== "select" : !0, I = ri((N, D) => {
    var F;
    !((F = D.originalEvent) == null || (F = F.target) == null) && F.classList.contains("dropdown-toggle") && D.source === "mousedown" || (D.originalEvent.currentTarget === document && (D.source !== "keydown" || D.originalEvent.key === "Escape") && (D.source = "rootClose"), w(D.source) && c?.(N, D));
  }), E = fy(s === "end", r, S), C = Xe(() => ({
    align: s,
    drop: r,
    isRTL: S
  }), [s, r, S]), A = {
    down: _,
    "down-centered": `${_}-center`,
    up: "dropup",
    "up-centered": "dropup-center dropup",
    end: "dropend",
    start: "dropstart"
  };
  return /* @__PURE__ */ l(Xd.Provider, {
    value: C,
    children: /* @__PURE__ */ l(Fs, {
      placement: E,
      show: i,
      onSelect: o,
      onToggle: I,
      focusFirstItemOnShow: u,
      itemSelector: `.${_}-item:not(.disabled):not(:disabled)`,
      children: y ? h.children : /* @__PURE__ */ l(f, {
        ...h,
        ref: t,
        className: Ee(a, i && "show", A[r])
      })
    })
  });
});
py.displayName = "Dropdown";
const je = Object.assign(py, {
  Toggle: Jd,
  Menu: qd,
  Item: ly,
  ItemText: cy,
  Divider: sy,
  Header: oy
}), _k = {
  /**
   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.
   * @type {string}
   */
  id: de.string,
  /** An `href` passed to the Toggle component */
  href: de.string,
  /** An `onClick` handler passed to the Toggle component */
  onClick: de.func,
  /** The content of the non-toggle Button.  */
  title: de.node.isRequired,
  /** Disables both Buttons  */
  disabled: de.bool,
  /**
   * Aligns the dropdown menu.
   *
   * _see [DropdownMenu](#dropdown-menu-props) for more details_
   *
   * @type {"start"|"end"|{ sm: "start"|"end" }|{ md: "start"|"end" }|{ lg: "start"|"end" }|{ xl: "start"|"end"}|{ xxl: "start"|"end"} }
   */
  align: Ik,
  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */
  menuRole: de.string,
  /** Whether to render the dropdown menu in the DOM before the first time it is shown */
  renderMenuOnMount: de.bool,
  /**
   *  Which event when fired outside the component will cause it to be closed.
   *
   * _see [DropdownMenu](#dropdown-menu-props) for more details_
   */
  rootCloseEvent: de.string,
  /**
   * Menu color variant.
   *
   * Omitting this will use the default light color.
   */
  menuVariant: de.oneOf(["dark"]),
  /**
   * Allow Dropdown to flip in case of an overlapping on the reference element. For more information refer to
   * Popper.js's flip [docs](https://popper.js.org/docs/v2/modifiers/flip/).
   *
   */
  flip: de.bool,
  /** @ignore */
  bsPrefix: de.string,
  /** @ignore */
  variant: de.string,
  /** @ignore */
  size: de.string
}, Ps = /* @__PURE__ */ U.forwardRef(({
  title: e,
  children: t,
  bsPrefix: n,
  rootCloseEvent: r,
  variant: i,
  size: a,
  menuRole: s,
  renderMenuOnMount: o,
  disabled: c,
  href: u,
  id: f,
  menuVariant: p,
  flip: g,
  ...h
}, y) => /* @__PURE__ */ v(je, {
  ref: y,
  ...h,
  children: [/* @__PURE__ */ l(Jd, {
    id: f,
    href: u,
    size: a,
    variant: i,
    disabled: c,
    childBsPrefix: n,
    children: e
  }), /* @__PURE__ */ l(qd, {
    role: s,
    renderOnMount: o,
    rootCloseEvent: r,
    variant: p,
    flip: g,
    children: t
  })]
}));
Ps.displayName = "DropdownButton";
Ps.propTypes = _k;
const Ek = {
  /**
   * Specify whether the feedback is for valid or invalid fields
   *
   * @type {('valid'|'invalid')}
   */
  type: de.string,
  /** Display feedback as a tooltip. */
  tooltip: de.bool,
  as: de.elementType
}, Tl = /* @__PURE__ */ U.forwardRef(
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  ({
    as: e = "div",
    className: t,
    type: n = "valid",
    tooltip: r = !1,
    ...i
  }, a) => /* @__PURE__ */ l(e, {
    ...i,
    ref: a,
    className: Ee(t, `${n}-${r ? "tooltip" : "feedback"}`)
  })
);
Tl.displayName = "Feedback";
Tl.propTypes = Ek;
const zr = /* @__PURE__ */ U.createContext({}), Ls = /* @__PURE__ */ U.forwardRef(({
  id: e,
  bsPrefix: t,
  className: n,
  type: r = "checkbox",
  isValid: i = !1,
  isInvalid: a = !1,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: s = "input",
  ...o
}, c) => {
  const {
    controlId: u
  } = ke(zr);
  return t = Re(t, "form-check-input"), /* @__PURE__ */ l(s, {
    ...o,
    ref: c,
    type: r,
    id: e || u,
    className: Ee(n, t, i && "is-valid", a && "is-invalid")
  });
});
Ls.displayName = "FormCheckInput";
const Jo = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  htmlFor: n,
  ...r
}, i) => {
  const {
    controlId: a
  } = ke(zr);
  return e = Re(e, "form-check-label"), /* @__PURE__ */ l("label", {
    ...r,
    ref: i,
    htmlFor: n || a,
    className: Ee(t, e)
  });
});
Jo.displayName = "FormCheckLabel";
const hy = /* @__PURE__ */ U.forwardRef(({
  id: e,
  bsPrefix: t,
  bsSwitchPrefix: n,
  inline: r = !1,
  reverse: i = !1,
  disabled: a = !1,
  isValid: s = !1,
  isInvalid: o = !1,
  feedbackTooltip: c = !1,
  feedback: u,
  feedbackType: f,
  className: p,
  style: g,
  title: h = "",
  type: y = "checkbox",
  label: _,
  children: S,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: w = "input",
  ...I
}, b) => {
  t = Re(t, "form-check"), n = Re(n, "form-switch");
  const {
    controlId: E
  } = ke(zr), C = Xe(() => ({
    controlId: e || E
  }), [E, e]), A = !S && _ != null && _ !== !1 || G_(S, Jo), N = /* @__PURE__ */ l(Ls, {
    ...I,
    type: y === "switch" ? "checkbox" : y,
    ref: b,
    isValid: s,
    isInvalid: o,
    disabled: a,
    as: w
  });
  return /* @__PURE__ */ l(zr.Provider, {
    value: C,
    children: /* @__PURE__ */ l("div", {
      style: g,
      className: Ee(p, A && t, r && `${t}-inline`, i && `${t}-reverse`, y === "switch" && n),
      children: S || /* @__PURE__ */ v(ve, {
        children: [N, A && /* @__PURE__ */ l(Jo, {
          title: h,
          children: _
        }), u && /* @__PURE__ */ l(Tl, {
          type: f,
          tooltip: c,
          children: u
        })]
      })
    })
  });
});
hy.displayName = "FormCheck";
const Qo = Object.assign(hy, {
  Input: Ls,
  Label: Jo
}), my = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  type: t,
  size: n,
  htmlSize: r,
  id: i,
  className: a,
  isValid: s = !1,
  isInvalid: o = !1,
  plaintext: c,
  readOnly: u,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: f = "input",
  ...p
}, g) => {
  const {
    controlId: h
  } = ke(zr);
  return e = Re(e, "form-control"), process.env.NODE_ENV !== "production" && Pi(h == null || !i, "`controlId` is ignored on `<FormControl>` when `id` is specified."), /* @__PURE__ */ l(f, {
    ...p,
    type: t,
    size: r,
    ref: g,
    readOnly: u,
    id: i || h,
    className: Ee(a, c ? `${e}-plaintext` : e, n && `${e}-${n}`, t === "color" && `${e}-color`, s && "is-valid", o && "is-invalid")
  });
});
my.displayName = "FormControl";
const kk = Object.assign(my, {
  Feedback: Tl
}), gy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "form-floating"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
gy.displayName = "FormFloating";
const Qd = /* @__PURE__ */ U.forwardRef(({
  controlId: e,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: t = "div",
  ...n
}, r) => {
  const i = Xe(() => ({
    controlId: e
  }), [e]);
  return /* @__PURE__ */ l(zr.Provider, {
    value: i,
    children: /* @__PURE__ */ l(t, {
      ...n,
      ref: r
    })
  });
});
Qd.displayName = "FormGroup";
const vy = /* @__PURE__ */ U.forwardRef(({
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: e = "label",
  bsPrefix: t,
  column: n = !1,
  visuallyHidden: r = !1,
  className: i,
  htmlFor: a,
  ...s
}, o) => {
  const {
    controlId: c
  } = ke(zr);
  t = Re(t, "form-label");
  let u = "col-form-label";
  typeof n == "string" && (u = `${u} ${u}-${n}`);
  const f = Ee(i, t, r && "visually-hidden", n && u);
  return process.env.NODE_ENV !== "production" && Pi(c == null || !a, "`controlId` is ignored on `<FormLabel>` when `htmlFor` is specified."), a = a || c, n ? /* @__PURE__ */ l(Mt, {
    ref: o,
    as: "label",
    className: f,
    htmlFor: a,
    ...s
  }) : /* @__PURE__ */ l(e, {
    ref: o,
    className: f,
    htmlFor: a,
    ...s
  });
});
vy.displayName = "FormLabel";
const yy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  id: n,
  ...r
}, i) => {
  const {
    controlId: a
  } = ke(zr);
  return e = Re(e, "form-range"), /* @__PURE__ */ l("input", {
    ...r,
    type: "range",
    ref: i,
    className: Ee(t, e),
    id: n || a
  });
});
yy.displayName = "FormRange";
const by = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  size: t,
  htmlSize: n,
  className: r,
  isValid: i = !1,
  isInvalid: a = !1,
  id: s,
  ...o
}, c) => {
  const {
    controlId: u
  } = ke(zr);
  return e = Re(e, "form-select"), /* @__PURE__ */ l("select", {
    ...o,
    size: n,
    ref: c,
    className: Ee(r, e, t && `${e}-${t}`, i && "is-valid", a && "is-invalid"),
    id: s || u
  });
});
by.displayName = "FormSelect";
const xy = /* @__PURE__ */ U.forwardRef(
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  ({
    bsPrefix: e,
    className: t,
    as: n = "small",
    muted: r,
    ...i
  }, a) => (e = Re(e, "form-text"), /* @__PURE__ */ l(n, {
    ...i,
    ref: a,
    className: Ee(t, e, r && "text-muted")
  }))
);
xy.displayName = "FormText";
const wy = /* @__PURE__ */ U.forwardRef((e, t) => /* @__PURE__ */ l(Qo, {
  ...e,
  ref: t,
  type: "switch"
}));
wy.displayName = "Switch";
const Nk = Object.assign(wy, {
  Input: Qo.Input,
  Label: Qo.Label
}), Cy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  children: n,
  controlId: r,
  label: i,
  ...a
}, s) => (e = Re(e, "form-floating"), /* @__PURE__ */ v(Qd, {
  ref: s,
  className: Ee(t, e),
  controlId: r,
  ...a,
  children: [n, /* @__PURE__ */ l("label", {
    htmlFor: r,
    children: i
  })]
})));
Cy.displayName = "FloatingLabel";
const Ak = {
  /**
   * The Form `ref` will be forwarded to the underlying element,
   * which means, unless it's rendered `as` a composite component,
   * it will be a DOM node, when resolved.
   *
   * @type {ReactRef}
   * @alias ref
   */
  _ref: de.any,
  /**
   * Mark a form as having been validated. Setting it to `true` will
   * toggle any validation styles on the forms elements.
   */
  validated: de.bool,
  as: de.elementType
}, Kd = /* @__PURE__ */ U.forwardRef(({
  className: e,
  validated: t,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: n = "form",
  ...r
}, i) => /* @__PURE__ */ l(n, {
  ...r,
  ref: i,
  className: Ee(e, t && "was-validated")
}));
Kd.displayName = "Form";
Kd.propTypes = Ak;
const j = Object.assign(Kd, {
  Group: Qd,
  Control: kk,
  Floating: gy,
  Check: Qo,
  Switch: Nk,
  Label: vy,
  Text: xy,
  Range: yy,
  Select: by,
  FloatingLabel: Cy
}), Fl = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "span",
  ...r
}, i) => (t = Re(t, "input-group-text"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Fl.displayName = "InputGroupText";
const Dk = (e) => /* @__PURE__ */ l(Fl, {
  children: /* @__PURE__ */ l(Ls, {
    type: "checkbox",
    ...e
  })
}), Ok = (e) => /* @__PURE__ */ l(Fl, {
  children: /* @__PURE__ */ l(Ls, {
    type: "radio",
    ...e
  })
}), Sy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  size: t,
  hasValidation: n,
  className: r,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: i = "div",
  ...a
}, s) => {
  e = Re(e, "input-group");
  const o = Xe(() => ({}), []);
  return /* @__PURE__ */ l(Rl.Provider, {
    value: o,
    children: /* @__PURE__ */ l(i, {
      ref: s,
      ...a,
      className: Ee(r, e, t && `${e}-${t}`, n && "has-validation")
    })
  });
});
Sy.displayName = "InputGroup";
const ln = Object.assign(Sy, {
  Text: Fl,
  Radio: Ok,
  Checkbox: Dk
}), Bh = (e) => !e || typeof e == "function" ? e : (t) => {
  e.current = t;
};
function Mk(e, t) {
  const n = Bh(e), r = Bh(t);
  return (i) => {
    n && n(i), r && r(i);
  };
}
function Vs(e, t) {
  return Xe(() => Mk(e, t), [e, t]);
}
const Iy = /* @__PURE__ */ U.createContext(null), Rk = ["as", "active", "eventKey"];
function Tk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
function ef({
  key: e,
  onClick: t,
  active: n,
  id: r,
  role: i,
  disabled: a
}) {
  const s = ke(xa), o = ke(Ol), c = ke(Iy);
  let u = n;
  const f = {
    role: i
  };
  if (o) {
    !i && o.role === "tablist" && (f.role = "tab");
    const p = o.getControllerId(e ?? null), g = o.getControlledId(e ?? null);
    f[ka("event-key")] = e, f.id = p || r, u = n == null && e != null ? o.activeKey === e : n, (u || !(c != null && c.unmountOnExit) && !(c != null && c.mountOnEnter)) && (f["aria-controls"] = g);
  }
  return f.role === "tab" && (f["aria-selected"] = u, u || (f.tabIndex = -1), a && (f.tabIndex = -1, f["aria-disabled"] = !0)), f.onClick = tn((p) => {
    a || (t?.(p), e != null && s && !p.isPropagationStopped() && s(e, p));
  }), [f, {
    isActive: u
  }];
}
const _y = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    as: n = Vd,
    active: r,
    eventKey: i
  } = e, a = Tk(e, Rk);
  const [s, o] = ef(Object.assign({
    key: wa(i, a.href),
    active: r
  }, a));
  return s[ka("active")] = o.isActive, /* @__PURE__ */ l(n, Object.assign({}, a, s, {
    ref: t
  }));
});
_y.displayName = "NavItem";
const Fk = ["as", "onSelect", "activeKey", "role", "onKeyDown"];
function Pk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
const Gh = () => {
}, Yh = ka("event-key"), Ey = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
    as: n = "div",
    onSelect: r,
    activeKey: i,
    role: a,
    onKeyDown: s
  } = e, o = Pk(e, Fk);
  const c = Vv(), u = Oe(!1), f = ke(xa), p = ke(Iy);
  let g, h;
  p && (a = a || "tablist", i = p.activeKey, g = p.getControlledId, h = p.getControllerId);
  const y = Oe(null), _ = (b) => {
    const E = y.current;
    if (!E) return null;
    const C = Fr(E, `[${Yh}]:not([aria-disabled=true])`), A = E.querySelector("[aria-selected=true]");
    if (!A || A !== document.activeElement) return null;
    const N = C.indexOf(A);
    if (N === -1) return null;
    let D = N + b;
    return D >= C.length && (D = 0), D < 0 && (D = C.length - 1), C[D];
  }, S = (b, E) => {
    b != null && (r?.(b, E), f?.(b, E));
  }, w = (b) => {
    if (s?.(b), !p)
      return;
    let E;
    switch (b.key) {
      case "ArrowLeft":
      case "ArrowUp":
        E = _(-1);
        break;
      case "ArrowRight":
      case "ArrowDown":
        E = _(1);
        break;
      default:
        return;
    }
    E && (b.preventDefault(), S(E.dataset[bk("EventKey")] || null, b), u.current = !0, c());
  };
  re(() => {
    if (y.current && u.current) {
      const b = y.current.querySelector(`[${Yh}][aria-selected=true]`);
      b?.focus();
    }
    u.current = !1;
  });
  const I = Vs(t, y);
  return /* @__PURE__ */ l(xa.Provider, {
    value: S,
    children: /* @__PURE__ */ l(Ol.Provider, {
      value: {
        role: a,
        // used by NavLink to determine it's role
        activeKey: wa(i),
        getControlledId: g || Gh,
        getControllerId: h || Gh
      },
      children: /* @__PURE__ */ l(n, Object.assign({}, o, {
        onKeyDown: w,
        ref: I,
        role: a
      }))
    })
  });
});
Ey.displayName = "Nav";
const ky = Object.assign(Ey, {
  Item: _y
}), Ny = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  active: t,
  disabled: n,
  eventKey: r,
  className: i,
  variant: a,
  action: s,
  as: o,
  ...c
}, u) => {
  e = Re(e, "list-group-item");
  const [f, p] = ef({
    key: wa(r, c.href),
    active: t,
    ...c
  }), g = ri((y) => {
    if (n) {
      y.preventDefault(), y.stopPropagation();
      return;
    }
    f.onClick(y);
  });
  n && c.tabIndex === void 0 && (c.tabIndex = -1, c["aria-disabled"] = !0);
  const h = o || (s ? c.href ? "a" : "button" : "div");
  return process.env.NODE_ENV !== "production" && Pi(o || !(!s && c.href), "`action=false` and `href` should not be used together."), /* @__PURE__ */ l(h, {
    ref: u,
    ...c,
    ...f,
    onClick: g,
    className: Ee(i, e, p.isActive && "active", n && "disabled", a && `${e}-${a}`, s && `${e}-action`)
  });
});
Ny.displayName = "ListGroupItem";
const Ay = /* @__PURE__ */ U.forwardRef((e, t) => {
  const {
    className: n,
    bsPrefix: r,
    variant: i,
    horizontal: a,
    numbered: s,
    // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
    as: o = "div",
    ...c
  } = El(e, {
    activeKey: "onSelect"
  }), u = Re(r, "list-group");
  let f;
  return a && (f = a === !0 ? "horizontal" : `horizontal-${a}`), process.env.NODE_ENV !== "production" && Pi(!(a && i === "flush"), '`variant="flush"` and `horizontal` should not be used together.'), /* @__PURE__ */ l(ky, {
    ref: t,
    ...c,
    as: o,
    className: Ee(n, u, i && `${u}-${i}`, f && `${u}-${f}`, s && `${u}-numbered`)
  });
});
Ay.displayName = "ListGroup";
const kn = Object.assign(Ay, {
  Item: Ny
});
var go;
function Wh(e) {
  if ((!go && go !== 0 || e) && Ea) {
    var t = document.createElement("div");
    t.style.position = "absolute", t.style.top = "-9999px", t.style.width = "50px", t.style.height = "50px", t.style.overflow = "scroll", document.body.appendChild(t), go = t.offsetWidth - t.clientWidth, document.body.removeChild(t);
  }
  return go;
}
function Lk() {
  return B(null);
}
function Wc(e) {
  e === void 0 && (e = _a());
  try {
    var t = e.activeElement;
    return !t || !t.nodeName ? null : t;
  } catch {
    return e.body;
  }
}
function Vk(e) {
  const t = Oe(e);
  return t.current = e, t;
}
function Bk(e) {
  const t = Vk(e);
  re(() => () => t.current(), []);
}
function Gk(e = document) {
  const t = e.defaultView;
  return Math.abs(t.innerWidth - e.documentElement.clientWidth);
}
const zh = ka("modal-open");
class tf {
  constructor({
    ownerDocument: t,
    handleContainerOverflow: n = !0,
    isRTL: r = !1
  } = {}) {
    this.handleContainerOverflow = n, this.isRTL = r, this.modals = [], this.ownerDocument = t;
  }
  getScrollbarWidth() {
    return Gk(this.ownerDocument);
  }
  getElement() {
    return (this.ownerDocument || document).body;
  }
  setModalAttributes(t) {
  }
  removeModalAttributes(t) {
  }
  setContainerStyle(t) {
    const n = {
      overflow: "hidden"
    }, r = this.isRTL ? "paddingLeft" : "paddingRight", i = this.getElement();
    t.style = {
      overflow: i.style.overflow,
      [r]: i.style[r]
    }, t.scrollBarWidth && (n[r] = `${parseInt(Ci(i, r) || "0", 10) + t.scrollBarWidth}px`), i.setAttribute(zh, ""), Ci(i, n);
  }
  reset() {
    [...this.modals].forEach((t) => this.remove(t));
  }
  removeContainerStyle(t) {
    const n = this.getElement();
    n.removeAttribute(zh), Object.assign(n.style, t.style);
  }
  add(t) {
    let n = this.modals.indexOf(t);
    return n !== -1 || (n = this.modals.length, this.modals.push(t), this.setModalAttributes(t), n !== 0) || (this.state = {
      scrollBarWidth: this.getScrollbarWidth(),
      style: {}
    }, this.handleContainerOverflow && this.setContainerStyle(this.state)), n;
  }
  remove(t) {
    const n = this.modals.indexOf(t);
    n !== -1 && (this.modals.splice(n, 1), !this.modals.length && this.handleContainerOverflow && this.removeContainerStyle(this.state), this.removeModalAttributes(t));
  }
  isTopModal(t) {
    return !!this.modals.length && this.modals[this.modals.length - 1] === t;
  }
}
const zc = (e, t) => Ea ? e == null ? (t || _a()).body : (typeof e == "function" && (e = e()), e && "current" in e && (e = e.current), e && ("nodeType" in e || e.getBoundingClientRect) ? e : null) : null;
function Bu(e, t) {
  const n = Ml(), [r, i] = B(() => zc(e, n?.document));
  if (!r) {
    const a = zc(e);
    a && i(a);
  }
  return re(() => {
  }, [t, r]), re(() => {
    const a = zc(e);
    a !== r && i(a);
  }, [e, r]), r;
}
function Yk({
  children: e,
  in: t,
  onExited: n,
  mountOnEnter: r,
  unmountOnExit: i
}) {
  const a = Oe(null), s = Oe(t), o = tn(n);
  re(() => {
    t ? s.current = !0 : o(a.current);
  }, [t, o]);
  const c = Vs(a, Ds(e)), u = /* @__PURE__ */ Cl(e, {
    ref: c
  });
  return t ? u : i || !s.current && r ? null : u;
}
const Wk = ["onEnter", "onEntering", "onEntered", "onExit", "onExiting", "onExited", "addEndListener", "children"];
function zk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
function Hk(e) {
  let {
    onEnter: t,
    onEntering: n,
    onEntered: r,
    onExit: i,
    onExiting: a,
    onExited: s,
    addEndListener: o,
    children: c
  } = e, u = zk(e, Wk);
  const f = Oe(null), p = Vs(f, Ds(c)), g = (E) => (C) => {
    E && f.current && E(f.current, C);
  }, h = _e(g(t), [t]), y = _e(g(n), [n]), _ = _e(g(r), [r]), S = _e(g(i), [i]), w = _e(g(a), [a]), I = _e(g(s), [s]), b = _e(g(o), [o]);
  return Object.assign({}, u, {
    nodeRef: f
  }, t && {
    onEnter: h
  }, n && {
    onEntering: y
  }, r && {
    onEntered: _
  }, i && {
    onExit: S
  }, a && {
    onExiting: w
  }, s && {
    onExited: I
  }, o && {
    addEndListener: b
  }, {
    children: typeof c == "function" ? (E, C) => (
      // TODO: Types for RTG missing innerProps, so need to cast.
      c(E, Object.assign({}, C, {
        ref: p
      }))
    ) : /* @__PURE__ */ Cl(c, {
      ref: p
    })
  });
}
const jk = ["component"];
function $k(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
const Uk = /* @__PURE__ */ U.forwardRef((e, t) => {
  let {
    component: n
  } = e, r = $k(e, jk);
  const i = Hk(r);
  return /* @__PURE__ */ l(n, Object.assign({
    ref: t
  }, i));
});
function Xk({
  in: e,
  onTransition: t
}) {
  const n = Oe(null), r = Oe(!0), i = tn(t);
  return Ch(() => {
    if (!n.current)
      return;
    let a = !1;
    return i({
      in: e,
      element: n.current,
      initial: r.current,
      isStale: () => a
    }), () => {
      a = !0;
    };
  }, [e, i]), Ch(() => (r.current = !1, () => {
    r.current = !0;
  }), []), n;
}
function Zk({
  children: e,
  in: t,
  onExited: n,
  onEntered: r,
  transition: i
}) {
  const [a, s] = B(!t);
  t && a && s(!1);
  const o = Xk({
    in: !!t,
    onTransition: (u) => {
      const f = () => {
        u.isStale() || (u.in ? r?.(u.element, u.initial) : (s(!0), n?.(u.element)));
      };
      Promise.resolve(i(u)).then(f, (p) => {
        throw u.in || s(!0), p;
      });
    }
  }), c = Vs(o, Ds(e));
  return a && !t ? null : /* @__PURE__ */ Cl(e, {
    ref: c
  });
}
function Gu(e, t, n) {
  return e ? /* @__PURE__ */ l(Uk, Object.assign({}, n, {
    component: e
  })) : t ? /* @__PURE__ */ l(Zk, Object.assign({}, n, {
    transition: t
  })) : /* @__PURE__ */ l(Yk, Object.assign({}, n));
}
const qk = ["show", "role", "className", "style", "children", "backdrop", "keyboard", "onBackdropClick", "onEscapeKeyDown", "transition", "runTransition", "backdropTransition", "runBackdropTransition", "autoFocus", "enforceFocus", "restoreFocus", "restoreFocusOptions", "renderDialog", "renderBackdrop", "manager", "container", "onShow", "onHide", "onExit", "onExited", "onExiting", "onEnter", "onEntering", "onEntered"];
function Jk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var r in e) if ({}.hasOwnProperty.call(e, r)) {
    if (t.indexOf(r) >= 0) continue;
    n[r] = e[r];
  }
  return n;
}
let Hc;
function Qk(e) {
  return Hc || (Hc = new tf({
    ownerDocument: e?.document
  })), Hc;
}
function Kk(e) {
  const t = Ml(), n = e || Qk(t), r = Oe({
    dialog: null,
    backdrop: null
  });
  return Object.assign(r.current, {
    add: () => n.add(r.current),
    remove: () => n.remove(r.current),
    isTopModal: () => n.isTopModal(r.current),
    setDialogRef: _e((i) => {
      r.current.dialog = i;
    }, []),
    setBackdropRef: _e((i) => {
      r.current.backdrop = i;
    }, [])
  });
}
const Dy = /* @__PURE__ */ _s((e, t) => {
  let {
    show: n = !1,
    role: r = "dialog",
    className: i,
    style: a,
    children: s,
    backdrop: o = !0,
    keyboard: c = !0,
    onBackdropClick: u,
    onEscapeKeyDown: f,
    transition: p,
    runTransition: g,
    backdropTransition: h,
    runBackdropTransition: y,
    autoFocus: _ = !0,
    enforceFocus: S = !0,
    restoreFocus: w = !0,
    restoreFocusOptions: I,
    renderDialog: b,
    renderBackdrop: E = (We) => /* @__PURE__ */ l("div", Object.assign({}, We)),
    manager: C,
    container: A,
    onShow: N,
    onHide: D = () => {
    },
    onExit: F,
    onExited: P,
    onExiting: G,
    onEnter: Y,
    onEntering: z,
    onEntered: H
  } = e, L = Jk(e, qk);
  const q = Ml(), te = Bu(A), ge = Kk(C), Ce = wv(), O = Cv(n), [ie, se] = B(!n), R = Oe(null);
  qg(t, () => ge, [ge]), Ea && !O && n && (R.current = Wc(q?.document)), n && ie && se(!1);
  const oe = tn(() => {
    if (ge.add(), Te.current = Lr(document, "keydown", we), Fe.current = Lr(
      document,
      "focus",
      // the timeout is necessary b/c this will run before the new modal is mounted
      // and so steals focus from it
      () => setTimeout(fe),
      !0
    ), N && N(), _) {
      var We, Bt;
      const Et = Wc((We = (Bt = ge.dialog) == null ? void 0 : Bt.ownerDocument) != null ? We : q?.document);
      ge.dialog && Et && !hs(ge.dialog, Et) && (R.current = Et, ge.dialog.focus());
    }
  }), K = tn(() => {
    if (ge.remove(), Te.current == null || Te.current(), Fe.current == null || Fe.current(), w) {
      var We;
      (We = R.current) == null || We.focus == null || We.focus(I), R.current = null;
    }
  });
  re(() => {
    !n || !te || oe();
  }, [
    n,
    te,
    /* should never change: */
    oe
  ]), re(() => {
    ie && K();
  }, [ie, K]), Bk(() => {
    K();
  });
  const fe = tn(() => {
    if (!S || !Ce() || !ge.isTopModal())
      return;
    const We = Wc(q?.document);
    ge.dialog && We && !hs(ge.dialog, We) && ge.dialog.focus();
  }), Ne = tn((We) => {
    We.target === We.currentTarget && (u?.(We), o === !0 && D());
  }), we = tn((We) => {
    c && gv(We) && ge.isTopModal() && (f?.(We), We.defaultPrevented || D());
  }), Fe = Oe(), Te = Oe(), He = (...We) => {
    se(!0), P?.(...We);
  };
  if (!te)
    return null;
  const ue = Object.assign({
    role: r,
    ref: ge.setDialogRef,
    // apparently only works on the dialog role element
    "aria-modal": r === "dialog" ? !0 : void 0
  }, L, {
    style: a,
    className: i,
    tabIndex: -1
  });
  let rt = b ? b(ue) : /* @__PURE__ */ l("div", Object.assign({}, ue, {
    children: /* @__PURE__ */ U.cloneElement(s, {
      role: "document"
    })
  }));
  rt = Gu(p, g, {
    unmountOnExit: !0,
    mountOnEnter: !0,
    appear: !0,
    in: !!n,
    onExit: F,
    onExiting: G,
    onExited: He,
    onEnter: Y,
    onEntering: z,
    onEntered: H,
    children: rt
  });
  let vt = null;
  return o && (vt = E({
    ref: ge.setBackdropRef,
    onClick: Ne
  }), vt = Gu(h, y, {
    in: !!n,
    appear: !0,
    mountOnEnter: !0,
    unmountOnExit: !0,
    children: vt
  })), /* @__PURE__ */ l(ve, {
    children: /* @__PURE__ */ bi.createPortal(/* @__PURE__ */ v(ve, {
      children: [vt, rt]
    }), te)
  });
});
Dy.displayName = "Modal";
const eN = Object.assign(Dy, {
  Manager: tf
});
function Yu(e, t) {
  return e.classList ? !!t && e.classList.contains(t) : (" " + (e.className.baseVal || e.className) + " ").indexOf(" " + t + " ") !== -1;
}
function tN(e, t) {
  e.classList ? e.classList.add(t) : Yu(e, t) || (typeof e.className == "string" ? e.className = e.className + " " + t : e.setAttribute("class", (e.className && e.className.baseVal || "") + " " + t));
}
function Hh(e, t) {
  return e.replace(new RegExp("(^|\\s)" + t + "(?:\\s|$)", "g"), "$1").replace(/\s+/g, " ").replace(/^\s*|\s*$/g, "");
}
function nN(e, t) {
  e.classList ? e.classList.remove(t) : typeof e.className == "string" ? e.className = Hh(e.className, t) : e.setAttribute("class", Hh(e.className && e.className.baseVal || "", t));
}
const qi = {
  FIXED_CONTENT: ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",
  STICKY_CONTENT: ".sticky-top",
  NAVBAR_TOGGLER: ".navbar-toggler"
};
class rN extends tf {
  adjustAndStore(t, n, r) {
    const i = n.style[t];
    n.dataset[t] = i, Ci(n, {
      [t]: `${parseFloat(Ci(n, t)) + r}px`
    });
  }
  restore(t, n) {
    const r = n.dataset[t];
    r !== void 0 && (delete n.dataset[t], Ci(n, {
      [t]: r
    }));
  }
  setContainerStyle(t) {
    super.setContainerStyle(t);
    const n = this.getElement();
    if (tN(n, "modal-open"), !t.scrollBarWidth) return;
    const r = this.isRTL ? "paddingLeft" : "paddingRight", i = this.isRTL ? "marginLeft" : "marginRight";
    Fr(n, qi.FIXED_CONTENT).forEach((a) => this.adjustAndStore(r, a, t.scrollBarWidth)), Fr(n, qi.STICKY_CONTENT).forEach((a) => this.adjustAndStore(i, a, -t.scrollBarWidth)), Fr(n, qi.NAVBAR_TOGGLER).forEach((a) => this.adjustAndStore(i, a, t.scrollBarWidth));
  }
  removeContainerStyle(t) {
    super.removeContainerStyle(t);
    const n = this.getElement();
    nN(n, "modal-open");
    const r = this.isRTL ? "paddingLeft" : "paddingRight", i = this.isRTL ? "marginLeft" : "marginRight";
    Fr(n, qi.FIXED_CONTENT).forEach((a) => this.restore(r, a)), Fr(n, qi.STICKY_CONTENT).forEach((a) => this.restore(i, a)), Fr(n, qi.NAVBAR_TOGGLER).forEach((a) => this.restore(i, a));
  }
}
let jc;
function iN(e) {
  return jc || (jc = new rN(e)), jc;
}
const Oy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "modal-body"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Oy.displayName = "ModalBody";
const My = /* @__PURE__ */ U.createContext({
  onHide() {
  }
}), nf = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  contentClassName: n,
  centered: r,
  size: i,
  fullscreen: a,
  children: s,
  scrollable: o,
  ...c
}, u) => {
  e = Re(e, "modal");
  const f = `${e}-dialog`, p = typeof a == "string" ? `${e}-fullscreen-${a}` : `${e}-fullscreen`;
  return /* @__PURE__ */ l("div", {
    ...c,
    ref: u,
    className: Ee(f, t, i && `${e}-${i}`, r && `${f}-centered`, o && `${f}-scrollable`, a && p),
    children: /* @__PURE__ */ l("div", {
      className: Ee(`${e}-content`, n),
      children: s
    })
  });
});
nf.displayName = "ModalDialog";
const Ry = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "modal-footer"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Ry.displayName = "ModalFooter";
const Ty = /* @__PURE__ */ U.forwardRef(({
  closeLabel: e = "Close",
  closeVariant: t,
  closeButton: n = !1,
  onHide: r,
  children: i,
  ...a
}, s) => {
  const o = ke(My), c = ri(() => {
    o?.onHide(), r?.();
  });
  return /* @__PURE__ */ v("div", {
    ref: s,
    ...a,
    children: [i, n && /* @__PURE__ */ l(Ms, {
      "aria-label": e,
      variant: t,
      onClick: c
    })]
  });
});
Ty.displayName = "AbstractModalHeader";
const Fy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  closeLabel: n = "Close",
  closeButton: r = !1,
  ...i
}, a) => (e = Re(e, "modal-header"), /* @__PURE__ */ l(Ty, {
  ref: a,
  ...i,
  className: Ee(t, e),
  closeLabel: n,
  closeButton: r
})));
Fy.displayName = "ModalHeader";
const aN = Nl("h4"), Py = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = aN,
  ...r
}, i) => (t = Re(t, "modal-title"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Py.displayName = "ModalTitle";
function sN(e) {
  return /* @__PURE__ */ l(ii, {
    ...e,
    timeout: null
  });
}
function oN(e) {
  return /* @__PURE__ */ l(ii, {
    ...e,
    timeout: null
  });
}
const Ly = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  style: n,
  dialogClassName: r,
  contentClassName: i,
  children: a,
  dialogAs: s = nf,
  "data-bs-theme": o,
  "aria-labelledby": c,
  "aria-describedby": u,
  "aria-label": f,
  /* BaseModal props */
  show: p = !1,
  animation: g = !0,
  backdrop: h = !0,
  keyboard: y = !0,
  onEscapeKeyDown: _,
  onShow: S,
  onHide: w,
  container: I,
  autoFocus: b = !0,
  enforceFocus: E = !0,
  restoreFocus: C = !0,
  restoreFocusOptions: A,
  onEntered: N,
  onExit: D,
  onExiting: F,
  onEnter: P,
  onEntering: G,
  onExited: Y,
  backdropClassName: z,
  manager: H,
  ...L
}, q) => {
  const [te, ge] = B({}), [Ce, O] = B(!1), ie = Oe(!1), se = Oe(!1), R = Oe(null), [oe, K] = Lk(), fe = Ti(q, K), Ne = ri(w), we = kl();
  e = Re(e, "modal");
  const Fe = Xe(() => ({
    onHide: Ne
  }), [Ne]);
  function Te() {
    return H || iN({
      isRTL: we
    });
  }
  function He(T) {
    if (!Ea) return;
    const X = Te().getScrollbarWidth() > 0, le = T.scrollHeight > _a(T).documentElement.clientHeight;
    ge({
      paddingRight: X && !le ? Wh() : void 0,
      paddingLeft: !X && le ? Wh() : void 0
    });
  }
  const ue = ri(() => {
    oe && He(oe.dialog);
  });
  Fv(() => {
    Tu(window, "resize", ue), R.current == null || R.current();
  });
  const rt = () => {
    ie.current = !0;
  }, vt = (T) => {
    ie.current && oe && T.target === oe.dialog && (se.current = !0), ie.current = !1;
  }, We = () => {
    O(!0), R.current = vv(oe.dialog, () => {
      O(!1);
    });
  }, Bt = (T) => {
    T.target === T.currentTarget && We();
  }, Et = (T) => {
    if (h === "static") {
      Bt(T);
      return;
    }
    if (se.current || T.target !== T.currentTarget) {
      se.current = !1;
      return;
    }
    w?.();
  }, jt = (T) => {
    y ? _?.(T) : (T.preventDefault(), h === "static" && We());
  }, Ft = (T, X) => {
    T && He(T), P?.(T, X);
  }, qe = (T) => {
    R.current == null || R.current(), D?.(T);
  }, V = (T, X) => {
    G?.(T, X), Pd(window, "resize", ue);
  }, $ = (T) => {
    T && (T.style.display = ""), Y?.(T), Tu(window, "resize", ue);
  }, Q = _e((T) => /* @__PURE__ */ l("div", {
    ...T,
    className: Ee(`${e}-backdrop`, z, !g && "show")
  }), [g, z, e]), Z = {
    ...n,
    ...te
  };
  Z.display = "block";
  const J = (T) => /* @__PURE__ */ l("div", {
    role: "dialog",
    ...T,
    style: Z,
    className: Ee(t, e, Ce && `${e}-static`, !g && "show"),
    onClick: h ? Et : void 0,
    onMouseUp: vt,
    "data-bs-theme": o,
    "aria-label": f,
    "aria-labelledby": c,
    "aria-describedby": u,
    children: /* @__PURE__ */ l(s, {
      ...L,
      onMouseDown: rt,
      className: r,
      contentClassName: i,
      children: a
    })
  });
  return /* @__PURE__ */ l(My.Provider, {
    value: Fe,
    children: /* @__PURE__ */ l(eN, {
      show: p,
      ref: fe,
      backdrop: h,
      container: I,
      keyboard: !0,
      autoFocus: b,
      enforceFocus: E,
      restoreFocus: C,
      restoreFocusOptions: A,
      onEscapeKeyDown: jt,
      onShow: S,
      onHide: w,
      onEnter: Ft,
      onEntering: V,
      onEntered: N,
      onExit: qe,
      onExiting: F,
      onExited: $,
      manager: Te(),
      transition: g ? sN : void 0,
      backdropTransition: g ? oN : void 0,
      renderBackdrop: Q,
      renderDialog: J
    })
  });
});
Ly.displayName = "Modal";
const be = Object.assign(Ly, {
  Body: Oy,
  Header: Fy,
  Title: Py,
  Footer: Ry,
  Dialog: nf,
  TRANSITION_DURATION: 300,
  BACKDROP_TRANSITION_DURATION: 150
}), Vy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "nav-item"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Vy.displayName = "NavItem";
const rf = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  as: n = Os,
  active: r,
  eventKey: i,
  disabled: a = !1,
  ...s
}, o) => {
  e = Re(e, "nav-link");
  const [c, u] = ef({
    key: wa(i, s.href),
    active: r,
    disabled: a,
    ...s
  });
  return /* @__PURE__ */ l(n, {
    ...s,
    ...c,
    ref: o,
    disabled: a,
    className: Ee(t, e, a && "disabled", u.isActive && "active")
  });
});
rf.displayName = "NavLink";
const By = /* @__PURE__ */ U.forwardRef((e, t) => {
  const {
    as: n = "div",
    bsPrefix: r,
    variant: i,
    fill: a = !1,
    justify: s = !1,
    navbar: o,
    navbarScroll: c,
    className: u,
    activeKey: f,
    ...p
  } = El(e, {
    activeKey: "onSelect"
  }), g = Re(r, "nav");
  let h, y, _ = !1;
  const S = ke(Zd), w = ke(Gd);
  return S ? (h = S.bsPrefix, _ = o ?? !0) : w && ({
    cardHeaderBsPrefix: y
  } = w), /* @__PURE__ */ l(ky, {
    as: n,
    ref: t,
    activeKey: f,
    className: Ee(u, {
      [g]: !_,
      [`${h}-nav`]: _,
      [`${h}-nav-scroll`]: _ && c,
      [`${y}-${i}`]: !!y,
      [`${g}-${i}`]: !!i,
      [`${g}-fill`]: a,
      [`${g}-justified`]: s
    }),
    ...p
  });
});
By.displayName = "Nav";
const jh = Object.assign(By, {
  Item: Vy,
  Link: rf
}), Gy = /* @__PURE__ */ U.forwardRef(({
  id: e,
  title: t,
  children: n,
  bsPrefix: r,
  className: i,
  rootCloseEvent: a,
  menuRole: s,
  disabled: o,
  active: c,
  renderMenuOnMount: u,
  menuVariant: f,
  ...p
}, g) => {
  const h = Re(void 0, "nav-item");
  return /* @__PURE__ */ v(je, {
    ref: g,
    ...p,
    className: Ee(i, h),
    children: [/* @__PURE__ */ l(je.Toggle, {
      id: e,
      eventKey: null,
      active: c,
      disabled: o,
      childBsPrefix: r,
      as: rf,
      children: t
    }), /* @__PURE__ */ l(je.Menu, {
      role: s,
      renderOnMount: u,
      rootCloseEvent: a,
      variant: f,
      children: n
    })]
  });
});
Gy.displayName = "NavDropdown";
const $h = Object.assign(Gy, {
  Item: je.Item,
  ItemText: je.ItemText,
  Divider: je.Divider,
  Header: je.Header
}), lN = () => {
};
function cN(e, t, {
  disabled: n,
  clickTrigger: r
} = {}) {
  const i = t || lN;
  Zv(e, i, {
    disabled: n,
    clickTrigger: r
  });
  const a = tn((s) => {
    gv(s) && i(s);
  });
  re(() => {
    if (n || e == null) return;
    const s = _a(Ro(e));
    let o = (s.defaultView || window).event;
    const c = Lr(s, "keyup", (u) => {
      if (u === o) {
        o = void 0;
        return;
      }
      a(u);
    });
    return () => {
      c();
    };
  }, [e, n, a]);
}
const Yy = /* @__PURE__ */ U.forwardRef((e, t) => {
  const {
    flip: n,
    offset: r,
    placement: i,
    containerPadding: a,
    popperConfig: s = {},
    transition: o,
    runTransition: c
  } = e, [u, f] = Fu(), [p, g] = Fu(), h = Vs(f, t), y = Bu(e.container), _ = Bu(e.target), [S, w] = B(!e.show), I = Xv(_, u, qv({
    placement: i,
    enableEvents: !!e.show,
    containerPadding: a || 5,
    flip: n,
    offset: r,
    arrowElement: p,
    popperConfig: s
  }));
  e.show && S && w(!1);
  const b = (...G) => {
    w(!0), e.onExited && e.onExited(...G);
  }, E = e.show || !S;
  if (cN(u, e.onHide, {
    disabled: !e.rootClose || e.rootCloseDisabled,
    clickTrigger: e.rootCloseEvent
  }), !E)
    return null;
  const {
    onExit: C,
    onExiting: A,
    onEnter: N,
    onEntering: D,
    onEntered: F
  } = e;
  let P = e.children(Object.assign({}, I.attributes.popper, {
    style: I.styles.popper,
    ref: h
  }), {
    popper: I,
    placement: i,
    show: !!e.show,
    arrowProps: Object.assign({}, I.attributes.arrow, {
      style: I.styles.arrow,
      ref: g
    })
  });
  return P = Gu(o, c, {
    in: !!e.show,
    appear: !0,
    mountOnEnter: !0,
    unmountOnExit: !0,
    children: P,
    onExit: C,
    onExiting: A,
    onExited: b,
    onEnter: N,
    onEntering: D,
    onEntered: F
  }), y ? /* @__PURE__ */ bi.createPortal(P, y) : null;
});
Yy.displayName = "Overlay";
const Wy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "popover-header"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Wy.displayName = "PopoverHeader";
const af = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "popover-body"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
af.displayName = "PopoverBody";
function zy(e, t) {
  let n = e;
  return e === "left" ? n = t ? "end" : "start" : e === "right" && (n = t ? "start" : "end"), n;
}
function Hy(e = "absolute") {
  return {
    position: e,
    top: "0",
    left: "0",
    opacity: "0",
    pointerEvents: "none"
  };
}
const jy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  placement: t = "right",
  className: n,
  style: r,
  children: i,
  body: a,
  arrowProps: s,
  hasDoneInitialMeasure: o,
  popper: c,
  show: u,
  ...f
}, p) => {
  const g = Re(e, "popover"), h = kl(), [y] = t?.split("-") || [], _ = zy(y, h);
  let S = r;
  return u && !o && (S = {
    ...r,
    ...Hy(c?.strategy)
  }), /* @__PURE__ */ v("div", {
    ref: p,
    role: "tooltip",
    style: S,
    "x-placement": y,
    className: Ee(n, g, y && `bs-popover-${_}`),
    ...f,
    children: [/* @__PURE__ */ l("div", {
      className: "popover-arrow",
      ...s
    }), a ? /* @__PURE__ */ l(af, {
      children: i
    }) : i]
  });
});
jy.displayName = "Popover";
const uN = Object.assign(jy, {
  Header: Wy,
  Body: af,
  // Default popover offset.
  // https://github.com/twbs/bootstrap/blob/5c32767e0e0dbac2d934bcdee03719a65d3f1187/js/src/popover.js#L28
  POPPER_OFFSET: [0, 8]
}), $y = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  placement: t = "right",
  className: n,
  style: r,
  children: i,
  arrowProps: a,
  hasDoneInitialMeasure: s,
  popper: o,
  show: c,
  ...u
}, f) => {
  e = Re(e, "tooltip");
  const p = kl(), [g] = t?.split("-") || [], h = zy(g, p);
  let y = r;
  return c && !s && (y = {
    ...r,
    ...Hy(o?.strategy)
  }), /* @__PURE__ */ v("div", {
    ref: f,
    style: y,
    role: "tooltip",
    "x-placement": g,
    className: Ee(n, e, `bs-tooltip-${h}`),
    ...u,
    children: [/* @__PURE__ */ l("div", {
      className: "tooltip-arrow",
      ...a
    }), /* @__PURE__ */ l("div", {
      className: `${e}-inner`,
      children: i
    })]
  });
});
$y.displayName = "Tooltip";
const si = Object.assign($y, {
  // Default tooltip offset.
  // https://github.com/twbs/bootstrap/blob/beca2a6c7f6bc88b6449339fc76edcda832c59e5/js/src/tooltip.js#L65
  TOOLTIP_OFFSET: [0, 6]
});
function dN(e) {
  const t = Oe(null), n = Re(void 0, "popover"), r = Re(void 0, "tooltip"), i = Xe(() => ({
    name: "offset",
    options: {
      offset: () => {
        if (e)
          return e;
        if (t.current) {
          if (Yu(t.current, n))
            return uN.POPPER_OFFSET;
          if (Yu(t.current, r))
            return si.TOOLTIP_OFFSET;
        }
        return [0, 0];
      }
    }
  }), [e, n, r]);
  return [t, [i]];
}
function fN(e, t) {
  const {
    ref: n
  } = e, {
    ref: r
  } = t;
  e.ref = n.__wrapped || (n.__wrapped = (i) => n(Xo(i))), t.ref = r.__wrapped || (r.__wrapped = (i) => r(Xo(i)));
}
const Uy = /* @__PURE__ */ U.forwardRef(({
  children: e,
  transition: t = ii,
  popperConfig: n = {},
  rootClose: r = !1,
  placement: i = "top",
  show: a = !1,
  ...s
}, o) => {
  const c = Oe({}), [u, f] = B(null), [p, g] = dN(s.offset), h = Ti(o, p), y = t === !0 ? ii : t || void 0, _ = ri((S) => {
    f(S), n == null || n.onFirstUpdate == null || n.onFirstUpdate(S);
  });
  return uy(() => {
    u && s.target && (c.current.scheduleUpdate == null || c.current.scheduleUpdate());
  }, [u, s.target]), re(() => {
    a || f(null);
  }, [a]), /* @__PURE__ */ l(Yy, {
    ...s,
    ref: h,
    popperConfig: {
      ...n,
      modifiers: g.concat(n.modifiers || []),
      onFirstUpdate: _
    },
    transition: y,
    rootClose: r,
    placement: i,
    show: a,
    children: (S, {
      arrowProps: w,
      popper: I,
      show: b
    }) => {
      var E;
      fN(S, w);
      const C = I?.placement, A = Object.assign(c.current, {
        state: I?.state,
        scheduleUpdate: I?.update,
        placement: C,
        outOfBoundaries: (I == null || (E = I.state) == null || (E = E.modifiersData.hide) == null ? void 0 : E.isReferenceHidden) || !1,
        strategy: n.strategy
      }), N = !!u;
      return typeof e == "function" ? e({
        ...S,
        placement: C,
        show: b,
        ...!t && b && {
          className: "show"
        },
        popper: A,
        arrowProps: w,
        hasDoneInitialMeasure: N
      }) : /* @__PURE__ */ U.cloneElement(e, {
        ...S,
        placement: C,
        arrowProps: w,
        popper: A,
        hasDoneInitialMeasure: N,
        className: Ee(e.props.className, !t && b && "show"),
        style: {
          ...e.props.style,
          ...S.style
        }
      });
    }
  });
});
Uy.displayName = "Overlay";
function pN(e) {
  return e && typeof e == "object" ? e : {
    show: e,
    hide: e
  };
}
function Uh(e, t, n) {
  const [r] = t, i = r.currentTarget, a = r.relatedTarget || r.nativeEvent[n];
  (!a || a !== i) && !hs(i, a) && e(...t);
}
de.oneOf(["click", "hover", "focus"]);
const Di = ({
  trigger: e = ["hover", "focus"],
  overlay: t,
  children: n,
  popperConfig: r = {},
  show: i,
  defaultShow: a = !1,
  onToggle: s,
  delay: o,
  placement: c,
  flip: u = c && c.indexOf("auto") !== -1,
  ...f
}) => {
  const p = Oe(null), g = Ti(p, Ds(n)), h = Lv(), y = Oe(""), [_, S] = dv(i, a, s), w = pN(o), {
    onFocus: I,
    onBlur: b,
    onClick: E
  } = typeof n != "function" ? U.Children.only(n).props : {}, C = (L) => {
    g(Xo(L));
  }, A = _e(() => {
    if (h.clear(), y.current = "show", !w.show) {
      S(!0);
      return;
    }
    h.set(() => {
      y.current === "show" && S(!0);
    }, w.show);
  }, [w.show, S, h]), N = _e(() => {
    if (h.clear(), y.current = "hide", !w.hide) {
      S(!1);
      return;
    }
    h.set(() => {
      y.current === "hide" && S(!1);
    }, w.hide);
  }, [w.hide, S, h]), D = _e((...L) => {
    A(), I?.(...L);
  }, [A, I]), F = _e((...L) => {
    N(), b?.(...L);
  }, [N, b]), P = _e((...L) => {
    S(!_), E?.(...L);
  }, [E, S, _]), G = _e((...L) => {
    Uh(A, L, "fromElement");
  }, [A]), Y = _e((...L) => {
    Uh(N, L, "toElement");
  }, [N]), z = e == null ? [] : [].concat(e), H = {
    ref: C
  };
  return z.indexOf("click") !== -1 && (H.onClick = P), z.indexOf("focus") !== -1 && (H.onFocus = D, H.onBlur = F), z.indexOf("hover") !== -1 && (process.env.NODE_ENV !== "production" && Pi(z.length > 1, '[react-bootstrap] Specifying only the `"hover"` trigger limits the visibility of the overlay to just mouse users. Consider also including the `"focus"` trigger so that touch and keyboard only users can see the overlay as well.'), H.onMouseOver = G, H.onMouseOut = Y), /* @__PURE__ */ v(ve, {
    children: [typeof n == "function" ? n(H) : /* @__PURE__ */ Cl(n, H), /* @__PURE__ */ l(Uy, {
      ...f,
      show: _,
      onHide: N,
      flip: u,
      placement: c,
      popperConfig: r,
      target: p.current,
      children: t
    })]
  });
}, sf = /* @__PURE__ */ U.forwardRef(({
  active: e = !1,
  disabled: t = !1,
  className: n,
  style: r,
  activeLabel: i = "(current)",
  children: a,
  linkStyle: s,
  linkClassName: o,
  as: c = Os,
  ...u
}, f) => {
  const p = e || t ? "span" : c;
  return /* @__PURE__ */ l("li", {
    ref: f,
    style: r,
    className: Ee(n, "page-item", {
      active: e,
      disabled: t
    }),
    children: /* @__PURE__ */ v(p, {
      className: Ee("page-link", o),
      style: s,
      ...u,
      children: [a, e && i && /* @__PURE__ */ l("span", {
        className: "visually-hidden",
        children: i
      })]
    })
  });
});
sf.displayName = "PageItem";
function Bs(e, t, n = e) {
  const r = /* @__PURE__ */ U.forwardRef(({
    children: i,
    ...a
  }, s) => /* @__PURE__ */ v(sf, {
    ...a,
    ref: s,
    children: [/* @__PURE__ */ l("span", {
      "aria-hidden": "true",
      children: i || t
    }), /* @__PURE__ */ l("span", {
      className: "visually-hidden",
      children: n
    })]
  }));
  return r.displayName = e, r;
}
const hN = Bs("First", "Â«"), mN = Bs("Prev", "â€¹", "Previous"), gN = Bs("Ellipsis", "â€¦", "More"), vN = Bs("Next", "â€º"), yN = Bs("Last", "Â»"), Xy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  size: n,
  ...r
}, i) => {
  const a = Re(e, "pagination");
  return /* @__PURE__ */ l("ul", {
    ref: i,
    ...r,
    className: Ee(t, a, n && `${a}-${n}`)
  });
});
Xy.displayName = "Pagination";
const Xh = Object.assign(Xy, {
  First: hN,
  Prev: mN,
  Ellipsis: gN,
  Item: sf,
  Next: vN,
  Last: yN
}), Yn = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: n = "div",
  ...r
}, i) => {
  const a = Re(e, "row"), s = fv(), o = pv(), c = `${a}-cols`, u = [];
  return s.forEach((f) => {
    const p = r[f];
    delete r[f];
    let g;
    p != null && typeof p == "object" ? {
      cols: g
    } = p : g = p;
    const h = f !== o ? `-${f}` : "";
    g != null && u.push(`${c}${h}-${g}`);
  }), /* @__PURE__ */ l(n, {
    ref: i,
    ...r,
    className: Ee(t, a, ...u)
  });
});
Yn.displayName = "Row";
const of = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  variant: t,
  animation: n = "border",
  size: r,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: i = "div",
  className: a,
  ...s
}, o) => {
  e = Re(e, "spinner");
  const c = `${e}-${n}`;
  return /* @__PURE__ */ l(i, {
    ref: o,
    ...s,
    className: Ee(a, c, r && `${c}-${r}`, t && `text-${t}`)
  });
});
of.displayName = "Spinner";
const Qt = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  striped: n,
  bordered: r,
  borderless: i,
  hover: a,
  size: s,
  variant: o,
  responsive: c,
  ...u
}, f) => {
  const p = Re(e, "table"), g = Ee(t, p, o && `${p}-${o}`, s && `${p}-${s}`, n && `${p}-${typeof n == "string" ? `striped-${n}` : "striped"}`, r && `${p}-bordered`, i && `${p}-borderless`, a && `${p}-hover`), h = /* @__PURE__ */ l("table", {
    ...u,
    className: g,
    ref: f
  });
  if (c) {
    let y = `${p}-responsive`;
    return typeof c == "string" && (y = `${y}-${c}`), /* @__PURE__ */ l("div", {
      className: y,
      children: h
    });
  }
  return h;
});
Qt.displayName = "Table";
const bN = {
  [Tr]: "showing",
  [Uo]: "showing show"
}, Zy = /* @__PURE__ */ U.forwardRef((e, t) => /* @__PURE__ */ l(ii, {
  ...e,
  ref: t,
  transitionClasses: bN
}));
Zy.displayName = "ToastFade";
const qy = /* @__PURE__ */ U.createContext({
  onClose() {
  }
}), Jy = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  closeLabel: t = "Close",
  closeVariant: n,
  closeButton: r = !0,
  className: i,
  children: a,
  ...s
}, o) => {
  e = Re(e, "toast-header");
  const c = ke(qy), u = ri((f) => {
    c == null || c.onClose == null || c.onClose(f);
  });
  return /* @__PURE__ */ v("div", {
    ref: o,
    ...s,
    className: Ee(e, i),
    children: [a, r && /* @__PURE__ */ l(Ms, {
      "aria-label": t,
      variant: n,
      onClick: u,
      "data-dismiss": "toast"
    })]
  });
});
Jy.displayName = "ToastHeader";
const Qy = /* @__PURE__ */ U.forwardRef(({
  className: e,
  bsPrefix: t,
  as: n = "div",
  ...r
}, i) => (t = Re(t, "toast-body"), /* @__PURE__ */ l(n, {
  ref: i,
  className: Ee(e, t),
  ...r
})));
Qy.displayName = "ToastBody";
const Ky = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  className: t,
  transition: n = Zy,
  show: r = !0,
  animation: i = !0,
  delay: a = 5e3,
  autohide: s = !1,
  onClose: o,
  onEntered: c,
  onExit: u,
  onExiting: f,
  onEnter: p,
  onEntering: g,
  onExited: h,
  bg: y,
  ..._
}, S) => {
  e = Re(e, "toast");
  const w = Oe(a), I = Oe(o);
  re(() => {
    w.current = a, I.current = o;
  }, [a, o]);
  const b = Lv(), E = !!(s && r), C = _e(() => {
    E && (I.current == null || I.current());
  }, [E]);
  re(() => {
    b.set(C, w.current);
  }, [b, C]);
  const A = Xe(() => ({
    onClose: o
  }), [o]), N = !!(n && i), D = /* @__PURE__ */ l("div", {
    ..._,
    ref: S,
    className: Ee(e, t, y && `bg-${y}`, !N && (r ? "show" : "hide")),
    role: "alert",
    "aria-live": "assertive",
    "aria-atomic": "true"
  });
  return /* @__PURE__ */ l(qy.Provider, {
    value: A,
    children: N && n ? /* @__PURE__ */ l(n, {
      in: r,
      onEnter: p,
      onEntering: g,
      onEntered: c,
      onExit: u,
      onExiting: f,
      onExited: h,
      unmountOnExit: !0,
      children: D
    }) : D
  });
});
Ky.displayName = "Toast";
const Wn = Object.assign(Ky, {
  Body: Qy,
  Header: Jy
}), xN = {
  "top-start": "top-0 start-0",
  "top-center": "top-0 start-50 translate-middle-x",
  "top-end": "top-0 end-0",
  "middle-start": "top-50 start-0 translate-middle-y",
  "middle-center": "top-50 start-50 translate-middle",
  "middle-end": "top-50 end-0 translate-middle-y",
  "bottom-start": "bottom-0 start-0",
  "bottom-center": "bottom-0 start-50 translate-middle-x",
  "bottom-end": "bottom-0 end-0"
}, Gs = /* @__PURE__ */ U.forwardRef(({
  bsPrefix: e,
  position: t,
  containerPosition: n,
  className: r,
  // Need to define the default "as" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595
  as: i = "div",
  ...a
}, s) => (e = Re(e, "toast-container"), /* @__PURE__ */ l(i, {
  ref: s,
  ...a,
  className: Ee(e, t && xN[t], n && `position-${n}`, r)
})));
Gs.displayName = "ToastContainer";
var Ys = (e) => e.type === "checkbox", xi = (e) => e instanceof Date, vn = (e) => e == null;
const eb = (e) => typeof e == "object";
var zt = (e) => !vn(e) && !Array.isArray(e) && eb(e) && !xi(e), tb = (e) => zt(e) && e.target ? Ys(e.target) ? e.target.checked : e.target.value : e, wN = (e) => e.substring(0, e.search(/\.\d+(\.|$)/)) || e, nb = (e, t) => e.has(wN(t)), CN = (e) => {
  const t = e.constructor && e.constructor.prototype;
  return zt(t) && t.hasOwnProperty("isPrototypeOf");
}, lf = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function xt(e) {
  if (e instanceof Date)
    return new Date(e);
  const t = typeof FileList < "u" && e instanceof FileList;
  if (lf && (e instanceof Blob || t))
    return e;
  const n = Array.isArray(e);
  if (!n && !(zt(e) && CN(e)))
    return e;
  const r = n ? [] : Object.create(Object.getPrototypeOf(e));
  for (const i in e)
    Object.prototype.hasOwnProperty.call(e, i) && (r[i] = xt(e[i]));
  return r;
}
var Pl = (e) => /^\w*$/.test(e), ht = (e) => e === void 0, Ll = (e) => Array.isArray(e) ? e.filter(Boolean) : [], cf = (e) => Ll(e.replace(/["|']|\]/g, "").split(/\.|\[/)), ye = (e, t, n) => {
  if (!t || !zt(e))
    return n;
  const r = (Pl(t) ? [t] : cf(t)).reduce((i, a) => vn(i) ? i : i[a], e);
  return ht(r) || r === e ? ht(e[t]) ? n : e[t] : r;
}, _n = (e) => typeof e == "boolean", fn = (e) => typeof e == "function", pt = (e, t, n) => {
  let r = -1;
  const i = Pl(t) ? [t] : cf(t), a = i.length, s = a - 1;
  for (; ++r < a; ) {
    const o = i[r];
    let c = n;
    if (r !== s) {
      const u = e[o];
      c = zt(u) || Array.isArray(u) ? u : isNaN(+i[r + 1]) ? {} : [];
    }
    if (o === "__proto__" || o === "constructor" || o === "prototype")
      return;
    e[o] = c, e = e[o];
  }
};
const Ko = {
  BLUR: "blur",
  FOCUS_OUT: "focusout",
  CHANGE: "change"
}, Bn = {
  onBlur: "onBlur",
  onChange: "onChange",
  onSubmit: "onSubmit",
  onTouched: "onTouched",
  all: "all"
}, Or = {
  max: "max",
  min: "min",
  maxLength: "maxLength",
  minLength: "minLength",
  pattern: "pattern",
  required: "required",
  validate: "validate"
}, uf = ne.createContext(null);
uf.displayName = "HookFormControlContext";
const Vl = () => ne.useContext(uf);
var rb = (e, t, n, r = !0) => {
  const i = {
    defaultValues: t._defaultValues
  };
  for (const a in e)
    Object.defineProperty(i, a, {
      get: () => {
        const s = a;
        return t._proxyFormState[s] !== Bn.all && (t._proxyFormState[s] = !r || Bn.all), n && (n[s] = !0), e[s];
      }
    });
  return i;
};
const Bl = typeof window < "u" ? ne.useLayoutEffect : ne.useEffect;
function SN(e) {
  const t = Vl(), { control: n = t, disabled: r, name: i, exact: a } = e || {}, [s, o] = ne.useState(n._formState), c = ne.useRef({
    isDirty: !1,
    isLoading: !1,
    dirtyFields: !1,
    touchedFields: !1,
    validatingFields: !1,
    isValidating: !1,
    isValid: !1,
    errors: !1
  });
  return Bl(() => n._subscribe({
    name: i,
    formState: c.current,
    exact: a,
    callback: (u) => {
      !r && o({
        ...n._formState,
        ...u
      });
    }
  }), [i, r, a]), ne.useEffect(() => {
    c.current.isValid && n._setValid(!0);
  }, [n]), ne.useMemo(() => rb(s, n, c.current, !1), [s, n]);
}
var En = (e) => typeof e == "string", Wu = (e, t, n, r, i) => En(e) ? (r && t.watch.add(e), ye(n, e, i)) : Array.isArray(e) ? e.map((a) => (r && t.watch.add(a), ye(n, a))) : (r && (t.watchAll = !0), n), zu = (e) => vn(e) || !eb(e);
function Kn(e, t, n = /* @__PURE__ */ new WeakSet()) {
  if (zu(e) || zu(t))
    return Object.is(e, t);
  if (xi(e) && xi(t))
    return Object.is(e.getTime(), t.getTime());
  const r = Object.keys(e), i = Object.keys(t);
  if (r.length !== i.length)
    return !1;
  if (n.has(e) || n.has(t))
    return !0;
  n.add(e), n.add(t);
  for (const a of r) {
    const s = e[a];
    if (!i.includes(a))
      return !1;
    if (a !== "ref") {
      const o = t[a];
      if (xi(s) && xi(o) || zt(s) && zt(o) || Array.isArray(s) && Array.isArray(o) ? !Kn(s, o, n) : !Object.is(s, o))
        return !1;
    }
  }
  return !0;
}
function ib(e) {
  const t = Vl(), { control: n = t, name: r, defaultValue: i, disabled: a, exact: s, compute: o } = e || {}, c = ne.useRef(i), u = ne.useRef(o), f = ne.useRef(void 0), p = ne.useRef(n), g = ne.useRef(r);
  u.current = o;
  const [h, y] = ne.useState(() => {
    const E = n._getWatch(r, c.current);
    return u.current ? u.current(E) : E;
  }), _ = ne.useCallback((E) => {
    const C = Wu(r, n._names, E || n._formValues, !1, c.current);
    return u.current ? u.current(C) : C;
  }, [n._formValues, n._names, r]), S = ne.useCallback((E) => {
    if (!a) {
      const C = Wu(r, n._names, E || n._formValues, !1, c.current);
      if (u.current) {
        const A = u.current(C);
        Kn(A, f.current) || (y(A), f.current = A);
      } else
        y(C);
    }
  }, [n._formValues, n._names, a, r]);
  Bl(() => ((p.current !== n || !Kn(g.current, r)) && (p.current = n, g.current = r, S()), n._subscribe({
    name: r,
    formState: {
      values: !0
    },
    exact: s,
    callback: (E) => {
      S(E.values);
    }
  })), [n, s, r, S]), ne.useEffect(() => n._removeUnmounted());
  const w = p.current !== n, I = g.current, b = ne.useMemo(() => {
    if (a)
      return null;
    const E = !w && !Kn(I, r);
    return w || E ? _() : null;
  }, [a, w, r, I, _]);
  return b !== null ? b : h;
}
function IN(e) {
  const t = Vl(), { name: n, disabled: r, control: i = t, shouldUnregister: a, defaultValue: s, exact: o = !0 } = e, c = nb(i._names.array, n), u = ne.useMemo(() => ye(i._formValues, n, ye(i._defaultValues, n, s)), [i, n, s]), f = ib({
    control: i,
    name: n,
    defaultValue: u,
    exact: o
  }), p = SN({
    control: i,
    name: n,
    exact: o
  }), g = ne.useRef(e), h = ne.useRef(void 0), y = ne.useRef(i.register(n, {
    ...e.rules,
    value: f,
    ..._n(e.disabled) ? { disabled: e.disabled } : {}
  }));
  g.current = e;
  const _ = ne.useMemo(() => Object.defineProperties({}, {
    invalid: {
      enumerable: !0,
      get: () => !!ye(p.errors, n)
    },
    isDirty: {
      enumerable: !0,
      get: () => !!ye(p.dirtyFields, n)
    },
    isTouched: {
      enumerable: !0,
      get: () => !!ye(p.touchedFields, n)
    },
    isValidating: {
      enumerable: !0,
      get: () => !!ye(p.validatingFields, n)
    },
    error: {
      enumerable: !0,
      get: () => ye(p.errors, n)
    }
  }), [p, n]), S = ne.useCallback((E) => y.current.onChange({
    target: {
      value: tb(E),
      name: n
    },
    type: Ko.CHANGE
  }), [n]), w = ne.useCallback(() => y.current.onBlur({
    target: {
      value: ye(i._formValues, n),
      name: n
    },
    type: Ko.BLUR
  }), [n, i._formValues]), I = ne.useCallback((E) => {
    const C = ye(i._fields, n);
    C && C._f && E && (C._f.ref = {
      focus: () => fn(E.focus) && E.focus(),
      select: () => fn(E.select) && E.select(),
      setCustomValidity: (A) => fn(E.setCustomValidity) && E.setCustomValidity(A),
      reportValidity: () => fn(E.reportValidity) && E.reportValidity()
    });
  }, [i._fields, n]), b = ne.useMemo(() => ({
    name: n,
    value: f,
    ..._n(r) || p.disabled ? { disabled: p.disabled || r } : {},
    onChange: S,
    onBlur: w,
    ref: I
  }), [n, r, p.disabled, S, w, I, f]);
  return ne.useEffect(() => {
    const E = i._options.shouldUnregister || a, C = h.current;
    C && C !== n && !c && i.unregister(C), i.register(n, {
      ...g.current.rules,
      ..._n(g.current.disabled) ? { disabled: g.current.disabled } : {}
    });
    const A = (N, D) => {
      const F = ye(i._fields, N);
      F && F._f && (F._f.mount = D);
    };
    if (A(n, !0), E) {
      const N = xt(ye(i._options.defaultValues, n, g.current.defaultValue));
      pt(i._defaultValues, n, N), ht(ye(i._formValues, n)) && pt(i._formValues, n, N);
    }
    return !c && i.register(n), h.current = n, () => {
      (c ? E && !i._state.action : E) ? i.unregister(n) : A(n, !1);
    };
  }, [n, i, c, a]), ne.useEffect(() => {
    i._setDisabledField({
      disabled: r,
      name: n
    });
  }, [r, n, i]), ne.useMemo(() => ({
    field: b,
    formState: p,
    fieldState: _
  }), [b, p, _]);
}
const jn = (e) => e.render(IN(e)), df = ne.createContext(null);
df.displayName = "HookFormContext";
const _N = () => ne.useContext(df), EN = (e) => {
  const { children: t, watch: n, getValues: r, getFieldState: i, setError: a, clearErrors: s, setValue: o, trigger: c, formState: u, resetField: f, reset: p, handleSubmit: g, unregister: h, control: y, register: _, setFocus: S, subscribe: w } = e;
  return ne.createElement(
    df.Provider,
    { value: ne.useMemo(() => ({
      watch: n,
      getValues: r,
      getFieldState: i,
      setError: a,
      clearErrors: s,
      setValue: o,
      trigger: c,
      formState: u,
      resetField: f,
      reset: p,
      handleSubmit: g,
      unregister: h,
      control: y,
      register: _,
      setFocus: S,
      subscribe: w
    }), [
      s,
      y,
      u,
      i,
      r,
      g,
      _,
      p,
      f,
      a,
      S,
      o,
      w,
      c,
      h,
      n
    ]) },
    ne.createElement(uf.Provider, { value: y }, t)
  );
};
var kN = (e, t, n, r, i) => t ? {
  ...n[e],
  types: {
    ...n[e] && n[e].types ? n[e].types : {},
    [r]: i || !0
  }
} : {}, yn = (e) => Array.isArray(e) ? e : [e], Zh = () => {
  let e = [];
  return {
    get observers() {
      return e;
    },
    next: (i) => {
      for (const a of e)
        a.next && a.next(i);
    },
    subscribe: (i) => (e.push(i), {
      unsubscribe: () => {
        e = e.filter((a) => a !== i);
      }
    }),
    unsubscribe: () => {
      e = [];
    }
  };
};
function ab(e, t) {
  const n = {};
  for (const r in e)
    if (e.hasOwnProperty(r)) {
      const i = e[r], a = t[r];
      if (i && zt(i) && a) {
        const s = ab(i, a);
        zt(s) && (n[r] = s);
      } else e[r] && (n[r] = a);
    }
  return n;
}
var on = (e) => zt(e) && !Object.keys(e).length, ff = (e) => e.type === "file", el = (e) => {
  if (!lf)
    return !1;
  const t = e ? e.ownerDocument : 0;
  return e instanceof (t && t.defaultView ? t.defaultView.HTMLElement : HTMLElement);
}, sb = (e) => e.type === "select-multiple", pf = (e) => e.type === "radio", NN = (e) => pf(e) || Ys(e), $c = (e) => el(e) && e.isConnected;
function AN(e, t) {
  const n = t.slice(0, -1).length;
  let r = 0;
  for (; r < n; )
    e = ht(e) ? r++ : e[t[r++]];
  return e;
}
function DN(e) {
  for (const t in e)
    if (e.hasOwnProperty(t) && !ht(e[t]))
      return !1;
  return !0;
}
function Lt(e, t) {
  const n = Array.isArray(t) ? t : Pl(t) ? [t] : cf(t), r = n.length === 1 ? e : AN(e, n), i = n.length - 1, a = n[i];
  return r && delete r[a], i !== 0 && (zt(r) && on(r) || Array.isArray(r) && DN(r)) && Lt(e, n.slice(0, -1)), e;
}
var ON = (e) => {
  for (const t in e)
    if (fn(e[t]))
      return !0;
  return !1;
};
function ob(e) {
  return Array.isArray(e) || zt(e) && !ON(e);
}
function Hu(e, t = {}) {
  for (const n in e) {
    const r = e[n];
    ob(r) ? (t[n] = Array.isArray(r) ? [] : {}, Hu(r, t[n])) : ht(r) || (t[n] = !0);
  }
  return t;
}
function na(e, t, n) {
  n || (n = Hu(t));
  for (const r in e) {
    const i = e[r];
    if (ob(i))
      ht(t) || zu(n[r]) ? n[r] = Hu(i, Array.isArray(i) ? [] : {}) : na(i, vn(t) ? {} : t[r], n[r]);
    else {
      const a = t[r];
      n[r] = !Kn(i, a);
    }
  }
  return n;
}
const qh = {
  value: !1,
  isValid: !1
}, Jh = { value: !0, isValid: !0 };
var lb = (e) => {
  if (Array.isArray(e)) {
    if (e.length > 1) {
      const t = e.filter((n) => n && n.checked && !n.disabled).map((n) => n.value);
      return { value: t, isValid: !!t.length };
    }
    return e[0].checked && !e[0].disabled ? (
      // @ts-expect-error expected to work in the browser
      e[0].attributes && !ht(e[0].attributes.value) ? ht(e[0].value) || e[0].value === "" ? Jh : { value: e[0].value, isValid: !0 } : Jh
    ) : qh;
  }
  return qh;
}, cb = (e, { valueAsNumber: t, valueAsDate: n, setValueAs: r }) => ht(e) ? e : t ? e === "" ? NaN : e && +e : n && En(e) ? new Date(e) : r ? r(e) : e;
const Qh = {
  isValid: !1,
  value: null
};
var ub = (e) => Array.isArray(e) ? e.reduce((t, n) => n && n.checked && !n.disabled ? {
  isValid: !0,
  value: n.value
} : t, Qh) : Qh;
function Kh(e) {
  const t = e.ref;
  return ff(t) ? t.files : pf(t) ? ub(e.refs).value : sb(t) ? [...t.selectedOptions].map(({ value: n }) => n) : Ys(t) ? lb(e.refs).value : cb(ht(t.value) ? e.ref.value : t.value, e);
}
var MN = (e, t, n, r) => {
  const i = {};
  for (const a of e) {
    const s = ye(t, a);
    s && pt(i, a, s._f);
  }
  return {
    criteriaMode: n,
    names: [...e],
    fields: i,
    shouldUseNativeValidation: r
  };
}, tl = (e) => e instanceof RegExp, ja = (e) => ht(e) ? e : tl(e) ? e.source : zt(e) ? tl(e.value) ? e.value.source : e.value : e, ia = (e) => ({
  isOnSubmit: !e || e === Bn.onSubmit,
  isOnBlur: e === Bn.onBlur,
  isOnChange: e === Bn.onChange,
  isOnAll: e === Bn.all,
  isOnTouch: e === Bn.onTouched
});
const em = "AsyncFunction";
var RN = (e) => !!e && !!e.validate && !!(fn(e.validate) && e.validate.constructor.name === em || zt(e.validate) && Object.values(e.validate).find((t) => t.constructor.name === em)), TN = (e) => e.mount && (e.required || e.min || e.max || e.maxLength || e.minLength || e.pattern || e.validate), ju = (e, t, n) => !n && (t.watchAll || t.watch.has(e) || [...t.watch].some((r) => e.startsWith(r) && /^\.\w+/.test(e.slice(r.length))));
const la = (e, t, n, r) => {
  for (const i of n || Object.keys(e)) {
    const a = ye(e, i);
    if (a) {
      const { _f: s, ...o } = a;
      if (s) {
        if (s.refs && s.refs[0] && t(s.refs[0], i) && !r)
          return !0;
        if (s.ref && t(s.ref, s.name) && !r)
          return !0;
        if (la(o, t))
          break;
      } else if (zt(o) && la(o, t))
        break;
    }
  }
};
function tm(e, t, n) {
  const r = ye(e, n);
  if (r || Pl(n))
    return {
      error: r,
      name: n
    };
  const i = n.split(".");
  for (; i.length; ) {
    const a = i.join("."), s = ye(t, a), o = ye(e, a);
    if (s && !Array.isArray(s) && n !== a)
      return { name: n };
    if (o && o.type)
      return {
        name: a,
        error: o
      };
    if (o && o.root && o.root.type)
      return {
        name: `${a}.root`,
        error: o.root
      };
    i.pop();
  }
  return {
    name: n
  };
}
var FN = (e, t, n, r) => {
  n(e);
  const { name: i, ...a } = e;
  return on(a) || Object.keys(a).length >= Object.keys(t).length || Object.keys(a).find((s) => t[s] === (!r || Bn.all));
}, PN = (e, t, n) => !e || !t || e === t || yn(e).some((r) => r && (n ? r === t : r.startsWith(t) || t.startsWith(r))), LN = (e, t, n, r, i) => i.isOnAll ? !1 : !n && i.isOnTouch ? !(t || e) : (n ? r.isOnBlur : i.isOnBlur) ? !e : (n ? r.isOnChange : i.isOnChange) ? e : !0, VN = (e, t) => !Ll(ye(e, t)).length && Lt(e, t), db = (e, t, n) => {
  const r = yn(ye(e, n));
  return pt(r, "root", t[n]), pt(e, n, r), e;
};
function nm(e, t, n = "validate") {
  if (En(e) || Array.isArray(e) && e.every(En) || _n(e) && !e)
    return {
      type: n,
      message: En(e) ? e : "",
      ref: t
    };
}
var Ji = (e) => zt(e) && !tl(e) ? e : {
  value: e,
  message: ""
}, $u = async (e, t, n, r, i, a) => {
  const { ref: s, refs: o, required: c, maxLength: u, minLength: f, min: p, max: g, pattern: h, validate: y, name: _, valueAsNumber: S, mount: w } = e._f, I = ye(n, _);
  if (!w || t.has(_))
    return {};
  const b = o ? o[0] : s, E = (Y) => {
    i && b.reportValidity && (b.setCustomValidity(_n(Y) ? "" : Y || ""), b.reportValidity());
  }, C = {}, A = pf(s), N = Ys(s), D = A || N, F = (S || ff(s)) && ht(s.value) && ht(I) || el(s) && s.value === "" || I === "" || Array.isArray(I) && !I.length, P = kN.bind(null, _, r, C), G = (Y, z, H, L = Or.maxLength, q = Or.minLength) => {
    const te = Y ? z : H;
    C[_] = {
      type: Y ? L : q,
      message: te,
      ref: s,
      ...P(Y ? L : q, te)
    };
  };
  if (a ? !Array.isArray(I) || !I.length : c && (!D && (F || vn(I)) || _n(I) && !I || N && !lb(o).isValid || A && !ub(o).isValid)) {
    const { value: Y, message: z } = En(c) ? { value: !!c, message: c } : Ji(c);
    if (Y && (C[_] = {
      type: Or.required,
      message: z,
      ref: b,
      ...P(Or.required, z)
    }, !r))
      return E(z), C;
  }
  if (!F && (!vn(p) || !vn(g))) {
    let Y, z;
    const H = Ji(g), L = Ji(p);
    if (!vn(I) && !isNaN(I)) {
      const q = s.valueAsNumber || I && +I;
      vn(H.value) || (Y = q > H.value), vn(L.value) || (z = q < L.value);
    } else {
      const q = s.valueAsDate || new Date(I), te = (O) => /* @__PURE__ */ new Date((/* @__PURE__ */ new Date()).toDateString() + " " + O), ge = s.type == "time", Ce = s.type == "week";
      En(H.value) && I && (Y = ge ? te(I) > te(H.value) : Ce ? I > H.value : q > new Date(H.value)), En(L.value) && I && (z = ge ? te(I) < te(L.value) : Ce ? I < L.value : q < new Date(L.value));
    }
    if ((Y || z) && (G(!!Y, H.message, L.message, Or.max, Or.min), !r))
      return E(C[_].message), C;
  }
  if ((u || f) && !F && (En(I) || a && Array.isArray(I))) {
    const Y = Ji(u), z = Ji(f), H = !vn(Y.value) && I.length > +Y.value, L = !vn(z.value) && I.length < +z.value;
    if ((H || L) && (G(H, Y.message, z.message), !r))
      return E(C[_].message), C;
  }
  if (h && !F && En(I)) {
    const { value: Y, message: z } = Ji(h);
    if (tl(Y) && !I.match(Y) && (C[_] = {
      type: Or.pattern,
      message: z,
      ref: s,
      ...P(Or.pattern, z)
    }, !r))
      return E(z), C;
  }
  if (y) {
    if (fn(y)) {
      const Y = await y(I, n), z = nm(Y, b);
      if (z && (C[_] = {
        ...z,
        ...P(Or.validate, z.message)
      }, !r))
        return E(z.message), C;
    } else if (zt(y)) {
      let Y = {};
      for (const z in y) {
        if (!on(Y) && !r)
          break;
        const H = nm(await y[z](I, n), b, z);
        H && (Y = {
          ...H,
          ...P(z, H.message)
        }, E(H.message), r && (C[_] = Y));
      }
      if (!on(Y) && (C[_] = {
        ref: b,
        ...Y
      }, !r))
        return C;
    }
  }
  return E(!0), C;
};
const BN = {
  mode: Bn.onSubmit,
  reValidateMode: Bn.onChange,
  shouldFocusError: !0
};
function GN(e = {}) {
  let t = {
    ...BN,
    ...e
  }, n = {
    submitCount: 0,
    isDirty: !1,
    isReady: !1,
    isLoading: fn(t.defaultValues),
    isValidating: !1,
    isSubmitted: !1,
    isSubmitting: !1,
    isSubmitSuccessful: !1,
    isValid: !1,
    touchedFields: {},
    dirtyFields: {},
    validatingFields: {},
    errors: t.errors || {},
    disabled: t.disabled || !1
  }, r = {}, i = zt(t.defaultValues) || zt(t.values) ? xt(t.defaultValues || t.values) || {} : {}, a = t.shouldUnregister ? {} : xt(i), s = {
    action: !1,
    mount: !1,
    watch: !1,
    keepIsValid: !1
  }, o = {
    mount: /* @__PURE__ */ new Set(),
    disabled: /* @__PURE__ */ new Set(),
    unMount: /* @__PURE__ */ new Set(),
    array: /* @__PURE__ */ new Set(),
    watch: /* @__PURE__ */ new Set()
  }, c, u = 0;
  const f = {
    isDirty: !1,
    dirtyFields: !1,
    validatingFields: !1,
    touchedFields: !1,
    isValidating: !1,
    isValid: !1,
    errors: !1
  }, p = {
    ...f
  };
  let g = {
    ...p
  };
  const h = {
    array: Zh(),
    state: Zh()
  }, y = t.criteriaMode === Bn.all, _ = (V) => ($) => {
    clearTimeout(u), u = setTimeout(V, $);
  }, S = async (V) => {
    if (!s.keepIsValid && !t.disabled && (p.isValid || g.isValid || V)) {
      let $;
      t.resolver ? ($ = on((await D()).errors), w()) : $ = await P(r, !0), $ !== n.isValid && h.state.next({
        isValid: $
      });
    }
  }, w = (V, $) => {
    !t.disabled && (p.isValidating || p.validatingFields || g.isValidating || g.validatingFields) && ((V || Array.from(o.mount)).forEach((Q) => {
      Q && ($ ? pt(n.validatingFields, Q, $) : Lt(n.validatingFields, Q));
    }), h.state.next({
      validatingFields: n.validatingFields,
      isValidating: !on(n.validatingFields)
    }));
  }, I = (V, $ = [], Q, Z, J = !0, T = !0) => {
    if (Z && Q && !t.disabled) {
      if (s.action = !0, T && Array.isArray(ye(r, V))) {
        const X = Q(ye(r, V), Z.argA, Z.argB);
        J && pt(r, V, X);
      }
      if (T && Array.isArray(ye(n.errors, V))) {
        const X = Q(ye(n.errors, V), Z.argA, Z.argB);
        J && pt(n.errors, V, X), VN(n.errors, V);
      }
      if ((p.touchedFields || g.touchedFields) && T && Array.isArray(ye(n.touchedFields, V))) {
        const X = Q(ye(n.touchedFields, V), Z.argA, Z.argB);
        J && pt(n.touchedFields, V, X);
      }
      (p.dirtyFields || g.dirtyFields) && (n.dirtyFields = na(i, a)), h.state.next({
        name: V,
        isDirty: Y(V, $),
        dirtyFields: n.dirtyFields,
        errors: n.errors,
        isValid: n.isValid
      });
    } else
      pt(a, V, $);
  }, b = (V, $) => {
    pt(n.errors, V, $), h.state.next({
      errors: n.errors
    });
  }, E = (V) => {
    n.errors = V, h.state.next({
      errors: n.errors,
      isValid: !1
    });
  }, C = (V, $, Q, Z) => {
    const J = ye(r, V);
    if (J) {
      const T = ye(a, V, ht(Q) ? ye(i, V) : Q);
      ht(T) || Z && Z.defaultChecked || $ ? pt(a, V, $ ? T : Kh(J._f)) : L(V, T), s.mount && !s.action && S();
    }
  }, A = (V, $, Q, Z, J) => {
    let T = !1, X = !1;
    const le = {
      name: V
    };
    if (!t.disabled) {
      if (!Q || Z) {
        (p.isDirty || g.isDirty) && (X = n.isDirty, n.isDirty = le.isDirty = Y(), T = X !== le.isDirty);
        const Se = Kn(ye(i, V), $);
        X = !!ye(n.dirtyFields, V), Se ? Lt(n.dirtyFields, V) : pt(n.dirtyFields, V, !0), le.dirtyFields = n.dirtyFields, T = T || (p.dirtyFields || g.dirtyFields) && X !== !Se;
      }
      if (Q) {
        const Se = ye(n.touchedFields, V);
        Se || (pt(n.touchedFields, V, Q), le.touchedFields = n.touchedFields, T = T || (p.touchedFields || g.touchedFields) && Se !== Q);
      }
      T && J && h.state.next(le);
    }
    return T ? le : {};
  }, N = (V, $, Q, Z) => {
    const J = ye(n.errors, V), T = (p.isValid || g.isValid) && _n($) && n.isValid !== $;
    if (t.delayError && Q ? (c = _(() => b(V, Q)), c(t.delayError)) : (clearTimeout(u), c = null, Q ? pt(n.errors, V, Q) : Lt(n.errors, V)), (Q ? !Kn(J, Q) : J) || !on(Z) || T) {
      const X = {
        ...Z,
        ...T && _n($) ? { isValid: $ } : {},
        errors: n.errors,
        name: V
      };
      n = {
        ...n,
        ...X
      }, h.state.next(X);
    }
  }, D = async (V) => (w(V, !0), await t.resolver(a, t.context, MN(V || o.mount, r, t.criteriaMode, t.shouldUseNativeValidation))), F = async (V) => {
    const { errors: $ } = await D(V);
    if (w(V), V)
      for (const Q of V) {
        const Z = ye($, Q);
        Z ? pt(n.errors, Q, Z) : Lt(n.errors, Q);
      }
    else
      n.errors = $;
    return $;
  }, P = async (V, $, Q = {
    valid: !0
  }) => {
    for (const Z in V) {
      const J = V[Z];
      if (J) {
        const { _f: T, ...X } = J;
        if (T) {
          const le = o.array.has(T.name), Se = J._f && RN(J._f);
          Se && p.validatingFields && w([T.name], !0);
          const Ie = await $u(J, o.disabled, a, y, t.shouldUseNativeValidation && !$, le);
          if (Se && p.validatingFields && w([T.name]), Ie[T.name] && (Q.valid = !1, $ || e.shouldUseNativeValidation))
            break;
          !$ && (ye(Ie, T.name) ? le ? db(n.errors, Ie, T.name) : pt(n.errors, T.name, Ie[T.name]) : Lt(n.errors, T.name));
        }
        !on(X) && await P(X, $, Q);
      }
    }
    return Q.valid;
  }, G = () => {
    for (const V of o.unMount) {
      const $ = ye(r, V);
      $ && ($._f.refs ? $._f.refs.every((Q) => !$c(Q)) : !$c($._f.ref)) && we(V);
    }
    o.unMount = /* @__PURE__ */ new Set();
  }, Y = (V, $) => !t.disabled && (V && $ && pt(a, V, $), !Kn(ie(), i)), z = (V, $, Q) => Wu(V, o, {
    ...s.mount ? a : ht($) ? i : En(V) ? { [V]: $ } : $
  }, Q, $), H = (V) => Ll(ye(s.mount ? a : i, V, t.shouldUnregister ? ye(i, V, []) : [])), L = (V, $, Q = {}) => {
    const Z = ye(r, V);
    let J = $;
    if (Z) {
      const T = Z._f;
      T && (!T.disabled && pt(a, V, cb($, T)), J = el(T.ref) && vn($) ? "" : $, sb(T.ref) ? [...T.ref.options].forEach((X) => X.selected = J.includes(X.value)) : T.refs ? Ys(T.ref) ? T.refs.forEach((X) => {
        (!X.defaultChecked || !X.disabled) && (Array.isArray(J) ? X.checked = !!J.find((le) => le === X.value) : X.checked = J === X.value || !!J);
      }) : T.refs.forEach((X) => X.checked = X.value === J) : ff(T.ref) ? T.ref.value = "" : (T.ref.value = J, T.ref.type || h.state.next({
        name: V,
        values: xt(a)
      })));
    }
    (Q.shouldDirty || Q.shouldTouch) && A(V, J, Q.shouldTouch, Q.shouldDirty, !0), Q.shouldValidate && O(V);
  }, q = (V, $, Q) => {
    for (const Z in $) {
      if (!$.hasOwnProperty(Z))
        return;
      const J = $[Z], T = V + "." + Z, X = ye(r, T);
      (o.array.has(V) || zt(J) || X && !X._f) && !xi(J) ? q(T, J, Q) : L(T, J, Q);
    }
  }, te = (V, $, Q = {}) => {
    const Z = ye(r, V), J = o.array.has(V), T = xt($);
    pt(a, V, T), J ? (h.array.next({
      name: V,
      values: xt(a)
    }), (p.isDirty || p.dirtyFields || g.isDirty || g.dirtyFields) && Q.shouldDirty && h.state.next({
      name: V,
      dirtyFields: na(i, a),
      isDirty: Y(V, T)
    })) : Z && !Z._f && !vn(T) ? q(V, T, Q) : L(V, T, Q), ju(V, o) ? h.state.next({
      ...n,
      name: V,
      values: xt(a)
    }) : h.state.next({
      name: s.mount ? V : void 0,
      values: xt(a)
    });
  }, ge = async (V) => {
    s.mount = !0;
    const $ = V.target;
    let Q = $.name, Z = !0;
    const J = ye(r, Q), T = (Se) => {
      Z = Number.isNaN(Se) || xi(Se) && isNaN(Se.getTime()) || Kn(Se, ye(a, Q, Se));
    }, X = ia(t.mode), le = ia(t.reValidateMode);
    if (J) {
      let Se, Ie;
      const yt = $.type ? Kh(J._f) : tb(V), At = V.type === Ko.BLUR || V.type === Ko.FOCUS_OUT, Gt = !TN(J._f) && !t.resolver && !ye(n.errors, Q) && !J._f.deps || LN(At, ye(n.touchedFields, Q), n.isSubmitted, le, X), Xt = ju(Q, o, At);
      pt(a, Q, yt), At ? (!$ || !$.readOnly) && (J._f.onBlur && J._f.onBlur(V), c && c(0)) : J._f.onChange && J._f.onChange(V);
      const Zt = A(Q, yt, At), bt = !on(Zt) || Xt;
      if (!At && h.state.next({
        name: Q,
        type: V.type,
        values: xt(a)
      }), Gt)
        return (p.isValid || g.isValid) && (t.mode === "onBlur" ? At && S() : At || S()), bt && h.state.next({ name: Q, ...Xt ? {} : Zt });
      if (!At && Xt && h.state.next({ ...n }), t.resolver) {
        const { errors: qt } = await D([Q]);
        if (w([Q]), T(yt), Z) {
          const Kt = tm(n.errors, r, Q), wr = tm(qt, r, Kt.name || Q);
          Se = wr.error, Q = wr.name, Ie = on(qt);
        }
      } else
        w([Q], !0), Se = (await $u(J, o.disabled, a, y, t.shouldUseNativeValidation))[Q], w([Q]), T(yt), Z && (Se ? Ie = !1 : (p.isValid || g.isValid) && (Ie = await P(r, !0)));
      Z && (J._f.deps && (!Array.isArray(J._f.deps) || J._f.deps.length > 0) && O(J._f.deps), N(Q, Ie, Se, Zt));
    }
  }, Ce = (V, $) => {
    if (ye(n.errors, $) && V.focus)
      return V.focus(), 1;
  }, O = async (V, $ = {}) => {
    let Q, Z;
    const J = yn(V);
    if (t.resolver) {
      const T = await F(ht(V) ? V : J);
      Q = on(T), Z = V ? !J.some((X) => ye(T, X)) : Q;
    } else V ? (Z = (await Promise.all(J.map(async (T) => {
      const X = ye(r, T);
      return await P(X && X._f ? { [T]: X } : X);
    }))).every(Boolean), !(!Z && !n.isValid) && S()) : Z = Q = await P(r);
    return h.state.next({
      ...!En(V) || (p.isValid || g.isValid) && Q !== n.isValid ? {} : { name: V },
      ...t.resolver || !V ? { isValid: Q } : {},
      errors: n.errors
    }), $.shouldFocus && !Z && la(r, Ce, V ? J : o.mount), Z;
  }, ie = (V, $) => {
    let Q = {
      ...s.mount ? a : i
    };
    return $ && (Q = ab($.dirtyFields ? n.dirtyFields : n.touchedFields, Q)), ht(V) ? Q : En(V) ? ye(Q, V) : V.map((Z) => ye(Q, Z));
  }, se = (V, $) => ({
    invalid: !!ye(($ || n).errors, V),
    isDirty: !!ye(($ || n).dirtyFields, V),
    error: ye(($ || n).errors, V),
    isValidating: !!ye(n.validatingFields, V),
    isTouched: !!ye(($ || n).touchedFields, V)
  }), R = (V) => {
    V && yn(V).forEach(($) => Lt(n.errors, $)), h.state.next({
      errors: V ? n.errors : {}
    });
  }, oe = (V, $, Q) => {
    const Z = (ye(r, V, { _f: {} })._f || {}).ref, J = ye(n.errors, V) || {}, { ref: T, message: X, type: le, ...Se } = J;
    pt(n.errors, V, {
      ...Se,
      ...$,
      ref: Z
    }), h.state.next({
      name: V,
      errors: n.errors,
      isValid: !1
    }), Q && Q.shouldFocus && Z && Z.focus && Z.focus();
  }, K = (V, $) => fn(V) ? h.state.subscribe({
    next: (Q) => "values" in Q && V(z(void 0, $), Q)
  }) : z(V, $, !0), fe = (V) => h.state.subscribe({
    next: ($) => {
      PN(V.name, $.name, V.exact) && FN($, V.formState || p, jt, V.reRenderRoot) && V.callback({
        values: { ...a },
        ...n,
        ...$,
        defaultValues: i
      });
    }
  }).unsubscribe, Ne = (V) => (s.mount = !0, g = {
    ...g,
    ...V.formState
  }, fe({
    ...V,
    formState: {
      ...f,
      ...V.formState
    }
  })), we = (V, $ = {}) => {
    for (const Q of V ? yn(V) : o.mount)
      o.mount.delete(Q), o.array.delete(Q), $.keepValue || (Lt(r, Q), Lt(a, Q)), !$.keepError && Lt(n.errors, Q), !$.keepDirty && Lt(n.dirtyFields, Q), !$.keepTouched && Lt(n.touchedFields, Q), !$.keepIsValidating && Lt(n.validatingFields, Q), !t.shouldUnregister && !$.keepDefaultValue && Lt(i, Q);
    h.state.next({
      values: xt(a)
    }), h.state.next({
      ...n,
      ...$.keepDirty ? { isDirty: Y() } : {}
    }), !$.keepIsValid && S();
  }, Fe = ({ disabled: V, name: $ }) => {
    if (_n(V) && s.mount || V || o.disabled.has($)) {
      const J = o.disabled.has($) !== !!V;
      V ? o.disabled.add($) : o.disabled.delete($), J && s.mount && !s.action && S();
    }
  }, Te = (V, $ = {}) => {
    let Q = ye(r, V);
    const Z = _n($.disabled) || _n(t.disabled);
    return pt(r, V, {
      ...Q || {},
      _f: {
        ...Q && Q._f ? Q._f : { ref: { name: V } },
        name: V,
        mount: !0,
        ...$
      }
    }), o.mount.add(V), Q ? Fe({
      disabled: _n($.disabled) ? $.disabled : t.disabled,
      name: V
    }) : C(V, !0, $.value), {
      ...Z ? { disabled: $.disabled || t.disabled } : {},
      ...t.progressive ? {
        required: !!$.required,
        min: ja($.min),
        max: ja($.max),
        minLength: ja($.minLength),
        maxLength: ja($.maxLength),
        pattern: ja($.pattern)
      } : {},
      name: V,
      onChange: ge,
      onBlur: ge,
      ref: (J) => {
        if (J) {
          Te(V, $), Q = ye(r, V);
          const T = ht(J.value) && J.querySelectorAll && J.querySelectorAll("input,select,textarea")[0] || J, X = NN(T), le = Q._f.refs || [];
          if (X ? le.find((Se) => Se === T) : T === Q._f.ref)
            return;
          pt(r, V, {
            _f: {
              ...Q._f,
              ...X ? {
                refs: [
                  ...le.filter($c),
                  T,
                  ...Array.isArray(ye(i, V)) ? [{}] : []
                ],
                ref: { type: T.type, name: V }
              } : { ref: T }
            }
          }), C(V, !1, void 0, T);
        } else
          Q = ye(r, V, {}), Q._f && (Q._f.mount = !1), (t.shouldUnregister || $.shouldUnregister) && !(nb(o.array, V) && s.action) && o.unMount.add(V);
      }
    };
  }, He = () => t.shouldFocusError && la(r, Ce, o.mount), ue = (V) => {
    _n(V) && (h.state.next({ disabled: V }), la(r, ($, Q) => {
      const Z = ye(r, Q);
      Z && ($.disabled = Z._f.disabled || V, Array.isArray(Z._f.refs) && Z._f.refs.forEach((J) => {
        J.disabled = Z._f.disabled || V;
      }));
    }, 0, !1));
  }, rt = (V, $) => async (Q) => {
    let Z;
    Q && (Q.preventDefault && Q.preventDefault(), Q.persist && Q.persist());
    let J = xt(a);
    if (h.state.next({
      isSubmitting: !0
    }), t.resolver) {
      const { errors: T, values: X } = await D();
      w(), n.errors = T, J = xt(X);
    } else
      await P(r);
    if (o.disabled.size)
      for (const T of o.disabled)
        Lt(J, T);
    if (Lt(n.errors, "root"), on(n.errors)) {
      h.state.next({
        errors: {}
      });
      try {
        await V(J, Q);
      } catch (T) {
        Z = T;
      }
    } else
      $ && await $({ ...n.errors }, Q), He(), setTimeout(He);
    if (h.state.next({
      isSubmitted: !0,
      isSubmitting: !1,
      isSubmitSuccessful: on(n.errors) && !Z,
      submitCount: n.submitCount + 1,
      errors: n.errors
    }), Z)
      throw Z;
  }, vt = (V, $ = {}) => {
    ye(r, V) && (ht($.defaultValue) ? te(V, xt(ye(i, V))) : (te(V, $.defaultValue), pt(i, V, xt($.defaultValue))), $.keepTouched || Lt(n.touchedFields, V), $.keepDirty || (Lt(n.dirtyFields, V), n.isDirty = $.defaultValue ? Y(V, xt(ye(i, V))) : Y()), $.keepError || (Lt(n.errors, V), p.isValid && S()), h.state.next({ ...n }));
  }, We = (V, $ = {}) => {
    const Q = V ? xt(V) : i, Z = xt(Q), J = on(V), T = J ? i : Z;
    if ($.keepDefaultValues || (i = Q), !$.keepValues) {
      if ($.keepDirtyValues) {
        const X = /* @__PURE__ */ new Set([
          ...o.mount,
          ...Object.keys(na(i, a))
        ]);
        for (const le of Array.from(X)) {
          const Se = ye(n.dirtyFields, le), Ie = ye(a, le), yt = ye(T, le);
          Se && !ht(Ie) ? pt(T, le, Ie) : !Se && !ht(yt) && te(le, yt);
        }
      } else {
        if (lf && ht(V))
          for (const X of o.mount) {
            const le = ye(r, X);
            if (le && le._f) {
              const Se = Array.isArray(le._f.refs) ? le._f.refs[0] : le._f.ref;
              if (el(Se)) {
                const Ie = Se.closest("form");
                if (Ie) {
                  Ie.reset();
                  break;
                }
              }
            }
          }
        if ($.keepFieldsRef)
          for (const X of o.mount)
            te(X, ye(T, X));
        else
          r = {};
      }
      a = t.shouldUnregister ? $.keepDefaultValues ? xt(i) : {} : xt(T), h.array.next({
        values: { ...T }
      }), h.state.next({
        values: { ...T }
      });
    }
    o = {
      mount: $.keepDirtyValues ? o.mount : /* @__PURE__ */ new Set(),
      unMount: /* @__PURE__ */ new Set(),
      array: /* @__PURE__ */ new Set(),
      disabled: /* @__PURE__ */ new Set(),
      watch: /* @__PURE__ */ new Set(),
      watchAll: !1,
      focus: ""
    }, s.mount = !p.isValid || !!$.keepIsValid || !!$.keepDirtyValues || !t.shouldUnregister && !on(T), s.watch = !!t.shouldUnregister, s.keepIsValid = !!$.keepIsValid, s.action = !1, $.keepErrors || (n.errors = {}), h.state.next({
      submitCount: $.keepSubmitCount ? n.submitCount : 0,
      isDirty: J ? !1 : $.keepDirty ? n.isDirty : !!($.keepDefaultValues && !Kn(V, i)),
      isSubmitted: $.keepIsSubmitted ? n.isSubmitted : !1,
      dirtyFields: J ? {} : $.keepDirtyValues ? $.keepDefaultValues && a ? na(i, a) : n.dirtyFields : $.keepDefaultValues && V ? na(i, V) : $.keepDirty ? n.dirtyFields : {},
      touchedFields: $.keepTouched ? n.touchedFields : {},
      errors: $.keepErrors ? n.errors : {},
      isSubmitSuccessful: $.keepIsSubmitSuccessful ? n.isSubmitSuccessful : !1,
      isSubmitting: !1,
      defaultValues: i
    });
  }, Bt = (V, $) => We(fn(V) ? V(a) : V, { ...t.resetOptions, ...$ }), Et = (V, $ = {}) => {
    const Q = ye(r, V), Z = Q && Q._f;
    if (Z) {
      const J = Z.refs ? Z.refs[0] : Z.ref;
      J.focus && setTimeout(() => {
        J.focus(), $.shouldSelect && fn(J.select) && J.select();
      });
    }
  }, jt = (V) => {
    n = {
      ...n,
      ...V
    };
  }, qe = {
    control: {
      register: Te,
      unregister: we,
      getFieldState: se,
      handleSubmit: rt,
      setError: oe,
      _subscribe: fe,
      _runSchema: D,
      _updateIsValidating: w,
      _focusError: He,
      _getWatch: z,
      _getDirty: Y,
      _setValid: S,
      _setFieldArray: I,
      _setDisabledField: Fe,
      _setErrors: E,
      _getFieldArray: H,
      _reset: We,
      _resetDefaultValues: () => fn(t.defaultValues) && t.defaultValues().then((V) => {
        Bt(V, t.resetOptions), h.state.next({
          isLoading: !1
        });
      }),
      _removeUnmounted: G,
      _disableForm: ue,
      _subjects: h,
      _proxyFormState: p,
      get _fields() {
        return r;
      },
      get _formValues() {
        return a;
      },
      get _state() {
        return s;
      },
      set _state(V) {
        s = V;
      },
      get _defaultValues() {
        return i;
      },
      get _names() {
        return o;
      },
      set _names(V) {
        o = V;
      },
      get _formState() {
        return n;
      },
      get _options() {
        return t;
      },
      set _options(V) {
        t = {
          ...t,
          ...V
        };
      }
    },
    subscribe: Ne,
    trigger: O,
    register: Te,
    handleSubmit: rt,
    watch: K,
    setValue: te,
    getValues: ie,
    reset: Bt,
    resetField: vt,
    clearErrors: R,
    unregister: we,
    setError: oe,
    setFocus: Et,
    getFieldState: se
  };
  return {
    ...qe,
    formControl: qe
  };
}
var Qr = () => {
  if (typeof crypto < "u" && crypto.randomUUID)
    return crypto.randomUUID();
  const e = typeof performance > "u" ? Date.now() : performance.now() * 1e3;
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (t) => {
    const n = (Math.random() * 16 + e) % 16 | 0;
    return (t == "x" ? n : n & 3 | 8).toString(16);
  });
}, Uc = (e, t, n = {}) => n.shouldFocus || ht(n.shouldFocus) ? n.focusName || `${e}.${ht(n.focusIndex) ? t : n.focusIndex}.` : "", Xc = (e, t) => [
  ...e,
  ...yn(t)
], Zc = (e) => Array.isArray(e) ? e.map(() => {
}) : void 0;
function qc(e, t, n) {
  return [
    ...e.slice(0, t),
    ...yn(n),
    ...e.slice(t)
  ];
}
var Jc = (e, t, n) => Array.isArray(e) ? (ht(e[n]) && (e[n] = void 0), e.splice(n, 0, e.splice(t, 1)[0]), e) : [], Qc = (e, t) => [
  ...yn(t),
  ...yn(e)
];
function YN(e, t) {
  let n = 0;
  const r = [...e];
  for (const i of t)
    r.splice(i - n, 1), n++;
  return Ll(r).length ? r : [];
}
var Kc = (e, t) => ht(t) ? [] : YN(e, yn(t).sort((n, r) => n - r)), eu = (e, t, n) => {
  [e[t], e[n]] = [e[n], e[t]];
}, rm = (e, t, n) => (e[t] = n, e);
function WN(e) {
  const t = Vl(), { control: n = t, name: r, keyName: i = "id", shouldUnregister: a, rules: s } = e, [o, c] = ne.useState(n._getFieldArray(r)), u = ne.useRef(n._getFieldArray(r).map(Qr)), f = ne.useRef(!1);
  n._names.array.add(r), ne.useMemo(() => s && o.length >= 0 && n.register(r, s), [n, r, o.length, s]), Bl(() => n._subjects.array.subscribe({
    next: ({ values: E, name: C }) => {
      if (C === r || !C) {
        const A = ye(E, r);
        Array.isArray(A) && (c(A), u.current = A.map(Qr));
      }
    }
  }).unsubscribe, [n, r]);
  const p = ne.useCallback((E) => {
    f.current = !0, n._setFieldArray(r, E);
  }, [n, r]), g = (E, C) => {
    const A = yn(xt(E)), N = Xc(n._getFieldArray(r), A);
    n._names.focus = Uc(r, N.length - 1, C), u.current = Xc(u.current, A.map(Qr)), p(N), c(N), n._setFieldArray(r, N, Xc, {
      argA: Zc(E)
    });
  }, h = (E, C) => {
    const A = yn(xt(E)), N = Qc(n._getFieldArray(r), A);
    n._names.focus = Uc(r, 0, C), u.current = Qc(u.current, A.map(Qr)), p(N), c(N), n._setFieldArray(r, N, Qc, {
      argA: Zc(E)
    });
  }, y = (E) => {
    const C = Kc(n._getFieldArray(r), E);
    u.current = Kc(u.current, E), p(C), c(C), !Array.isArray(ye(n._fields, r)) && pt(n._fields, r, void 0), n._setFieldArray(r, C, Kc, {
      argA: E
    });
  }, _ = (E, C, A) => {
    const N = yn(xt(C)), D = qc(n._getFieldArray(r), E, N);
    n._names.focus = Uc(r, E, A), u.current = qc(u.current, E, N.map(Qr)), p(D), c(D), n._setFieldArray(r, D, qc, {
      argA: E,
      argB: Zc(C)
    });
  }, S = (E, C) => {
    const A = n._getFieldArray(r);
    eu(A, E, C), eu(u.current, E, C), p(A), c(A), n._setFieldArray(r, A, eu, {
      argA: E,
      argB: C
    }, !1);
  }, w = (E, C) => {
    const A = n._getFieldArray(r);
    Jc(A, E, C), Jc(u.current, E, C), p(A), c(A), n._setFieldArray(r, A, Jc, {
      argA: E,
      argB: C
    }, !1);
  }, I = (E, C) => {
    const A = xt(C), N = rm(n._getFieldArray(r), E, A);
    u.current = [...N].map((D, F) => !D || F === E ? Qr() : u.current[F]), p(N), c([...N]), n._setFieldArray(r, N, rm, {
      argA: E,
      argB: A
    }, !0, !1);
  }, b = (E) => {
    const C = yn(xt(E));
    u.current = C.map(Qr), p([...C]), c([...C]), n._setFieldArray(r, [...C], (A) => A, {}, !0, !1);
  };
  return ne.useEffect(() => {
    if (n._state.action = !1, ju(r, n._names) && n._subjects.state.next({
      ...n._formState
    }), f.current && (!ia(n._options.mode).isOnSubmit || n._formState.isSubmitted) && !ia(n._options.reValidateMode).isOnSubmit)
      if (n._options.resolver)
        n._runSchema([r]).then((E) => {
          n._updateIsValidating([r]);
          const C = ye(E.errors, r), A = ye(n._formState.errors, r);
          (A ? !C && A.type || C && (A.type !== C.type || A.message !== C.message) : C && C.type) && (C ? pt(n._formState.errors, r, C) : Lt(n._formState.errors, r), n._subjects.state.next({
            errors: n._formState.errors
          }));
        });
      else {
        const E = ye(n._fields, r);
        E && E._f && !(ia(n._options.reValidateMode).isOnSubmit && ia(n._options.mode).isOnSubmit) && $u(E, n._names.disabled, n._formValues, n._options.criteriaMode === Bn.all, n._options.shouldUseNativeValidation, !0).then((C) => !on(C) && n._subjects.state.next({
          errors: db(n._formState.errors, C, r)
        }));
      }
    n._subjects.state.next({
      name: r,
      values: xt(n._formValues)
    }), n._names.focus && la(n._fields, (E, C) => {
      if (n._names.focus && C.startsWith(n._names.focus) && E.focus)
        return E.focus(), 1;
    }), n._names.focus = "", n._setValid(), f.current = !1;
  }, [o, r, n]), ne.useEffect(() => (!ye(n._formValues, r) && n._setFieldArray(r), () => {
    const E = (C, A) => {
      const N = ye(n._fields, C);
      N && N._f && (N._f.mount = A);
    };
    n._options.shouldUnregister || a ? n.unregister(r) : E(r, !1);
  }), [r, n, i, a]), {
    swap: ne.useCallback(S, [p, r, n]),
    move: ne.useCallback(w, [p, r, n]),
    prepend: ne.useCallback(h, [p, r, n]),
    append: ne.useCallback(g, [p, r, n]),
    remove: ne.useCallback(y, [p, r, n]),
    insert: ne.useCallback(_, [p, r, n]),
    update: ne.useCallback(I, [p, r, n]),
    replace: ne.useCallback(b, [p, r, n]),
    fields: ne.useMemo(() => o.map((E, C) => ({
      ...E,
      [i]: u.current[C] || Qr()
    })), [o, i])
  };
}
function rn(e = {}) {
  const t = ne.useRef(void 0), n = ne.useRef(void 0), [r, i] = ne.useState({
    isDirty: !1,
    isValidating: !1,
    isLoading: fn(e.defaultValues),
    isSubmitted: !1,
    isSubmitting: !1,
    isSubmitSuccessful: !1,
    isValid: !1,
    submitCount: 0,
    dirtyFields: {},
    touchedFields: {},
    validatingFields: {},
    errors: e.errors || {},
    disabled: e.disabled || !1,
    isReady: !1,
    defaultValues: fn(e.defaultValues) ? void 0 : e.defaultValues
  });
  if (!t.current)
    if (e.formControl)
      t.current = {
        ...e.formControl,
        formState: r
      }, e.defaultValues && !fn(e.defaultValues) && e.formControl.reset(e.defaultValues, e.resetOptions);
    else {
      const { formControl: s, ...o } = GN(e);
      t.current = {
        ...o,
        formState: r
      };
    }
  const a = t.current.control;
  return a._options = e, Bl(() => {
    const s = a._subscribe({
      formState: a._proxyFormState,
      callback: () => i({ ...a._formState }),
      reRenderRoot: !0
    });
    return i((o) => ({
      ...o,
      isReady: !0
    })), a._formState.isReady = !0, s;
  }, [a]), ne.useEffect(() => a._disableForm(e.disabled), [a, e.disabled]), ne.useEffect(() => {
    e.mode && (a._options.mode = e.mode), e.reValidateMode && (a._options.reValidateMode = e.reValidateMode);
  }, [a, e.mode, e.reValidateMode]), ne.useEffect(() => {
    e.errors && (a._setErrors(e.errors), a._focusError());
  }, [a, e.errors]), ne.useEffect(() => {
    e.shouldUnregister && a._subjects.state.next({
      values: a._getWatch()
    });
  }, [a, e.shouldUnregister]), ne.useEffect(() => {
    if (a._proxyFormState.isDirty) {
      const s = a._getDirty();
      s !== r.isDirty && a._subjects.state.next({
        isDirty: s
      });
    }
  }, [a, r.isDirty]), ne.useEffect(() => {
    var s;
    e.values && !Kn(e.values, n.current) ? (a._reset(e.values, {
      keepFieldsRef: !0,
      ...a._options.resetOptions
    }), !((s = a._options.resetOptions) === null || s === void 0) && s.keepIsValid || a._setValid(), n.current = e.values, i((o) => ({ ...o }))) : a._resetDefaultValues();
  }, [a, e.values]), ne.useEffect(() => {
    a._state.mount || (a._setValid(), a._state.mount = !0), a._state.watch && (a._state.watch = !1, a._subjects.state.next({ ...a._formState })), a._removeUnmounted();
  }), t.current.formState = ne.useMemo(() => rb(r, a), [a, r]), t.current;
}
function Oi({ module: e, refetchFn: t = () => {
} }) {
  const [n, r] = B(!1), [i, a] = B("Save"), [s, o] = B([]), [c, u] = B(e.latest_module_status);
  re(() => {
    u(e.latest_module_status);
  }, [e.latest_module_status]);
  const { register: f, handleSubmit: p, reset: g } = rn(), h = () => {
    r(!0);
  }, y = () => r(!1);
  re(() => {
    n && s.length > 0 && g({
      status: c ? c.status.id.toString() : "",
      description: c ? c.description : "",
      email_responsible_users: !1,
      email_trained_users: !1
    });
  }, [n, s]), re(() => {
    if (n) {
      async function S() {
        try {
          const w = await CI();
          o(w.items);
        } catch (w) {
          console.error("Failed to fetch status options:", w);
        }
      }
      S();
    }
  }, [n]);
  const _ = async (S) => {
    a("Saving...");
    try {
      let w = {
        module: e.id,
        status: Number(S.status),
        description: S.description
      };
      S.email_responsible_users && (w.email_responsible_users = !!S.email_responsible_users), S.email_trained_users && (w.email_trained_users = !!S.email_trained_users);
      let I = await ae.post("/create/equipment/module/status", w);
      a("Save"), u(I.data), t(), y();
    } catch (w) {
      a("The saving failed"), console.error("Failed to update status:", w);
    }
  };
  return /* @__PURE__ */ v(ve, { children: [
    c ? /* @__PURE__ */ l(
      Di,
      {
        placement: "top",
        overlay: /* @__PURE__ */ l(si, { id: `tooltip-${c.status.id}`, children: c.description || "No description available" }),
        children: /* @__PURE__ */ l(
          "div",
          {
            className: "badge",
            style: {
              color: c.status.front_color,
              backgroundColor: c.status.back_color,
              cursor: "pointer"
            },
            onClick: h,
            children: c.status?.status
          }
        )
      }
    ) : /* @__PURE__ */ l(Di, { placement: "top", overlay: /* @__PURE__ */ l(si, { children: "No status available" }), children: /* @__PURE__ */ l(hn, { pill: !0, bg: "primary", onClick: h, style: { cursor: "pointer" }, children: "No status" }) }),
    /* @__PURE__ */ v(be, { show: n, onHide: y, size: "lg", children: [
      /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ v(be.Title, { children: [
        "Update Module Status ",
        e.name
      ] }) }),
      /* @__PURE__ */ v(j, { onSubmit: p(_), children: [
        /* @__PURE__ */ v(be.Body, { children: [
          /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
            /* @__PURE__ */ l(j.Label, { children: "Status" }),
            /* @__PURE__ */ l(j.Select, { ...f("status", { required: !0 }), children: s.map((S) => /* @__PURE__ */ l("option", { value: S.id, children: S.status }, S.id)) })
          ] }),
          /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
            /* @__PURE__ */ l(j.Label, { children: "Description" }),
            /* @__PURE__ */ l(
              j.Control,
              {
                type: "text",
                as: "textarea",
                rows: 12,
                ...f("description", { required: !0 }),
                placeholder: "Optional descriptio for the status update"
              }
            )
          ] }),
          /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
            /* @__PURE__ */ l(
              j.Check,
              {
                type: "switch",
                id: "email_responsible_users",
                label: "Email responsible users",
                ...f("email_responsible_users")
              }
            ),
            /* @__PURE__ */ l(
              j.Check,
              {
                type: "switch",
                id: "email_trained_users",
                label: "Email trained users",
                ...f("email_trained_users")
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ v(be.Footer, { children: [
          /* @__PURE__ */ l(ce, { variant: "secondary", onClick: y, children: "Cancel" }),
          /* @__PURE__ */ l(ce, { variant: "primary", type: "submit", children: i })
        ] })
      ] })
    ] })
  ] });
}
const zN = ({ equipment: e }) => {
  const t = Gn({
    queryKey: ["module", e.id],
    queryFn: () => Ni({ equipment: e })
  });
  return t.isLoading || t.isFetching ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center flex-row align-items-center", children: /* @__PURE__ */ l("div", { className: "d-flex flex-column align-items-center", children: /* @__PURE__ */ l("div", { className: "spinner-border", role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading" }) }) }) }) : t.data == null || t.data.items.length <= 0 ? /* @__PURE__ */ l(ve, {}) : /* @__PURE__ */ l(
    Oi,
    {
      module: t.data.items.find((n) => n.id === e.main_tool_module_id) ?? t.data.items[0]
    }
  );
};
function HN({
  setup: e,
  equipmentList: t,
  removeEquipment: n,
  refetchQueries: r
}) {
  const { environment: i } = mt();
  return /* @__PURE__ */ v(Qt, { striped: !0, hover: !0, size: "sm", children: [
    /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("th", { children: "Number" }),
      /* @__PURE__ */ l("th", {}),
      /* @__PURE__ */ l("th", { children: "Status" }),
      /* @__PURE__ */ l("th", { children: "Name" }),
      /* @__PURE__ */ l("th", { children: "Types" }),
      /* @__PURE__ */ l("th", { children: "Lab" }),
      /* @__PURE__ */ l("th", { children: "Building" })
    ] }) }),
    /* @__PURE__ */ l("tbody", { children: t.map((a) => /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("a", { href: `/${i}/equipment/details/${a?.id}/general.html`, children: a.number }) }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ v(
        "button",
        {
          onClick: () => {
            n(a);
          },
          className: "btn btn-outline-danger btn-sm me-2",
          children: [
            /* @__PURE__ */ l("i", { className: "fa fa-plus" }),
            " Remove from setup"
          ]
        }
      ) }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(zN, { equipment: a }) }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l("a", { href: `/${i}/equipment/details/${a.id}/general.html`, children: a.name }),
        " ",
        /* @__PURE__ */ l("a", { href: `/${i}/equipment/edit/${a.id}.html`, children: /* @__PURE__ */ l("i", { className: "fa fa-pencil-square-o fa-fw" }) })
      ] }),
      /* @__PURE__ */ l("td", { children: a.types?.join(", ") }),
      /* @__PURE__ */ l("td", { children: a.room?.name }),
      /* @__PURE__ */ l("td", { children: a.room?.building.name })
    ] }, a.id)) })
  ] });
}
function jN({ setSearchQuery: e, resetFilter: t }) {
  const [n, r] = B("");
  return /* @__PURE__ */ l("div", { className: "ms-auto", children: /* @__PURE__ */ l("form", { onSubmit: (s) => {
    s.preventDefault(), e(n);
  }, children: /* @__PURE__ */ v("div", { className: "input-group", children: [
    /* @__PURE__ */ l(
      "input",
      {
        type: "search",
        name: "query",
        className: "form-control",
        placeholder: "Search",
        value: n,
        onChange: (s) => r(s.target.value)
      }
    ),
    /* @__PURE__ */ l("button", { type: "submit", className: "btn btn-primary submitButton", children: "Search" }),
    /* @__PURE__ */ l("button", { type: "button", onClick: () => {
      r(""), e(""), t();
    }, className: "btn btn-warning resetButton", children: "Reset" })
  ] }) }) });
}
function fb(e) {
  return e.value_options ?? e.options?.value_options;
}
function pb(...e) {
  return e.filter(Boolean).join("-").replace(/\s+/g, "_").replace(/[^A-Za-z0-9_\-:]/g, "");
}
function $N({
  filterElement: e,
  parent: t,
  filter: n,
  toggleFilterFn: r
}) {
  const i = fb(e);
  return i ? /* @__PURE__ */ v("div", { className: "mb-3", children: [
    /* @__PURE__ */ l("strong", { children: e.label ?? e.name }),
    Object.entries(i).map(([a, s]) => {
      const o = pb(t, e.name, a), c = !!n?.filter?.general.includes(a);
      return /* @__PURE__ */ v("div", { className: "form-check", children: [
        /* @__PURE__ */ l(
          "input",
          {
            type: "checkbox",
            id: o,
            name: `filter[${t}][]`,
            onChange: () => {
              r(a);
            },
            className: "form-check-input",
            checked: c
          }
        ),
        /* @__PURE__ */ l("label", { htmlFor: o, className: "form-check-label", dangerouslySetInnerHTML: { __html: s } })
      ] }, o);
    })
  ] }) : null;
}
function hb({
  fieldset: e,
  filter: t,
  toggleFacetFn: n
}) {
  return /* @__PURE__ */ v("div", { className: "simple-load-more load-more", children: [
    /* @__PURE__ */ v("strong", { children: [
      e.label ?? e.name,
      " "
    ] }),
    e.elements.map((r) => {
      const i = fb(r);
      return i ? Object.entries(i).map(([a, s]) => {
        const o = pb(e.name, r.name, a), c = !!t?.facet?.[e.name]?.values.includes(a);
        return /* @__PURE__ */ v("div", { className: "form-check form-check-search", children: [
          /* @__PURE__ */ l(
            "input",
            {
              type: "checkbox",
              id: o,
              name: `facet[${e.name}][${r.name}][]`,
              className: "form-check-input",
              onChange: () => {
                n(e.name, a);
              },
              checked: c
            }
          ),
          /* @__PURE__ */ l("label", { htmlFor: o, className: "form-check-label", dangerouslySetInnerHTML: { __html: s } })
        ] }, o);
      }) : null;
    }),
    Object.values(e.fieldsets).map((r) => /* @__PURE__ */ l("div", { className: "ms-3", children: /* @__PURE__ */ l(hb, { fieldset: r, filter: t, toggleFacetFn: n }) }, `${r.name}`))
  ] });
}
function UN({
  filterForm: e,
  filter: t,
  setFilterFn: n
}) {
  const r = (a, s) => {
    const o = t ? { ...t, filter: { ...t.filter }, facet: { ...t.facet } } : ys(e);
    if (o.facet[a] ? o.facet[a].values = [...o.facet[a].values] : o.facet[a] = { values: [] }, t?.facet?.[a]?.values.includes(s)) {
      const u = o.facet[a].values.indexOf(s);
      u > -1 && o.facet[a].values.splice(u, 1);
    } else
      o.facet[a].values.push(s);
    n(o);
  }, i = (a) => {
    const s = t ? { ...t, filter: { ...t.filter }, facet: { ...t.facet } } : ys(e);
    if (t?.filter.general.includes(a)) {
      const c = s.filter.general.indexOf(a);
      c > -1 && s.filter.general.splice(c, 1);
    } else
      s.filter.general.push(a);
    n(s);
  };
  return /* @__PURE__ */ v("div", { children: [
    e.filter.elements.map((a) => /* @__PURE__ */ l(
      $N,
      {
        filterElement: a,
        filter: t,
        parent: e.filter.name,
        toggleFilterFn: i
      },
      `${e.filter.name}-${a.name}`
    )),
    Object.values(e.facet.fieldsets).map((a) => a.visibility == "filter_bar" ? null : /* @__PURE__ */ l(
      hb,
      {
        fieldset: a,
        filter: t,
        toggleFacetFn: r
      },
      `${e.filter.name}-${a.name}`
    ))
  ] }, e.filter.name);
}
var Uu = /* @__PURE__ */ new Map(), vo = /* @__PURE__ */ new WeakMap(), im = 0, XN;
function ZN(e) {
  return e ? (vo.has(e) || (im += 1, vo.set(e, im.toString())), vo.get(e)) : "0";
}
function qN(e) {
  return Object.keys(e).sort().filter(
    (t) => e[t] !== void 0
  ).map((t) => `${t}_${t === "root" ? ZN(e.root) : e[t]}`).toString();
}
function JN(e) {
  const t = qN(e);
  let n = Uu.get(t);
  if (!n) {
    const r = /* @__PURE__ */ new Map();
    let i;
    const a = new IntersectionObserver((s) => {
      s.forEach((o) => {
        var c;
        const u = o.isIntersecting && i.some((f) => o.intersectionRatio >= f);
        e.trackVisibility && typeof o.isVisible > "u" && (o.isVisible = u), (c = r.get(o.target)) == null || c.forEach((f) => {
          f(u, o);
        });
      });
    }, e);
    i = a.thresholds || (Array.isArray(e.threshold) ? e.threshold : [e.threshold || 0]), n = {
      id: t,
      observer: a,
      elements: r
    }, Uu.set(t, n);
  }
  return n;
}
function QN(e, t, n = {}, r = XN) {
  if (typeof window.IntersectionObserver > "u" && r !== void 0) {
    const c = e.getBoundingClientRect();
    return t(r, {
      isIntersecting: r,
      target: e,
      intersectionRatio: typeof n.threshold == "number" ? n.threshold : 0,
      time: 0,
      boundingClientRect: c,
      intersectionRect: c,
      rootBounds: c
    }), () => {
    };
  }
  const { id: i, observer: a, elements: s } = JN(n), o = s.get(e) || [];
  return s.has(e) || s.set(e, o), o.push(t), a.observe(e), function() {
    o.splice(o.indexOf(t), 1), o.length === 0 && (s.delete(e), a.unobserve(e)), s.size === 0 && (a.disconnect(), Uu.delete(i));
  };
}
function KN({
  threshold: e,
  delay: t,
  trackVisibility: n,
  rootMargin: r,
  root: i,
  triggerOnce: a,
  skip: s,
  initialInView: o,
  fallbackInView: c,
  onChange: u
} = {}) {
  var f;
  const [p, g] = U.useState(null), h = U.useRef(u), y = U.useRef(o), [_, S] = U.useState({
    inView: !!o,
    entry: void 0
  });
  h.current = u, U.useEffect(
    () => {
      if (y.current === void 0 && (y.current = o), s || !p) return;
      let E;
      return E = QN(
        p,
        (C, A) => {
          const N = y.current;
          y.current = C, !(N === void 0 && !C) && (S({
            inView: C,
            entry: A
          }), h.current && h.current(C, A), A.isIntersecting && a && E && (E(), E = void 0));
        },
        {
          root: i,
          rootMargin: r,
          threshold: e,
          // @ts-expect-error
          trackVisibility: n,
          delay: t
        },
        c
      ), () => {
        E && E();
      };
    },
    // We break the rule here, because we aren't including the actual `threshold` variable
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      // If the threshold is an array, convert it to a string, so it won't change between renders.
      Array.isArray(e) ? e.toString() : e,
      p,
      i,
      r,
      a,
      s,
      n,
      c,
      t
    ]
  );
  const w = (f = _.entry) == null ? void 0 : f.target, I = U.useRef(void 0);
  !p && w && !a && !s && I.current !== w && (I.current = w, S({
    inView: !!o,
    entry: void 0
  }), y.current = o);
  const b = [g, _.inView, _.entry];
  return b.ref = b[0], b.inView = b[1], b.entry = b[2], b;
}
function Mi(e) {
  "@babel/helpers - typeof";
  return Mi = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, Mi(e);
}
function eA(e, t) {
  if (Mi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(e, t);
    if (Mi(r) != "object") return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function mb(e) {
  var t = eA(e, "string");
  return Mi(t) == "symbol" ? t : t + "";
}
function aa(e, t, n) {
  return (t = mb(t)) in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e;
}
function am(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e, i).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Pe(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? am(Object(n), !0).forEach(function(r) {
      aa(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : am(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function tA(e) {
  if (Array.isArray(e)) return e;
}
function nA(e, t) {
  var n = e == null ? null : typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n != null) {
    var r, i, a, s, o = [], c = !0, u = !1;
    try {
      if (a = (n = n.call(e)).next, t === 0) {
        if (Object(n) !== n) return;
        c = !1;
      } else for (; !(c = (r = a.call(n)).done) && (o.push(r.value), o.length !== t); c = !0) ;
    } catch (f) {
      u = !0, i = f;
    } finally {
      try {
        if (!c && n.return != null && (s = n.return(), Object(s) !== s)) return;
      } finally {
        if (u) throw i;
      }
    }
    return o;
  }
}
function Xu(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
  return r;
}
function gb(e, t) {
  if (e) {
    if (typeof e == "string") return Xu(e, t);
    var n = {}.toString.call(e).slice(8, -1);
    return n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set" ? Array.from(e) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Xu(e, t) : void 0;
  }
}
function rA() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Jt(e, t) {
  return tA(e) || nA(e, t) || gb(e, t) || rA();
}
function yr(e, t) {
  if (e == null) return {};
  var n, r, i = Rd(e, t);
  if (Object.getOwnPropertySymbols) {
    var a = Object.getOwnPropertySymbols(e);
    for (r = 0; r < a.length; r++) n = a[r], t.indexOf(n) === -1 && {}.propertyIsEnumerable.call(e, n) && (i[n] = e[n]);
  }
  return i;
}
var iA = ["defaultInputValue", "defaultMenuIsOpen", "defaultValue", "inputValue", "menuIsOpen", "onChange", "onInputChange", "onMenuClose", "onMenuOpen", "value"];
function vb(e) {
  var t = e.defaultInputValue, n = t === void 0 ? "" : t, r = e.defaultMenuIsOpen, i = r === void 0 ? !1 : r, a = e.defaultValue, s = a === void 0 ? null : a, o = e.inputValue, c = e.menuIsOpen, u = e.onChange, f = e.onInputChange, p = e.onMenuClose, g = e.onMenuOpen, h = e.value, y = yr(e, iA), _ = B(o !== void 0 ? o : n), S = Jt(_, 2), w = S[0], I = S[1], b = B(c !== void 0 ? c : i), E = Jt(b, 2), C = E[0], A = E[1], N = B(h !== void 0 ? h : s), D = Jt(N, 2), F = D[0], P = D[1], G = _e(function(ge, Ce) {
    typeof u == "function" && u(ge, Ce), P(ge);
  }, [u]), Y = _e(function(ge, Ce) {
    var O;
    typeof f == "function" && (O = f(ge, Ce)), I(O !== void 0 ? O : ge);
  }, [f]), z = _e(function() {
    typeof g == "function" && g(), A(!0);
  }, [g]), H = _e(function() {
    typeof p == "function" && p(), A(!1);
  }, [p]), L = o !== void 0 ? o : w, q = c !== void 0 ? c : C, te = h !== void 0 ? h : F;
  return Pe(Pe({}, y), {}, {
    inputValue: L,
    menuIsOpen: q,
    onChange: G,
    onInputChange: Y,
    onMenuClose: H,
    onMenuOpen: z,
    value: te
  });
}
function aA(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function sm(e, t) {
  for (var n = 0; n < t.length; n++) {
    var r = t[n];
    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, mb(r.key), r);
  }
}
function sA(e, t, n) {
  return t && sm(e.prototype, t), n && sm(e, n), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}
function oA(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  e.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(e, "prototype", {
    writable: !1
  }), t && $o(e, t);
}
function nl(e) {
  return nl = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
    return t.__proto__ || Object.getPrototypeOf(t);
  }, nl(e);
}
function yb() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
  } catch {
  }
  return (yb = function() {
    return !!e;
  })();
}
function lA(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function cA(e, t) {
  if (t && (Mi(t) == "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return lA(e);
}
function uA(e) {
  var t = yb();
  return function() {
    var n, r = nl(e);
    if (t) {
      var i = nl(this).constructor;
      n = Reflect.construct(r, arguments, i);
    } else n = r.apply(this, arguments);
    return cA(this, n);
  };
}
function dA(e) {
  if (Array.isArray(e)) return Xu(e);
}
function fA(e) {
  if (typeof Symbol < "u" && e[Symbol.iterator] != null || e["@@iterator"] != null) return Array.from(e);
}
function pA() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function hf(e) {
  return dA(e) || fA(e) || gb(e) || pA();
}
function hA(e) {
  if (e.sheet)
    return e.sheet;
  for (var t = 0; t < document.styleSheets.length; t++)
    if (document.styleSheets[t].ownerNode === e)
      return document.styleSheets[t];
}
function mA(e) {
  var t = document.createElement("style");
  return t.setAttribute("data-emotion", e.key), e.nonce !== void 0 && t.setAttribute("nonce", e.nonce), t.appendChild(document.createTextNode("")), t.setAttribute("data-s", ""), t;
}
var gA = /* @__PURE__ */ (function() {
  function e(n) {
    var r = this;
    this._insertTag = function(i) {
      var a;
      r.tags.length === 0 ? r.insertionPoint ? a = r.insertionPoint.nextSibling : r.prepend ? a = r.container.firstChild : a = r.before : a = r.tags[r.tags.length - 1].nextSibling, r.container.insertBefore(i, a), r.tags.push(i);
    }, this.isSpeedy = n.speedy === void 0 ? !0 : n.speedy, this.tags = [], this.ctr = 0, this.nonce = n.nonce, this.key = n.key, this.container = n.container, this.prepend = n.prepend, this.insertionPoint = n.insertionPoint, this.before = null;
  }
  var t = e.prototype;
  return t.hydrate = function(r) {
    r.forEach(this._insertTag);
  }, t.insert = function(r) {
    this.ctr % (this.isSpeedy ? 65e3 : 1) === 0 && this._insertTag(mA(this));
    var i = this.tags[this.tags.length - 1];
    if (this.isSpeedy) {
      var a = hA(i);
      try {
        a.insertRule(r, a.cssRules.length);
      } catch {
      }
    } else
      i.appendChild(document.createTextNode(r));
    this.ctr++;
  }, t.flush = function() {
    this.tags.forEach(function(r) {
      var i;
      return (i = r.parentNode) == null ? void 0 : i.removeChild(r);
    }), this.tags = [], this.ctr = 0;
  }, e;
})(), sn = "-ms-", rl = "-moz-", ot = "-webkit-", bb = "comm", mf = "rule", gf = "decl", vA = "@import", xb = "@keyframes", yA = "@layer", bA = Math.abs, Gl = String.fromCharCode, xA = Object.assign;
function wA(e, t) {
  return en(e, 0) ^ 45 ? (((t << 2 ^ en(e, 0)) << 2 ^ en(e, 1)) << 2 ^ en(e, 2)) << 2 ^ en(e, 3) : 0;
}
function wb(e) {
  return e.trim();
}
function CA(e, t) {
  return (e = t.exec(e)) ? e[0] : e;
}
function lt(e, t, n) {
  return e.replace(t, n);
}
function Zu(e, t) {
  return e.indexOf(t);
}
function en(e, t) {
  return e.charCodeAt(t) | 0;
}
function ms(e, t, n) {
  return e.slice(t, n);
}
function lr(e) {
  return e.length;
}
function vf(e) {
  return e.length;
}
function yo(e, t) {
  return t.push(e), e;
}
function SA(e, t) {
  return e.map(t).join("");
}
var Yl = 1, Ca = 1, Cb = 0, Cn = 0, Wt = 0, Na = "";
function Wl(e, t, n, r, i, a, s) {
  return { value: e, root: t, parent: n, type: r, props: i, children: a, line: Yl, column: Ca, length: s, return: "" };
}
function $a(e, t) {
  return xA(Wl("", null, null, "", null, null, 0), e, { length: -e.length }, t);
}
function IA() {
  return Wt;
}
function _A() {
  return Wt = Cn > 0 ? en(Na, --Cn) : 0, Ca--, Wt === 10 && (Ca = 1, Yl--), Wt;
}
function An() {
  return Wt = Cn < Cb ? en(Na, Cn++) : 0, Ca++, Wt === 10 && (Ca = 1, Yl++), Wt;
}
function hr() {
  return en(Na, Cn);
}
function To() {
  return Cn;
}
function Ws(e, t) {
  return ms(Na, e, t);
}
function gs(e) {
  switch (e) {
    // \0 \t \n \r \s whitespace token
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    // ! + , / > @ ~ isolate token
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    // ; { } breakpoint token
    case 59:
    case 123:
    case 125:
      return 4;
    // : accompanied token
    case 58:
      return 3;
    // " ' ( [ opening delimit token
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    // ) ] closing delimit token
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function Sb(e) {
  return Yl = Ca = 1, Cb = lr(Na = e), Cn = 0, [];
}
function Ib(e) {
  return Na = "", e;
}
function Fo(e) {
  return wb(Ws(Cn - 1, qu(e === 91 ? e + 2 : e === 40 ? e + 1 : e)));
}
function EA(e) {
  for (; (Wt = hr()) && Wt < 33; )
    An();
  return gs(e) > 2 || gs(Wt) > 3 ? "" : " ";
}
function kA(e, t) {
  for (; --t && An() && !(Wt < 48 || Wt > 102 || Wt > 57 && Wt < 65 || Wt > 70 && Wt < 97); )
    ;
  return Ws(e, To() + (t < 6 && hr() == 32 && An() == 32));
}
function qu(e) {
  for (; An(); )
    switch (Wt) {
      // ] ) " '
      case e:
        return Cn;
      // " '
      case 34:
      case 39:
        e !== 34 && e !== 39 && qu(Wt);
        break;
      // (
      case 40:
        e === 41 && qu(e);
        break;
      // \
      case 92:
        An();
        break;
    }
  return Cn;
}
function NA(e, t) {
  for (; An() && e + Wt !== 57; )
    if (e + Wt === 84 && hr() === 47)
      break;
  return "/*" + Ws(t, Cn - 1) + "*" + Gl(e === 47 ? e : An());
}
function AA(e) {
  for (; !gs(hr()); )
    An();
  return Ws(e, Cn);
}
function DA(e) {
  return Ib(Po("", null, null, null, [""], e = Sb(e), 0, [0], e));
}
function Po(e, t, n, r, i, a, s, o, c) {
  for (var u = 0, f = 0, p = s, g = 0, h = 0, y = 0, _ = 1, S = 1, w = 1, I = 0, b = "", E = i, C = a, A = r, N = b; S; )
    switch (y = I, I = An()) {
      // (
      case 40:
        if (y != 108 && en(N, p - 1) == 58) {
          Zu(N += lt(Fo(I), "&", "&\f"), "&\f") != -1 && (w = -1);
          break;
        }
      // " ' [
      case 34:
      case 39:
      case 91:
        N += Fo(I);
        break;
      // \t \n \r \s
      case 9:
      case 10:
      case 13:
      case 32:
        N += EA(y);
        break;
      // \
      case 92:
        N += kA(To() - 1, 7);
        continue;
      // /
      case 47:
        switch (hr()) {
          case 42:
          case 47:
            yo(OA(NA(An(), To()), t, n), c);
            break;
          default:
            N += "/";
        }
        break;
      // {
      case 123 * _:
        o[u++] = lr(N) * w;
      // } ; \0
      case 125 * _:
      case 59:
      case 0:
        switch (I) {
          // \0 }
          case 0:
          case 125:
            S = 0;
          // ;
          case 59 + f:
            w == -1 && (N = lt(N, /\f/g, "")), h > 0 && lr(N) - p && yo(h > 32 ? lm(N + ";", r, n, p - 1) : lm(lt(N, " ", "") + ";", r, n, p - 2), c);
            break;
          // @ ;
          case 59:
            N += ";";
          // { rule/at-rule
          default:
            if (yo(A = om(N, t, n, u, f, i, o, b, E = [], C = [], p), a), I === 123)
              if (f === 0)
                Po(N, t, A, A, E, a, p, o, C);
              else
                switch (g === 99 && en(N, 3) === 110 ? 100 : g) {
                  // d l m s
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    Po(e, A, A, r && yo(om(e, A, A, 0, 0, i, o, b, i, E = [], p), C), i, C, p, o, r ? E : C);
                    break;
                  default:
                    Po(N, A, A, A, [""], C, 0, o, C);
                }
        }
        u = f = h = 0, _ = w = 1, b = N = "", p = s;
        break;
      // :
      case 58:
        p = 1 + lr(N), h = y;
      default:
        if (_ < 1) {
          if (I == 123)
            --_;
          else if (I == 125 && _++ == 0 && _A() == 125)
            continue;
        }
        switch (N += Gl(I), I * _) {
          // &
          case 38:
            w = f > 0 ? 1 : (N += "\f", -1);
            break;
          // ,
          case 44:
            o[u++] = (lr(N) - 1) * w, w = 1;
            break;
          // @
          case 64:
            hr() === 45 && (N += Fo(An())), g = hr(), f = p = lr(b = N += AA(To())), I++;
            break;
          // -
          case 45:
            y === 45 && lr(N) == 2 && (_ = 0);
        }
    }
  return a;
}
function om(e, t, n, r, i, a, s, o, c, u, f) {
  for (var p = i - 1, g = i === 0 ? a : [""], h = vf(g), y = 0, _ = 0, S = 0; y < r; ++y)
    for (var w = 0, I = ms(e, p + 1, p = bA(_ = s[y])), b = e; w < h; ++w)
      (b = wb(_ > 0 ? g[w] + " " + I : lt(I, /&\f/g, g[w]))) && (c[S++] = b);
  return Wl(e, t, n, i === 0 ? mf : o, c, u, f);
}
function OA(e, t, n) {
  return Wl(e, t, n, bb, Gl(IA()), ms(e, 2, -2), 0);
}
function lm(e, t, n, r) {
  return Wl(e, t, n, gf, ms(e, 0, r), ms(e, r + 1, -1), r);
}
function ca(e, t) {
  for (var n = "", r = vf(e), i = 0; i < r; i++)
    n += t(e[i], i, e, t) || "";
  return n;
}
function MA(e, t, n, r) {
  switch (e.type) {
    case yA:
      if (e.children.length) break;
    case vA:
    case gf:
      return e.return = e.return || e.value;
    case bb:
      return "";
    case xb:
      return e.return = e.value + "{" + ca(e.children, r) + "}";
    case mf:
      e.value = e.props.join(",");
  }
  return lr(n = ca(e.children, r)) ? e.return = e.value + "{" + n + "}" : "";
}
function RA(e) {
  var t = vf(e);
  return function(n, r, i, a) {
    for (var s = "", o = 0; o < t; o++)
      s += e[o](n, r, i, a) || "";
    return s;
  };
}
function TA(e) {
  return function(t) {
    t.root || (t = t.return) && e(t);
  };
}
function FA(e) {
  var t = /* @__PURE__ */ Object.create(null);
  return function(n) {
    return t[n] === void 0 && (t[n] = e(n)), t[n];
  };
}
var PA = function(t, n, r) {
  for (var i = 0, a = 0; i = a, a = hr(), i === 38 && a === 12 && (n[r] = 1), !gs(a); )
    An();
  return Ws(t, Cn);
}, LA = function(t, n) {
  var r = -1, i = 44;
  do
    switch (gs(i)) {
      case 0:
        i === 38 && hr() === 12 && (n[r] = 1), t[r] += PA(Cn - 1, n, r);
        break;
      case 2:
        t[r] += Fo(i);
        break;
      case 4:
        if (i === 44) {
          t[++r] = hr() === 58 ? "&\f" : "", n[r] = t[r].length;
          break;
        }
      // fallthrough
      default:
        t[r] += Gl(i);
    }
  while (i = An());
  return t;
}, VA = function(t, n) {
  return Ib(LA(Sb(t), n));
}, cm = /* @__PURE__ */ new WeakMap(), BA = function(t) {
  if (!(t.type !== "rule" || !t.parent || // positive .length indicates that this rule contains pseudo
  // negative .length indicates that this rule has been already prefixed
  t.length < 1)) {
    for (var n = t.value, r = t.parent, i = t.column === r.column && t.line === r.line; r.type !== "rule"; )
      if (r = r.parent, !r) return;
    if (!(t.props.length === 1 && n.charCodeAt(0) !== 58 && !cm.get(r)) && !i) {
      cm.set(t, !0);
      for (var a = [], s = VA(n, a), o = r.props, c = 0, u = 0; c < s.length; c++)
        for (var f = 0; f < o.length; f++, u++)
          t.props[u] = a[c] ? s[c].replace(/&\f/g, o[f]) : o[f] + " " + s[c];
    }
  }
}, GA = function(t) {
  if (t.type === "decl") {
    var n = t.value;
    // charcode for l
    n.charCodeAt(0) === 108 && // charcode for b
    n.charCodeAt(2) === 98 && (t.return = "", t.value = "");
  }
};
function _b(e, t) {
  switch (wA(e, t)) {
    // color-adjust
    case 5103:
      return ot + "print-" + e + e;
    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return ot + e + e;
    // appearance, user-select, transform, hyphens, text-size-adjust
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return ot + e + rl + e + sn + e + e;
    // flex, flex-direction
    case 6828:
    case 4268:
      return ot + e + sn + e + e;
    // order
    case 6165:
      return ot + e + sn + "flex-" + e + e;
    // align-items
    case 5187:
      return ot + e + lt(e, /(\w+).+(:[^]+)/, ot + "box-$1$2" + sn + "flex-$1$2") + e;
    // align-self
    case 5443:
      return ot + e + sn + "flex-item-" + lt(e, /flex-|-self/, "") + e;
    // align-content
    case 4675:
      return ot + e + sn + "flex-line-pack" + lt(e, /align-content|flex-|-self/, "") + e;
    // flex-shrink
    case 5548:
      return ot + e + sn + lt(e, "shrink", "negative") + e;
    // flex-basis
    case 5292:
      return ot + e + sn + lt(e, "basis", "preferred-size") + e;
    // flex-grow
    case 6060:
      return ot + "box-" + lt(e, "-grow", "") + ot + e + sn + lt(e, "grow", "positive") + e;
    // transition
    case 4554:
      return ot + lt(e, /([^-])(transform)/g, "$1" + ot + "$2") + e;
    // cursor
    case 6187:
      return lt(lt(lt(e, /(zoom-|grab)/, ot + "$1"), /(image-set)/, ot + "$1"), e, "") + e;
    // background, background-image
    case 5495:
    case 3959:
      return lt(e, /(image-set\([^]*)/, ot + "$1$`$1");
    // justify-content
    case 4968:
      return lt(lt(e, /(.+:)(flex-)?(.*)/, ot + "box-pack:$3" + sn + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + ot + e + e;
    // (margin|padding)-inline-(start|end)
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return lt(e, /(.+)-inline(.+)/, ot + "$1$2") + e;
    // (min|max)?(width|height|inline-size|block-size)
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (lr(e) - 1 - t > 6) switch (en(e, t + 1)) {
        // (m)ax-content, (m)in-content
        case 109:
          if (en(e, t + 4) !== 45) break;
        // (f)ill-available, (f)it-content
        case 102:
          return lt(e, /(.+:)(.+)-([^]+)/, "$1" + ot + "$2-$3$1" + rl + (en(e, t + 3) == 108 ? "$3" : "$2-$3")) + e;
        // (s)tretch
        case 115:
          return ~Zu(e, "stretch") ? _b(lt(e, "stretch", "fill-available"), t) + e : e;
      }
      break;
    // position: sticky
    case 4949:
      if (en(e, t + 1) !== 115) break;
    // display: (flex|inline-flex)
    case 6444:
      switch (en(e, lr(e) - 3 - (~Zu(e, "!important") && 10))) {
        // stic(k)y
        case 107:
          return lt(e, ":", ":" + ot) + e;
        // (inline-)?fl(e)x
        case 101:
          return lt(e, /(.+:)([^;!]+)(;|!.+)?/, "$1" + ot + (en(e, 14) === 45 ? "inline-" : "") + "box$3$1" + ot + "$2$3$1" + sn + "$2box$3") + e;
      }
      break;
    // writing-mode
    case 5936:
      switch (en(e, t + 11)) {
        // vertical-l(r)
        case 114:
          return ot + e + sn + lt(e, /[svh]\w+-[tblr]{2}/, "tb") + e;
        // vertical-r(l)
        case 108:
          return ot + e + sn + lt(e, /[svh]\w+-[tblr]{2}/, "tb-rl") + e;
        // horizontal(-)tb
        case 45:
          return ot + e + sn + lt(e, /[svh]\w+-[tblr]{2}/, "lr") + e;
      }
      return ot + e + sn + e + e;
  }
  return e;
}
var YA = function(t, n, r, i) {
  if (t.length > -1 && !t.return) switch (t.type) {
    case gf:
      t.return = _b(t.value, t.length);
      break;
    case xb:
      return ca([$a(t, {
        value: lt(t.value, "@", "@" + ot)
      })], i);
    case mf:
      if (t.length) return SA(t.props, function(a) {
        switch (CA(a, /(::plac\w+|:read-\w+)/)) {
          // :read-(only|write)
          case ":read-only":
          case ":read-write":
            return ca([$a(t, {
              props: [lt(a, /:(read-\w+)/, ":" + rl + "$1")]
            })], i);
          // :placeholder
          case "::placeholder":
            return ca([$a(t, {
              props: [lt(a, /:(plac\w+)/, ":" + ot + "input-$1")]
            }), $a(t, {
              props: [lt(a, /:(plac\w+)/, ":" + rl + "$1")]
            }), $a(t, {
              props: [lt(a, /:(plac\w+)/, sn + "input-$1")]
            })], i);
        }
        return "";
      });
  }
}, WA = [YA], zA = function(t) {
  var n = t.key;
  if (n === "css") {
    var r = document.querySelectorAll("style[data-emotion]:not([data-s])");
    Array.prototype.forEach.call(r, function(_) {
      var S = _.getAttribute("data-emotion");
      S.indexOf(" ") !== -1 && (document.head.appendChild(_), _.setAttribute("data-s", ""));
    });
  }
  var i = t.stylisPlugins || WA, a = {}, s, o = [];
  s = t.container || document.head, Array.prototype.forEach.call(
    // this means we will ignore elements which don't have a space in them which
    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements
    document.querySelectorAll('style[data-emotion^="' + n + ' "]'),
    function(_) {
      for (var S = _.getAttribute("data-emotion").split(" "), w = 1; w < S.length; w++)
        a[S[w]] = !0;
      o.push(_);
    }
  );
  var c, u = [BA, GA];
  {
    var f, p = [MA, TA(function(_) {
      f.insert(_);
    })], g = RA(u.concat(i, p)), h = function(S) {
      return ca(DA(S), g);
    };
    c = function(S, w, I, b) {
      f = I, h(S ? S + "{" + w.styles + "}" : w.styles), b && (y.inserted[w.name] = !0);
    };
  }
  var y = {
    key: n,
    sheet: new gA({
      key: n,
      container: s,
      nonce: t.nonce,
      speedy: t.speedy,
      prepend: t.prepend,
      insertionPoint: t.insertionPoint
    }),
    nonce: t.nonce,
    inserted: a,
    registered: {},
    insert: c
  };
  return y.sheet.hydrate(o), y;
}, tu, um;
function HA() {
  if (um) return tu;
  um = 1;
  var e = Td(), t = {
    childContextTypes: !0,
    contextType: !0,
    contextTypes: !0,
    defaultProps: !0,
    displayName: !0,
    getDefaultProps: !0,
    getDerivedStateFromError: !0,
    getDerivedStateFromProps: !0,
    mixins: !0,
    propTypes: !0,
    type: !0
  }, n = {
    name: !0,
    length: !0,
    prototype: !0,
    caller: !0,
    callee: !0,
    arguments: !0,
    arity: !0
  }, r = {
    $$typeof: !0,
    render: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0
  }, i = {
    $$typeof: !0,
    compare: !0,
    defaultProps: !0,
    displayName: !0,
    propTypes: !0,
    type: !0
  }, a = {};
  a[e.ForwardRef] = r, a[e.Memo] = i;
  function s(y) {
    return e.isMemo(y) ? i : a[y.$$typeof] || t;
  }
  var o = Object.defineProperty, c = Object.getOwnPropertyNames, u = Object.getOwnPropertySymbols, f = Object.getOwnPropertyDescriptor, p = Object.getPrototypeOf, g = Object.prototype;
  function h(y, _, S) {
    if (typeof _ != "string") {
      if (g) {
        var w = p(_);
        w && w !== g && h(y, w, S);
      }
      var I = c(_);
      u && (I = I.concat(u(_)));
      for (var b = s(y), E = s(_), C = 0; C < I.length; ++C) {
        var A = I[C];
        if (!n[A] && !(S && S[A]) && !(E && E[A]) && !(b && b[A])) {
          var N = f(_, A);
          try {
            o(y, A, N);
          } catch {
          }
        }
      }
    }
    return y;
  }
  return tu = h, tu;
}
HA();
var jA = !0;
function $A(e, t, n) {
  var r = "";
  return n.split(" ").forEach(function(i) {
    e[i] !== void 0 ? t.push(e[i] + ";") : i && (r += i + " ");
  }), r;
}
var Eb = function(t, n, r) {
  var i = t.key + "-" + n.name;
  // we only need to add the styles to the registered cache if the
  // class name could be used further down
  // the tree but if it's a string tag, we know it won't
  // so we don't have to add it to registered cache.
  // this improves memory usage since we can avoid storing the whole style string
  (r === !1 || // we need to always store it if we're in compat mode and
  // in node since emotion-server relies on whether a style is in
  // the registered cache to know whether a style is global or not
  // also, note that this check will be dead code eliminated in the browser
  jA === !1) && t.registered[i] === void 0 && (t.registered[i] = n.styles);
}, UA = function(t, n, r) {
  Eb(t, n, r);
  var i = t.key + "-" + n.name;
  if (t.inserted[n.name] === void 0) {
    var a = n;
    do
      t.insert(n === a ? "." + i : "", a, t.sheet, !0), a = a.next;
    while (a !== void 0);
  }
};
function XA(e) {
  for (var t = 0, n, r = 0, i = e.length; i >= 4; ++r, i -= 4)
    n = e.charCodeAt(r) & 255 | (e.charCodeAt(++r) & 255) << 8 | (e.charCodeAt(++r) & 255) << 16 | (e.charCodeAt(++r) & 255) << 24, n = /* Math.imul(k, m): */
    (n & 65535) * 1540483477 + ((n >>> 16) * 59797 << 16), n ^= /* k >>> r: */
    n >>> 24, t = /* Math.imul(k, m): */
    (n & 65535) * 1540483477 + ((n >>> 16) * 59797 << 16) ^ /* Math.imul(h, m): */
    (t & 65535) * 1540483477 + ((t >>> 16) * 59797 << 16);
  switch (i) {
    case 3:
      t ^= (e.charCodeAt(r + 2) & 255) << 16;
    case 2:
      t ^= (e.charCodeAt(r + 1) & 255) << 8;
    case 1:
      t ^= e.charCodeAt(r) & 255, t = /* Math.imul(h, m): */
      (t & 65535) * 1540483477 + ((t >>> 16) * 59797 << 16);
  }
  return t ^= t >>> 13, t = /* Math.imul(h, m): */
  (t & 65535) * 1540483477 + ((t >>> 16) * 59797 << 16), ((t ^ t >>> 15) >>> 0).toString(36);
}
var ZA = {
  animationIterationCount: 1,
  aspectRatio: 1,
  borderImageOutset: 1,
  borderImageSlice: 1,
  borderImageWidth: 1,
  boxFlex: 1,
  boxFlexGroup: 1,
  boxOrdinalGroup: 1,
  columnCount: 1,
  columns: 1,
  flex: 1,
  flexGrow: 1,
  flexPositive: 1,
  flexShrink: 1,
  flexNegative: 1,
  flexOrder: 1,
  gridRow: 1,
  gridRowEnd: 1,
  gridRowSpan: 1,
  gridRowStart: 1,
  gridColumn: 1,
  gridColumnEnd: 1,
  gridColumnSpan: 1,
  gridColumnStart: 1,
  msGridRow: 1,
  msGridRowSpan: 1,
  msGridColumn: 1,
  msGridColumnSpan: 1,
  fontWeight: 1,
  lineHeight: 1,
  opacity: 1,
  order: 1,
  orphans: 1,
  scale: 1,
  tabSize: 1,
  widows: 1,
  zIndex: 1,
  zoom: 1,
  WebkitLineClamp: 1,
  // SVG-related properties
  fillOpacity: 1,
  floodOpacity: 1,
  stopOpacity: 1,
  strokeDasharray: 1,
  strokeDashoffset: 1,
  strokeMiterlimit: 1,
  strokeOpacity: 1,
  strokeWidth: 1
}, qA = /[A-Z]|^ms/g, JA = /_EMO_([^_]+?)_([^]*?)_EMO_/g, kb = function(t) {
  return t.charCodeAt(1) === 45;
}, dm = function(t) {
  return t != null && typeof t != "boolean";
}, nu = /* @__PURE__ */ FA(function(e) {
  return kb(e) ? e : e.replace(qA, "-$&").toLowerCase();
}), fm = function(t, n) {
  switch (t) {
    case "animation":
    case "animationName":
      if (typeof n == "string")
        return n.replace(JA, function(r, i, a) {
          return cr = {
            name: i,
            styles: a,
            next: cr
          }, i;
        });
  }
  return ZA[t] !== 1 && !kb(t) && typeof n == "number" && n !== 0 ? n + "px" : n;
};
function vs(e, t, n) {
  if (n == null)
    return "";
  var r = n;
  if (r.__emotion_styles !== void 0)
    return r;
  switch (typeof n) {
    case "boolean":
      return "";
    case "object": {
      var i = n;
      if (i.anim === 1)
        return cr = {
          name: i.name,
          styles: i.styles,
          next: cr
        }, i.name;
      var a = n;
      if (a.styles !== void 0) {
        var s = a.next;
        if (s !== void 0)
          for (; s !== void 0; )
            cr = {
              name: s.name,
              styles: s.styles,
              next: cr
            }, s = s.next;
        var o = a.styles + ";";
        return o;
      }
      return QA(e, t, n);
    }
    case "function": {
      if (e !== void 0) {
        var c = cr, u = n(e);
        return cr = c, vs(e, t, u);
      }
      break;
    }
  }
  var f = n;
  return f;
}
function QA(e, t, n) {
  var r = "";
  if (Array.isArray(n))
    for (var i = 0; i < n.length; i++)
      r += vs(e, t, n[i]) + ";";
  else
    for (var a in n) {
      var s = n[a];
      if (typeof s != "object") {
        var o = s;
        dm(o) && (r += nu(a) + ":" + fm(a, o) + ";");
      } else if (Array.isArray(s) && typeof s[0] == "string" && t == null)
        for (var c = 0; c < s.length; c++)
          dm(s[c]) && (r += nu(a) + ":" + fm(a, s[c]) + ";");
      else {
        var u = vs(e, t, s);
        switch (a) {
          case "animation":
          case "animationName": {
            r += nu(a) + ":" + u + ";";
            break;
          }
          default:
            r += a + "{" + u + "}";
        }
      }
    }
  return r;
}
var pm = /label:\s*([^\s;{]+)\s*(;|$)/g, cr;
function Nb(e, t, n) {
  if (e.length === 1 && typeof e[0] == "object" && e[0] !== null && e[0].styles !== void 0)
    return e[0];
  var r = !0, i = "";
  cr = void 0;
  var a = e[0];
  if (a == null || a.raw === void 0)
    r = !1, i += vs(n, t, a);
  else {
    var s = a;
    i += s[0];
  }
  for (var o = 1; o < e.length; o++)
    if (i += vs(n, t, e[o]), r) {
      var c = a;
      i += c[o];
    }
  pm.lastIndex = 0;
  for (var u = "", f; (f = pm.exec(i)) !== null; )
    u += "-" + f[1];
  var p = XA(i) + u;
  return {
    name: p,
    styles: i,
    next: cr
  };
}
var KA = function(t) {
  return t();
}, eD = U.useInsertionEffect ? U.useInsertionEffect : !1, tD = eD || KA, Ab = /* @__PURE__ */ U.createContext(
  // we're doing this to avoid preconstruct's dead code elimination in this one case
  // because this module is primarily intended for the browser and node
  // but it's also required in react native and similar environments sometimes
  // and we could have a special build just for that
  // but this is much easier and the native packages
  // might use a different theme context in the future anyway
  typeof HTMLElement < "u" ? /* @__PURE__ */ zA({
    key: "css"
  }) : null
);
Ab.Provider;
var nD = function(t) {
  return /* @__PURE__ */ _s(function(n, r) {
    var i = ke(Ab);
    return t(n, i, r);
  });
}, rD = /* @__PURE__ */ U.createContext({}), yf = {}.hasOwnProperty, Ju = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__", iD = function(t, n) {
  var r = {};
  for (var i in n)
    yf.call(n, i) && (r[i] = n[i]);
  return r[Ju] = t, r;
}, aD = function(t) {
  var n = t.cache, r = t.serialized, i = t.isStringTag;
  return Eb(n, r, i), tD(function() {
    return UA(n, r, i);
  }), null;
}, sD = /* @__PURE__ */ nD(function(e, t, n) {
  var r = e.css;
  typeof r == "string" && t.registered[r] !== void 0 && (r = t.registered[r]);
  var i = e[Ju], a = [r], s = "";
  typeof e.className == "string" ? s = $A(t.registered, a, e.className) : e.className != null && (s = e.className + " ");
  var o = Nb(a, void 0, U.useContext(rD));
  s += t.key + "-" + o.name;
  var c = {};
  for (var u in e)
    yf.call(e, u) && u !== "css" && u !== Ju && (c[u] = e[u]);
  return c.className = s, n && (c.ref = n), /* @__PURE__ */ U.createElement(U.Fragment, null, /* @__PURE__ */ U.createElement(aD, {
    cache: t,
    serialized: o,
    isStringTag: typeof i == "string"
  }), /* @__PURE__ */ U.createElement(i, c));
}), oD = sD, Le = function(t, n) {
  var r = arguments;
  if (n == null || !yf.call(n, "css"))
    return U.createElement.apply(void 0, r);
  var i = r.length, a = new Array(i);
  a[0] = oD, a[1] = iD(t, n);
  for (var s = 2; s < i; s++)
    a[s] = r[s];
  return U.createElement.apply(null, a);
};
(function(e) {
  var t;
  t || (t = e.JSX || (e.JSX = {}));
})(Le || (Le = {}));
function bf() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return Nb(t);
}
function lD() {
  var e = bf.apply(void 0, arguments), t = "animation-" + e.name;
  return {
    name: t,
    styles: "@keyframes " + t + "{" + e.styles + "}",
    anim: 1,
    toString: function() {
      return "_EMO_" + this.name + "_" + this.styles + "_EMO_";
    }
  };
}
function cD(e, t) {
  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {
    raw: {
      value: Object.freeze(t)
    }
  }));
}
const uD = Math.min, dD = Math.max, il = Math.round, bo = Math.floor, al = (e) => ({
  x: e,
  y: e
});
function fD(e) {
  const {
    x: t,
    y: n,
    width: r,
    height: i
  } = e;
  return {
    width: r,
    height: i,
    top: n,
    left: t,
    right: t + r,
    bottom: n + i,
    x: t,
    y: n
  };
}
function zl() {
  return typeof window < "u";
}
function Db(e) {
  return Mb(e) ? (e.nodeName || "").toLowerCase() : "#document";
}
function Hr(e) {
  var t;
  return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;
}
function Ob(e) {
  var t;
  return (t = (Mb(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;
}
function Mb(e) {
  return zl() ? e instanceof Node || e instanceof Hr(e).Node : !1;
}
function pD(e) {
  return zl() ? e instanceof Element || e instanceof Hr(e).Element : !1;
}
function xf(e) {
  return zl() ? e instanceof HTMLElement || e instanceof Hr(e).HTMLElement : !1;
}
function hm(e) {
  return !zl() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof Hr(e).ShadowRoot;
}
const hD = /* @__PURE__ */ new Set(["inline", "contents"]);
function Rb(e) {
  const {
    overflow: t,
    overflowX: n,
    overflowY: r,
    display: i
  } = wf(e);
  return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && !hD.has(i);
}
function mD() {
  return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none");
}
const gD = /* @__PURE__ */ new Set(["html", "body", "#document"]);
function vD(e) {
  return gD.has(Db(e));
}
function wf(e) {
  return Hr(e).getComputedStyle(e);
}
function yD(e) {
  if (Db(e) === "html")
    return e;
  const t = (
    // Step into the shadow DOM of the parent of a slotted node.
    e.assignedSlot || // DOM Element detected.
    e.parentNode || // ShadowRoot detected.
    hm(e) && e.host || // Fallback.
    Ob(e)
  );
  return hm(t) ? t.host : t;
}
function Tb(e) {
  const t = yD(e);
  return vD(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : xf(t) && Rb(t) ? t : Tb(t);
}
function sl(e, t, n) {
  var r;
  t === void 0 && (t = []), n === void 0 && (n = !0);
  const i = Tb(e), a = i === ((r = e.ownerDocument) == null ? void 0 : r.body), s = Hr(i);
  if (a) {
    const o = Qu(s);
    return t.concat(s, s.visualViewport || [], Rb(i) ? i : [], o && n ? sl(o) : []);
  }
  return t.concat(i, sl(i, [], n));
}
function Qu(e) {
  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;
}
function bD(e) {
  const t = wf(e);
  let n = parseFloat(t.width) || 0, r = parseFloat(t.height) || 0;
  const i = xf(e), a = i ? e.offsetWidth : n, s = i ? e.offsetHeight : r, o = il(n) !== a || il(r) !== s;
  return o && (n = a, r = s), {
    width: n,
    height: r,
    $: o
  };
}
function Cf(e) {
  return pD(e) ? e : e.contextElement;
}
function mm(e) {
  const t = Cf(e);
  if (!xf(t))
    return al(1);
  const n = t.getBoundingClientRect(), {
    width: r,
    height: i,
    $: a
  } = bD(t);
  let s = (a ? il(n.width) : n.width) / r, o = (a ? il(n.height) : n.height) / i;
  return (!s || !Number.isFinite(s)) && (s = 1), (!o || !Number.isFinite(o)) && (o = 1), {
    x: s,
    y: o
  };
}
const xD = /* @__PURE__ */ al(0);
function wD(e) {
  const t = Hr(e);
  return !mD() || !t.visualViewport ? xD : {
    x: t.visualViewport.offsetLeft,
    y: t.visualViewport.offsetTop
  };
}
function CD(e, t, n) {
  return !1;
}
function gm(e, t, n, r) {
  t === void 0 && (t = !1);
  const i = e.getBoundingClientRect(), a = Cf(e);
  let s = al(1);
  t && (s = mm(e));
  const o = CD() ? wD(a) : al(0);
  let c = (i.left + o.x) / s.x, u = (i.top + o.y) / s.y, f = i.width / s.x, p = i.height / s.y;
  if (a) {
    const g = Hr(a), h = r;
    let y = g, _ = Qu(y);
    for (; _ && r && h !== y; ) {
      const S = mm(_), w = _.getBoundingClientRect(), I = wf(_), b = w.left + (_.clientLeft + parseFloat(I.paddingLeft)) * S.x, E = w.top + (_.clientTop + parseFloat(I.paddingTop)) * S.y;
      c *= S.x, u *= S.y, f *= S.x, p *= S.y, c += b, u += E, y = Hr(_), _ = Qu(y);
    }
  }
  return fD({
    width: f,
    height: p,
    x: c,
    y: u
  });
}
function Fb(e, t) {
  return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height;
}
function SD(e, t) {
  let n = null, r;
  const i = Ob(e);
  function a() {
    var o;
    clearTimeout(r), (o = n) == null || o.disconnect(), n = null;
  }
  function s(o, c) {
    o === void 0 && (o = !1), c === void 0 && (c = 1), a();
    const u = e.getBoundingClientRect(), {
      left: f,
      top: p,
      width: g,
      height: h
    } = u;
    if (o || t(), !g || !h)
      return;
    const y = bo(p), _ = bo(i.clientWidth - (f + g)), S = bo(i.clientHeight - (p + h)), w = bo(f), b = {
      rootMargin: -y + "px " + -_ + "px " + -S + "px " + -w + "px",
      threshold: dD(0, uD(1, c)) || 1
    };
    let E = !0;
    function C(A) {
      const N = A[0].intersectionRatio;
      if (N !== c) {
        if (!E)
          return s();
        N ? s(!1, N) : r = setTimeout(() => {
          s(!1, 1e-7);
        }, 1e3);
      }
      N === 1 && !Fb(u, e.getBoundingClientRect()) && s(), E = !1;
    }
    try {
      n = new IntersectionObserver(C, {
        ...b,
        // Handle <iframe>s
        root: i.ownerDocument
      });
    } catch {
      n = new IntersectionObserver(C, b);
    }
    n.observe(e);
  }
  return s(!0), a;
}
function ID(e, t, n, r) {
  r === void 0 && (r = {});
  const {
    ancestorScroll: i = !0,
    ancestorResize: a = !0,
    elementResize: s = typeof ResizeObserver == "function",
    layoutShift: o = typeof IntersectionObserver == "function",
    animationFrame: c = !1
  } = r, u = Cf(e), f = i || a ? [...u ? sl(u) : [], ...sl(t)] : [];
  f.forEach((w) => {
    i && w.addEventListener("scroll", n, {
      passive: !0
    }), a && w.addEventListener("resize", n);
  });
  const p = u && o ? SD(u, n) : null;
  let g = -1, h = null;
  s && (h = new ResizeObserver((w) => {
    let [I] = w;
    I && I.target === u && h && (h.unobserve(t), cancelAnimationFrame(g), g = requestAnimationFrame(() => {
      var b;
      (b = h) == null || b.observe(t);
    })), n();
  }), u && !c && h.observe(u), h.observe(t));
  let y, _ = c ? gm(e) : null;
  c && S();
  function S() {
    const w = gm(e);
    _ && !Fb(_, w) && n(), _ = w, y = requestAnimationFrame(S);
  }
  return n(), () => {
    var w;
    f.forEach((I) => {
      i && I.removeEventListener("scroll", n), a && I.removeEventListener("resize", n);
    }), p?.(), (w = h) == null || w.disconnect(), h = null, c && cancelAnimationFrame(y);
  };
}
var Ku = Ad, _D = ["className", "clearValue", "cx", "getStyles", "getClassNames", "getValue", "hasValue", "isMulti", "isRtl", "options", "selectOption", "selectProps", "setValue", "theme"], ol = function() {
};
function ED(e, t) {
  return t ? t[0] === "-" ? e + t : e + "__" + t : e;
}
function kD(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++)
    r[i - 2] = arguments[i];
  var a = [].concat(r);
  if (t && e)
    for (var s in t)
      t.hasOwnProperty(s) && t[s] && a.push("".concat(ED(e, s)));
  return a.filter(function(o) {
    return o;
  }).map(function(o) {
    return String(o).trim();
  }).join(" ");
}
var vm = function(t) {
  return LD(t) ? t.filter(Boolean) : Mi(t) === "object" && t !== null ? [t] : [];
}, Pb = function(t) {
  t.className, t.clearValue, t.cx, t.getStyles, t.getClassNames, t.getValue, t.hasValue, t.isMulti, t.isRtl, t.options, t.selectOption, t.selectProps, t.setValue, t.theme;
  var n = yr(t, _D);
  return Pe({}, n);
}, Tt = function(t, n, r) {
  var i = t.cx, a = t.getStyles, s = t.getClassNames, o = t.className;
  return {
    css: a(n, t),
    className: i(r ?? {}, s(n, t), o)
  };
};
function ND(e, t, n) {
  if (n) {
    var r = n(e, t);
    if (typeof r == "string") return r;
  }
  return e;
}
function Hl(e) {
  return [document.documentElement, document.body, window].indexOf(e) > -1;
}
function AD(e) {
  return Hl(e) ? window.innerHeight : e.clientHeight;
}
function Lb(e) {
  return Hl(e) ? window.pageYOffset : e.scrollTop;
}
function ll(e, t) {
  if (Hl(e)) {
    window.scrollTo(0, t);
    return;
  }
  e.scrollTop = t;
}
function DD(e) {
  var t = getComputedStyle(e), n = t.position === "absolute", r = /(auto|scroll)/;
  if (t.position === "fixed") return document.documentElement;
  for (var i = e; i = i.parentElement; )
    if (t = getComputedStyle(i), !(n && t.position === "static") && r.test(t.overflow + t.overflowY + t.overflowX))
      return i;
  return document.documentElement;
}
function OD(e, t, n, r) {
  return n * ((e = e / r - 1) * e * e + 1) + t;
}
function xo(e, t) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 200, r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : ol, i = Lb(e), a = t - i, s = 10, o = 0;
  function c() {
    o += s;
    var u = OD(o, i, a, n);
    ll(e, u), o < n ? window.requestAnimationFrame(c) : r(e);
  }
  c();
}
function ym(e, t) {
  var n = e.getBoundingClientRect(), r = t.getBoundingClientRect(), i = t.offsetHeight / 3;
  r.bottom + i > n.bottom ? ll(e, Math.min(t.offsetTop + t.clientHeight - e.offsetHeight + i, e.scrollHeight)) : r.top - i < n.top && ll(e, Math.max(t.offsetTop - i, 0));
}
function MD(e) {
  var t = e.getBoundingClientRect();
  return {
    bottom: t.bottom,
    height: t.height,
    left: t.left,
    right: t.right,
    top: t.top,
    width: t.width
  };
}
function bm() {
  try {
    return document.createEvent("TouchEvent"), !0;
  } catch {
    return !1;
  }
}
function RD() {
  try {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  } catch {
    return !1;
  }
}
var Vb = !1, TD = {
  get passive() {
    return Vb = !0;
  }
}, wo = typeof window < "u" ? window : {};
wo.addEventListener && wo.removeEventListener && (wo.addEventListener("p", ol, TD), wo.removeEventListener("p", ol, !1));
var FD = Vb;
function PD(e) {
  return e != null;
}
function LD(e) {
  return Array.isArray(e);
}
function Co(e, t, n) {
  return e ? t : n;
}
var VD = function(t) {
  for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
    r[i - 1] = arguments[i];
  var a = Object.entries(t).filter(function(s) {
    var o = Jt(s, 1), c = o[0];
    return !r.includes(c);
  });
  return a.reduce(function(s, o) {
    var c = Jt(o, 2), u = c[0], f = c[1];
    return s[u] = f, s;
  }, {});
}, BD = ["children", "innerProps"], GD = ["children", "innerProps"];
function YD(e) {
  var t = e.maxHeight, n = e.menuEl, r = e.minHeight, i = e.placement, a = e.shouldScroll, s = e.isFixedPosition, o = e.controlHeight, c = DD(n), u = {
    placement: "bottom",
    maxHeight: t
  };
  if (!n || !n.offsetParent) return u;
  var f = c.getBoundingClientRect(), p = f.height, g = n.getBoundingClientRect(), h = g.bottom, y = g.height, _ = g.top, S = n.offsetParent.getBoundingClientRect(), w = S.top, I = s ? window.innerHeight : AD(c), b = Lb(c), E = parseInt(getComputedStyle(n).marginBottom, 10), C = parseInt(getComputedStyle(n).marginTop, 10), A = w - C, N = I - _, D = A + b, F = p - b - _, P = h - I + b + E, G = b + _ - C, Y = 160;
  switch (i) {
    case "auto":
    case "bottom":
      if (N >= y)
        return {
          placement: "bottom",
          maxHeight: t
        };
      if (F >= y && !s)
        return a && xo(c, P, Y), {
          placement: "bottom",
          maxHeight: t
        };
      if (!s && F >= r || s && N >= r) {
        a && xo(c, P, Y);
        var z = s ? N - E : F - E;
        return {
          placement: "bottom",
          maxHeight: z
        };
      }
      if (i === "auto" || s) {
        var H = t, L = s ? A : D;
        return L >= r && (H = Math.min(L - E - o, t)), {
          placement: "top",
          maxHeight: H
        };
      }
      if (i === "bottom")
        return a && ll(c, P), {
          placement: "bottom",
          maxHeight: t
        };
      break;
    case "top":
      if (A >= y)
        return {
          placement: "top",
          maxHeight: t
        };
      if (D >= y && !s)
        return a && xo(c, G, Y), {
          placement: "top",
          maxHeight: t
        };
      if (!s && D >= r || s && A >= r) {
        var q = t;
        return (!s && D >= r || s && A >= r) && (q = s ? A - C : D - C), a && xo(c, G, Y), {
          placement: "top",
          maxHeight: q
        };
      }
      return {
        placement: "bottom",
        maxHeight: t
      };
    default:
      throw new Error('Invalid placement provided "'.concat(i, '".'));
  }
  return u;
}
function WD(e) {
  var t = {
    bottom: "top",
    top: "bottom"
  };
  return e ? t[e] : "bottom";
}
var Bb = function(t) {
  return t === "auto" ? "bottom" : t;
}, zD = function(t, n) {
  var r, i = t.placement, a = t.theme, s = a.borderRadius, o = a.spacing, c = a.colors;
  return Pe((r = {
    label: "menu"
  }, aa(r, WD(i), "100%"), aa(r, "position", "absolute"), aa(r, "width", "100%"), aa(r, "zIndex", 1), r), n ? {} : {
    backgroundColor: c.neutral0,
    borderRadius: s,
    boxShadow: "0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",
    marginBottom: o.menuGutter,
    marginTop: o.menuGutter
  });
}, Gb = /* @__PURE__ */ vr(null), HD = function(t) {
  var n = t.children, r = t.minMenuHeight, i = t.maxMenuHeight, a = t.menuPlacement, s = t.menuPosition, o = t.menuShouldScrollIntoView, c = t.theme, u = ke(Gb) || {}, f = u.setPortalPlacement, p = Oe(null), g = B(i), h = Jt(g, 2), y = h[0], _ = h[1], S = B(null), w = Jt(S, 2), I = w[0], b = w[1], E = c.spacing.controlHeight;
  return Ku(function() {
    var C = p.current;
    if (C) {
      var A = s === "fixed", N = o && !A, D = YD({
        maxHeight: i,
        menuEl: C,
        minHeight: r,
        placement: a,
        shouldScroll: N,
        isFixedPosition: A,
        controlHeight: E
      });
      _(D.maxHeight), b(D.placement), f?.(D.placement);
    }
  }, [i, a, s, o, r, f, E]), n({
    ref: p,
    placerProps: Pe(Pe({}, t), {}, {
      placement: I || Bb(a),
      maxHeight: y
    })
  });
}, jD = function(t) {
  var n = t.children, r = t.innerRef, i = t.innerProps;
  return Le("div", Be({}, Tt(t, "menu", {
    menu: !0
  }), {
    ref: r
  }, i), n);
}, $D = jD, UD = function(t, n) {
  var r = t.maxHeight, i = t.theme.spacing.baseUnit;
  return Pe({
    maxHeight: r,
    overflowY: "auto",
    position: "relative",
    // required for offset[Height, Top] > keyboard scroll
    WebkitOverflowScrolling: "touch"
  }, n ? {} : {
    paddingBottom: i,
    paddingTop: i
  });
}, XD = function(t) {
  var n = t.children, r = t.innerProps, i = t.innerRef, a = t.isMulti;
  return Le("div", Be({}, Tt(t, "menuList", {
    "menu-list": !0,
    "menu-list--is-multi": a
  }), {
    ref: i
  }, r), n);
}, Yb = function(t, n) {
  var r = t.theme, i = r.spacing.baseUnit, a = r.colors;
  return Pe({
    textAlign: "center"
  }, n ? {} : {
    color: a.neutral40,
    padding: "".concat(i * 2, "px ").concat(i * 3, "px")
  });
}, ZD = Yb, qD = Yb, JD = function(t) {
  var n = t.children, r = n === void 0 ? "No options" : n, i = t.innerProps, a = yr(t, BD);
  return Le("div", Be({}, Tt(Pe(Pe({}, a), {}, {
    children: r,
    innerProps: i
  }), "noOptionsMessage", {
    "menu-notice": !0,
    "menu-notice--no-options": !0
  }), i), r);
}, QD = function(t) {
  var n = t.children, r = n === void 0 ? "Loading..." : n, i = t.innerProps, a = yr(t, GD);
  return Le("div", Be({}, Tt(Pe(Pe({}, a), {}, {
    children: r,
    innerProps: i
  }), "loadingMessage", {
    "menu-notice": !0,
    "menu-notice--loading": !0
  }), i), r);
}, KD = function(t) {
  var n = t.rect, r = t.offset, i = t.position;
  return {
    left: n.left,
    position: i,
    top: r,
    width: n.width,
    zIndex: 1
  };
}, eO = function(t) {
  var n = t.appendTo, r = t.children, i = t.controlElement, a = t.innerProps, s = t.menuPlacement, o = t.menuPosition, c = Oe(null), u = Oe(null), f = B(Bb(s)), p = Jt(f, 2), g = p[0], h = p[1], y = Xe(function() {
    return {
      setPortalPlacement: h
    };
  }, []), _ = B(null), S = Jt(_, 2), w = S[0], I = S[1], b = _e(function() {
    if (i) {
      var N = MD(i), D = o === "fixed" ? 0 : window.pageYOffset, F = N[g] + D;
      (F !== w?.offset || N.left !== w?.rect.left || N.width !== w?.rect.width) && I({
        offset: F,
        rect: N
      });
    }
  }, [i, o, g, w?.offset, w?.rect.left, w?.rect.width]);
  Ku(function() {
    b();
  }, [b]);
  var E = _e(function() {
    typeof u.current == "function" && (u.current(), u.current = null), i && c.current && (u.current = ID(i, c.current, b, {
      elementResize: "ResizeObserver" in window
    }));
  }, [i, b]);
  Ku(function() {
    E();
  }, [E]);
  var C = _e(function(N) {
    c.current = N, E();
  }, [E]);
  if (!n && o !== "fixed" || !w) return null;
  var A = Le("div", Be({
    ref: C
  }, Tt(Pe(Pe({}, t), {}, {
    offset: w.offset,
    position: o,
    rect: w.rect
  }), "menuPortal", {
    "menu-portal": !0
  }), a), r);
  return Le(Gb.Provider, {
    value: y
  }, n ? /* @__PURE__ */ oI(A, n) : A);
}, tO = function(t) {
  var n = t.isDisabled, r = t.isRtl;
  return {
    label: "container",
    direction: r ? "rtl" : void 0,
    pointerEvents: n ? "none" : void 0,
    // cancel mouse events when disabled
    position: "relative"
  };
}, nO = function(t) {
  var n = t.children, r = t.innerProps, i = t.isDisabled, a = t.isRtl;
  return Le("div", Be({}, Tt(t, "container", {
    "--is-disabled": i,
    "--is-rtl": a
  }), r), n);
}, rO = function(t, n) {
  var r = t.theme.spacing, i = t.isMulti, a = t.hasValue, s = t.selectProps.controlShouldRenderValue;
  return Pe({
    alignItems: "center",
    display: i && a && s ? "flex" : "grid",
    flex: 1,
    flexWrap: "wrap",
    WebkitOverflowScrolling: "touch",
    position: "relative",
    overflow: "hidden"
  }, n ? {} : {
    padding: "".concat(r.baseUnit / 2, "px ").concat(r.baseUnit * 2, "px")
  });
}, iO = function(t) {
  var n = t.children, r = t.innerProps, i = t.isMulti, a = t.hasValue;
  return Le("div", Be({}, Tt(t, "valueContainer", {
    "value-container": !0,
    "value-container--is-multi": i,
    "value-container--has-value": a
  }), r), n);
}, aO = function() {
  return {
    alignItems: "center",
    alignSelf: "stretch",
    display: "flex",
    flexShrink: 0
  };
}, sO = function(t) {
  var n = t.children, r = t.innerProps;
  return Le("div", Be({}, Tt(t, "indicatorsContainer", {
    indicators: !0
  }), r), n);
}, xm, oO = ["size"], lO = ["innerProps", "isRtl", "size"];
function cO() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
var uO = process.env.NODE_ENV === "production" ? {
  name: "8mmkcg",
  styles: "display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"
} : {
  name: "tj5bde-Svg",
  styles: "display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;label:Svg;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3gsIGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuaW1wb3J0IHtcbiAgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWUsXG4gIENTU09iamVjdFdpdGhMYWJlbCxcbiAgR3JvdXBCYXNlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdHlsZVByb3BzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgdGhlbWU6IHtcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICAgIGNvbG9ycyxcbiAgICB9LFxuICB9OlxuICAgIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICAgIHwgQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvckNvbnRhaW5lcicsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgLi4uKHVuc3R5bGVkXG4gICAgPyB7fVxuICAgIDoge1xuICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw4MCA6IGNvbG9ycy5uZXV0cmFsNDAsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJvcGRvd25JbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IERyb3Bkb3duSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnZHJvcGRvd25JbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2Ryb3Bkb3duLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8RG93bkNoZXZyb24gLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENsZWFySW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgY2xlYXJJbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IENsZWFySW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnY2xlYXJJbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0Rpc2FibGVkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JTZXBhcmF0b3InLFxuICBhbGlnblNlbGY6ICdzdHJldGNoJyxcbiAgd2lkdGg6IDEsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0Rpc2FibGVkID8gY29sb3JzLm5ldXRyYWwxMCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogYmFzZVVuaXQgKiAyLFxuICAgICAgICBtYXJnaW5Ub3A6IGJhc2VVbml0ICogMixcbiAgICAgIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBJbmRpY2F0b3JTZXBhcmF0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgey4uLmdldFN0eWxlUHJvcHMocHJvcHMsICdpbmRpY2F0b3JTZXBhcmF0b3InLCB7XG4gICAgICAgICdpbmRpY2F0b3Itc2VwYXJhdG9yJzogdHJ1ZSxcbiAgICAgIH0pfVxuICAgIC8+XG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExvYWRpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBsb2FkaW5nRG90QW5pbWF0aW9ucyA9IGtleWZyYW1lc2BcbiAgMCUsIDgwJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgNDAlIHsgb3BhY2l0eTogMTsgfVxuYDtcblxuZXhwb3J0IGNvbnN0IGxvYWRpbmdJbmRpY2F0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgc2l6ZSxcbiAgICB0aGVtZToge1xuICAgICAgY29sb3JzLFxuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIH0sXG4gIH06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2xvYWRpbmdJbmRpY2F0b3InLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gIGZvbnRTaXplOiBzaXplLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBtYXJnaW5SaWdodDogc2l6ZSxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpbm5lclByb3BzLFxuICBpc1J0bCxcbiAgc2l6ZSA9IDQsXG4gIC4uLnJlc3RQcm9wc1xufTogTG9hZGluZ0luZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgey4uLmdldFN0eWxlUHJvcHMoXG4gICAgICAgIHsgLi4ucmVzdFByb3BzLCBpbm5lclByb3BzLCBpc1J0bCwgc2l6ZSB9LFxuICAgICAgICAnbG9hZGluZ0luZGljYXRvcicsXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2xvYWRpbmctaW5kaWNhdG9yJzogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXX0= */",
  toString: cO
}, Wb = function(t) {
  var n = t.size, r = yr(t, oO);
  return Le("svg", Be({
    height: n,
    width: n,
    viewBox: "0 0 20 20",
    "aria-hidden": "true",
    focusable: "false",
    css: uO
  }, r));
}, Sf = function(t) {
  return Le(Wb, Be({
    size: 20
  }, t), Le("path", {
    d: "M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"
  }));
}, zb = function(t) {
  return Le(Wb, Be({
    size: 20
  }, t), Le("path", {
    d: "M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"
  }));
}, Hb = function(t, n) {
  var r = t.isFocused, i = t.theme, a = i.spacing.baseUnit, s = i.colors;
  return Pe({
    label: "indicatorContainer",
    display: "flex",
    transition: "color 150ms"
  }, n ? {} : {
    color: r ? s.neutral60 : s.neutral20,
    padding: a * 2,
    ":hover": {
      color: r ? s.neutral80 : s.neutral40
    }
  });
}, dO = Hb, fO = function(t) {
  var n = t.children, r = t.innerProps;
  return Le("div", Be({}, Tt(t, "dropdownIndicator", {
    indicator: !0,
    "dropdown-indicator": !0
  }), r), n || Le(zb, null));
}, pO = Hb, hO = function(t) {
  var n = t.children, r = t.innerProps;
  return Le("div", Be({}, Tt(t, "clearIndicator", {
    indicator: !0,
    "clear-indicator": !0
  }), r), n || Le(Sf, null));
}, mO = function(t, n) {
  var r = t.isDisabled, i = t.theme, a = i.spacing.baseUnit, s = i.colors;
  return Pe({
    label: "indicatorSeparator",
    alignSelf: "stretch",
    width: 1
  }, n ? {} : {
    backgroundColor: r ? s.neutral10 : s.neutral20,
    marginBottom: a * 2,
    marginTop: a * 2
  });
}, gO = function(t) {
  var n = t.innerProps;
  return Le("span", Be({}, n, Tt(t, "indicatorSeparator", {
    "indicator-separator": !0
  })));
}, vO = lD(xm || (xm = cD([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))), yO = function(t, n) {
  var r = t.isFocused, i = t.size, a = t.theme, s = a.colors, o = a.spacing.baseUnit;
  return Pe({
    label: "loadingIndicator",
    display: "flex",
    transition: "color 150ms",
    alignSelf: "center",
    fontSize: i,
    lineHeight: 1,
    marginRight: i,
    textAlign: "center",
    verticalAlign: "middle"
  }, n ? {} : {
    color: r ? s.neutral60 : s.neutral20,
    padding: o * 2
  });
}, ru = function(t) {
  var n = t.delay, r = t.offset;
  return Le("span", {
    css: /* @__PURE__ */ bf({
      animation: "".concat(vO, " 1s ease-in-out ").concat(n, "ms infinite;"),
      backgroundColor: "currentColor",
      borderRadius: "1em",
      display: "inline-block",
      marginLeft: r ? "1em" : void 0,
      height: "1em",
      verticalAlign: "top",
      width: "1em"
    }, process.env.NODE_ENV === "production" ? "" : ";label:LoadingDot;", process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGljYXRvcnMudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1RSSIsImZpbGUiOiJpbmRpY2F0b3JzLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3gsIGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuaW1wb3J0IHtcbiAgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWUsXG4gIENTU09iamVjdFdpdGhMYWJlbCxcbiAgR3JvdXBCYXNlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRTdHlsZVByb3BzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgSWNvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBTdmcgPSAoe1xuICBzaXplLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzdmcnXSAmIHsgc2l6ZTogbnVtYmVyIH0pID0+IChcbiAgPHN2Z1xuICAgIGhlaWdodD17c2l6ZX1cbiAgICB3aWR0aD17c2l6ZX1cbiAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBjc3M9e3tcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBsaW5lSGVpZ2h0OiAxLFxuICAgICAgc3Ryb2tlOiAnY3VycmVudENvbG9yJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IHR5cGUgQ3Jvc3NJY29uUHJvcHMgPSBKU1guSW50cmluc2ljRWxlbWVudHNbJ3N2ZyddICYgeyBzaXplPzogbnVtYmVyIH07XG5leHBvcnQgY29uc3QgQ3Jvc3NJY29uID0gKHByb3BzOiBDcm9zc0ljb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNMTQuMzQ4IDE0Ljg0OWMtMC40NjkgMC40NjktMS4yMjkgMC40NjktMS42OTcgMGwtMi42NTEtMy4wMzAtMi42NTEgMy4wMjljLTAuNDY5IDAuNDY5LTEuMjI5IDAuNDY5LTEuNjk3IDAtMC40NjktMC40NjktMC40NjktMS4yMjkgMC0xLjY5N2wyLjc1OC0zLjE1LTIuNzU5LTMuMTUyYy0wLjQ2OS0wLjQ2OS0wLjQ2OS0xLjIyOCAwLTEuNjk3czEuMjI4LTAuNDY5IDEuNjk3IDBsMi42NTIgMy4wMzEgMi42NTEtMy4wMzFjMC40NjktMC40NjkgMS4yMjgtMC40NjkgMS42OTcgMHMwLjQ2OSAxLjIyOSAwIDEuNjk3bC0yLjc1OCAzLjE1MiAyLjc1OCAzLjE1YzAuNDY5IDAuNDY5IDAuNDY5IDEuMjI5IDAgMS42OTh6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuZXhwb3J0IHR5cGUgRG93bkNoZXZyb25Qcm9wcyA9IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snc3ZnJ10gJiB7IHNpemU/OiBudW1iZXIgfTtcbmV4cG9ydCBjb25zdCBEb3duQ2hldnJvbiA9IChwcm9wczogRG93bkNoZXZyb25Qcm9wcykgPT4gKFxuICA8U3ZnIHNpemU9ezIwfSB7Li4ucHJvcHN9PlxuICAgIDxwYXRoIGQ9XCJNNC41MTYgNy41NDhjMC40MzYtMC40NDYgMS4wNDMtMC40ODEgMS41NzYgMGwzLjkwOCAzLjc0NyAzLjkwOC0zLjc0N2MwLjUzMy0wLjQ4MSAxLjE0MS0wLjQ0NiAxLjU3NCAwIDAuNDM2IDAuNDQ1IDAuNDA4IDEuMTk3IDAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDIgMC4zMzUtMC43ODcgMC4zMzVzLTAuNTctMC4xMTItMC43ODktMC4zMzVjMCAwLTQuMjg3LTQuMDg0LTQuNjk1LTQuNTAycy0wLjQzNi0xLjE3IDAtMS42MTV6XCIgLz5cbiAgPC9Tdmc+XG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERyb3Bkb3duICYgQ2xlYXIgQnV0dG9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxcbiAgT3B0aW9uID0gdW5rbm93bixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+ID0gR3JvdXBCYXNlPE9wdGlvbj5cbj4gZXh0ZW5kcyBDb21tb25Qcm9wc0FuZENsYXNzTmFtZTxPcHRpb24sIElzTXVsdGksIEdyb3VwPiB7XG4gIC8qKiBUaGUgY2hpbGRyZW4gdG8gYmUgcmVuZGVyZWQgaW5zaWRlIHRoZSBpbmRpY2F0b3IuICovXG4gIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xuICAvKiogUHJvcHMgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgY2hpbGRyZW4uICovXG4gIGlubmVyUHJvcHM6IEpTWC5JbnRyaW5zaWNFbGVtZW50c1snZGl2J107XG4gIC8qKiBUaGUgZm9jdXNlZCBzdGF0ZSBvZiB0aGUgc2VsZWN0LiAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IGJhc2VDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgdGhlbWU6IHtcbiAgICAgIHNwYWNpbmc6IHsgYmFzZVVuaXQgfSxcbiAgICAgIGNvbG9ycyxcbiAgICB9LFxuICB9OlxuICAgIHwgRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuICAgIHwgQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2luZGljYXRvckNvbnRhaW5lcicsXG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgdHJhbnNpdGlvbjogJ2NvbG9yIDE1MG1zJyxcbiAgLi4uKHVuc3R5bGVkXG4gICAgPyB7fVxuICAgIDoge1xuICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw2MCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIHBhZGRpbmc6IGJhc2VVbml0ICogMixcbiAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICBjb2xvcjogaXNGb2N1c2VkID8gY29sb3JzLm5ldXRyYWw4MCA6IGNvbG9ycy5uZXV0cmFsNDAsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJvcGRvd25JbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IERyb3Bkb3duSW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogRHJvcGRvd25JbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnZHJvcGRvd25JbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2Ryb3Bkb3duLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8RG93bkNoZXZyb24gLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENsZWFySW5kaWNhdG9yUHJvcHM8XG4gIE9wdGlvbiA9IHVua25vd24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcbiAgR3JvdXAgZXh0ZW5kcyBHcm91cEJhc2U8T3B0aW9uPiA9IEdyb3VwQmFzZTxPcHRpb24+XG4+IGV4dGVuZHMgQ29tbW9uUHJvcHNBbmRDbGFzc05hbWU8T3B0aW9uLCBJc011bHRpLCBHcm91cD4ge1xuICAvKiogVGhlIGNoaWxkcmVuIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaW5kaWNhdG9yLiAqL1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgY2xlYXJJbmRpY2F0b3JDU1MgPSBiYXNlQ1NTO1xuZXhwb3J0IGNvbnN0IENsZWFySW5kaWNhdG9yID0gPFxuICBPcHRpb24sXG4gIElzTXVsdGkgZXh0ZW5kcyBib29sZWFuLFxuICBHcm91cCBleHRlbmRzIEdyb3VwQmFzZTxPcHRpb24+XG4+KFxuICBwcm9wczogQ2xlYXJJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGlubmVyUHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHsuLi5nZXRTdHlsZVByb3BzKHByb3BzLCAnY2xlYXJJbmRpY2F0b3InLCB7XG4gICAgICAgIGluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgJ2NsZWFyLWluZGljYXRvcic6IHRydWUsXG4gICAgICB9KX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbiB8fCA8Q3Jvc3NJY29uIC8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTZXBhcmF0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGljYXRvclNlcGFyYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgaXNEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpbm5lclByb3BzPzogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ107XG59XG5cbmV4cG9ydCBjb25zdCBpbmRpY2F0b3JTZXBhcmF0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0Rpc2FibGVkLFxuICAgIHRoZW1lOiB7XG4gICAgICBzcGFjaW5nOiB7IGJhc2VVbml0IH0sXG4gICAgICBjb2xvcnMsXG4gICAgfSxcbiAgfTogSW5kaWNhdG9yU2VwYXJhdG9yUHJvcHM8T3B0aW9uLCBJc011bHRpLCBHcm91cD4sXG4gIHVuc3R5bGVkOiBib29sZWFuXG4pOiBDU1NPYmplY3RXaXRoTGFiZWwgPT4gKHtcbiAgbGFiZWw6ICdpbmRpY2F0b3JTZXBhcmF0b3InLFxuICBhbGlnblNlbGY6ICdzdHJldGNoJyxcbiAgd2lkdGg6IDEsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0Rpc2FibGVkID8gY29sb3JzLm5ldXRyYWwxMCA6IGNvbG9ycy5uZXV0cmFsMjAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogYmFzZVVuaXQgKiAyLFxuICAgICAgICBtYXJnaW5Ub3A6IGJhc2VVbml0ICogMixcbiAgICAgIH0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBJbmRpY2F0b3JTZXBhcmF0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHByb3BzOiBJbmRpY2F0b3JTZXBhcmF0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPlxuKSA9PiB7XG4gIGNvbnN0IHsgaW5uZXJQcm9wcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgICAgey4uLmdldFN0eWxlUHJvcHMocHJvcHMsICdpbmRpY2F0b3JTZXBhcmF0b3InLCB7XG4gICAgICAgICdpbmRpY2F0b3Itc2VwYXJhdG9yJzogdHJ1ZSxcbiAgICAgIH0pfVxuICAgIC8+XG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIExvYWRpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBsb2FkaW5nRG90QW5pbWF0aW9ucyA9IGtleWZyYW1lc2BcbiAgMCUsIDgwJSwgMTAwJSB7IG9wYWNpdHk6IDA7IH1cbiAgNDAlIHsgb3BhY2l0eTogMTsgfVxuYDtcblxuZXhwb3J0IGNvbnN0IGxvYWRpbmdJbmRpY2F0b3JDU1MgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oXG4gIHtcbiAgICBpc0ZvY3VzZWQsXG4gICAgc2l6ZSxcbiAgICB0aGVtZToge1xuICAgICAgY29sb3JzLFxuICAgICAgc3BhY2luZzogeyBiYXNlVW5pdCB9LFxuICAgIH0sXG4gIH06IExvYWRpbmdJbmRpY2F0b3JQcm9wczxPcHRpb24sIElzTXVsdGksIEdyb3VwPixcbiAgdW5zdHlsZWQ6IGJvb2xlYW5cbik6IENTU09iamVjdFdpdGhMYWJlbCA9PiAoe1xuICBsYWJlbDogJ2xvYWRpbmdJbmRpY2F0b3InLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIHRyYW5zaXRpb246ICdjb2xvciAxNTBtcycsXG4gIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gIGZvbnRTaXplOiBzaXplLFxuICBsaW5lSGVpZ2h0OiAxLFxuICBtYXJnaW5SaWdodDogc2l6ZSxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gIC4uLih1bnN0eWxlZFxuICAgID8ge31cbiAgICA6IHtcbiAgICAgICAgY29sb3I6IGlzRm9jdXNlZCA/IGNvbG9ycy5uZXV0cmFsNjAgOiBjb2xvcnMubmV1dHJhbDIwLFxuICAgICAgICBwYWRkaW5nOiBiYXNlVW5pdCAqIDIsXG4gICAgICB9KSxcbn0pO1xuXG5pbnRlcmZhY2UgTG9hZGluZ0RvdFByb3BzIHtcbiAgZGVsYXk6IG51bWJlcjtcbiAgb2Zmc2V0OiBib29sZWFuO1xufVxuY29uc3QgTG9hZGluZ0RvdCA9ICh7IGRlbGF5LCBvZmZzZXQgfTogTG9hZGluZ0RvdFByb3BzKSA9PiAoXG4gIDxzcGFuXG4gICAgY3NzPXt7XG4gICAgICBhbmltYXRpb246IGAke2xvYWRpbmdEb3RBbmltYXRpb25zfSAxcyBlYXNlLWluLW91dCAke2RlbGF5fW1zIGluZmluaXRlO2AsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgbWFyZ2luTGVmdDogb2Zmc2V0ID8gJzFlbScgOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6ICcxZW0nLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICB3aWR0aDogJzFlbScsXG4gICAgfX1cbiAgLz5cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGluZ0luZGljYXRvclByb3BzPFxuICBPcHRpb24gPSB1bmtub3duLFxuICBJc011bHRpIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj4gPSBHcm91cEJhc2U8T3B0aW9uPlxuPiBleHRlbmRzIENvbW1vblByb3BzQW5kQ2xhc3NOYW1lPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+IHtcbiAgLyoqIFByb3BzIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGNoaWxkcmVuLiAqL1xuICBpbm5lclByb3BzOiBKU1guSW50cmluc2ljRWxlbWVudHNbJ2RpdiddO1xuICAvKiogVGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIHNlbGVjdC4gKi9cbiAgaXNGb2N1c2VkOiBib29sZWFuO1xuICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAvKiogU2V0IHNpemUgb2YgdGhlIGNvbnRhaW5lci4gKi9cbiAgc2l6ZTogbnVtYmVyO1xufVxuZXhwb3J0IGNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSA8XG4gIE9wdGlvbixcbiAgSXNNdWx0aSBleHRlbmRzIGJvb2xlYW4sXG4gIEdyb3VwIGV4dGVuZHMgR3JvdXBCYXNlPE9wdGlvbj5cbj4oe1xuICBpbm5lclByb3BzLFxuICBpc1J0bCxcbiAgc2l6ZSA9IDQsXG4gIC4uLnJlc3RQcm9wc1xufTogTG9hZGluZ0luZGljYXRvclByb3BzPE9wdGlvbiwgSXNNdWx0aSwgR3JvdXA+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgey4uLmdldFN0eWxlUHJvcHMoXG4gICAgICAgIHsgLi4ucmVzdFByb3BzLCBpbm5lclByb3BzLCBpc1J0bCwgc2l6ZSB9LFxuICAgICAgICAnbG9hZGluZ0luZGljYXRvcicsXG4gICAgICAgIHtcbiAgICAgICAgICBpbmRpY2F0b3I6IHRydWUsXG4gICAgICAgICAgJ2xvYWRpbmctaW5kaWNhdG9yJzogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgKX1cbiAgICAgIHsuLi5pbm5lclByb3BzfVxuICAgID5cbiAgICAgIDxMb2FkaW5nRG90IGRlbGF5PXswfSBvZmZzZXQ9e2lzUnRsfSAvPlxuICAgICAgPExvYWRpbmdEb3QgZGVsYXk9ezE2MH0gb2Zmc2V0IC8+XG4gICAgICA8TG9hZGluZ0RvdCBkZWxheT17MzIwfSBvZmZzZXQ9eyFpc1J0bH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXX0= */")
  });
}, bO = function(t) {
  var n = t.innerProps, r = t.isRtl, i = t.size, a = i === void 0 ? 4 : i, s = yr(t, lO);
  return Le("div", Be({}, Tt(Pe(Pe({}, s), {}, {
    innerProps: n,
    isRtl: r,
    size: a
  }), "loadingIndicator", {
    indicator: !0,
    "loading-indicator": !0
  }), n), Le(ru, {
    delay: 0,
    offset: r
  }), Le(ru, {
    delay: 160,
    offset: !0
  }), Le(ru, {
    delay: 320,
    offset: !r
  }));
}, xO = function(t, n) {
  var r = t.isDisabled, i = t.isFocused, a = t.theme, s = a.colors, o = a.borderRadius, c = a.spacing;
  return Pe({
    label: "control",
    alignItems: "center",
    cursor: "default",
    display: "flex",
    flexWrap: "wrap",
    justifyContent: "space-between",
    minHeight: c.controlHeight,
    outline: "0 !important",
    position: "relative",
    transition: "all 100ms"
  }, n ? {} : {
    backgroundColor: r ? s.neutral5 : s.neutral0,
    borderColor: r ? s.neutral10 : i ? s.primary : s.neutral20,
    borderRadius: o,
    borderStyle: "solid",
    borderWidth: 1,
    boxShadow: i ? "0 0 0 1px ".concat(s.primary) : void 0,
    "&:hover": {
      borderColor: i ? s.primary : s.neutral30
    }
  });
}, wO = function(t) {
  var n = t.children, r = t.isDisabled, i = t.isFocused, a = t.innerRef, s = t.innerProps, o = t.menuIsOpen;
  return Le("div", Be({
    ref: a
  }, Tt(t, "control", {
    control: !0,
    "control--is-disabled": r,
    "control--is-focused": i,
    "control--menu-is-open": o
  }), s, {
    "aria-disabled": r || void 0
  }), n);
}, CO = wO, SO = ["data"], IO = function(t, n) {
  var r = t.theme.spacing;
  return n ? {} : {
    paddingBottom: r.baseUnit * 2,
    paddingTop: r.baseUnit * 2
  };
}, _O = function(t) {
  var n = t.children, r = t.cx, i = t.getStyles, a = t.getClassNames, s = t.Heading, o = t.headingProps, c = t.innerProps, u = t.label, f = t.theme, p = t.selectProps;
  return Le("div", Be({}, Tt(t, "group", {
    group: !0
  }), c), Le(s, Be({}, o, {
    selectProps: p,
    theme: f,
    getStyles: i,
    getClassNames: a,
    cx: r
  }), u), Le("div", null, n));
}, EO = function(t, n) {
  var r = t.theme, i = r.colors, a = r.spacing;
  return Pe({
    label: "group",
    cursor: "default",
    display: "block"
  }, n ? {} : {
    color: i.neutral40,
    fontSize: "75%",
    fontWeight: 500,
    marginBottom: "0.25em",
    paddingLeft: a.baseUnit * 3,
    paddingRight: a.baseUnit * 3,
    textTransform: "uppercase"
  });
}, kO = function(t) {
  var n = Pb(t);
  n.data;
  var r = yr(n, SO);
  return Le("div", Be({}, Tt(t, "groupHeading", {
    "group-heading": !0
  }), r));
}, NO = _O, AO = ["innerRef", "isDisabled", "isHidden", "inputClassName"], DO = function(t, n) {
  var r = t.isDisabled, i = t.value, a = t.theme, s = a.spacing, o = a.colors;
  return Pe(Pe({
    visibility: r ? "hidden" : "visible",
    // force css to recompute when value change due to @emotion bug.
    // We can remove it whenever the bug is fixed.
    transform: i ? "translateZ(0)" : ""
  }, OO), n ? {} : {
    margin: s.baseUnit / 2,
    paddingBottom: s.baseUnit / 2,
    paddingTop: s.baseUnit / 2,
    color: o.neutral80
  });
}, jb = {
  gridArea: "1 / 2",
  font: "inherit",
  minWidth: "2px",
  border: 0,
  margin: 0,
  outline: 0,
  padding: 0
}, OO = {
  flex: "1 1 auto",
  display: "inline-grid",
  gridArea: "1 / 1 / 2 / 3",
  gridTemplateColumns: "0 min-content",
  "&:after": Pe({
    content: 'attr(data-value) " "',
    visibility: "hidden",
    whiteSpace: "pre"
  }, jb)
}, MO = function(t) {
  return Pe({
    label: "input",
    color: "inherit",
    background: 0,
    opacity: t ? 0 : 1,
    width: "100%"
  }, jb);
}, RO = function(t) {
  var n = t.cx, r = t.value, i = Pb(t), a = i.innerRef, s = i.isDisabled, o = i.isHidden, c = i.inputClassName, u = yr(i, AO);
  return Le("div", Be({}, Tt(t, "input", {
    "input-container": !0
  }), {
    "data-value": r || ""
  }), Le("input", Be({
    className: n({
      input: !0
    }, c),
    ref: a,
    style: MO(o),
    disabled: s
  }, u)));
}, TO = RO, FO = function(t, n) {
  var r = t.theme, i = r.spacing, a = r.borderRadius, s = r.colors;
  return Pe({
    label: "multiValue",
    display: "flex",
    minWidth: 0
  }, n ? {} : {
    backgroundColor: s.neutral10,
    borderRadius: a / 2,
    margin: i.baseUnit / 2
  });
}, PO = function(t, n) {
  var r = t.theme, i = r.borderRadius, a = r.colors, s = t.cropWithEllipsis;
  return Pe({
    overflow: "hidden",
    textOverflow: s || s === void 0 ? "ellipsis" : void 0,
    whiteSpace: "nowrap"
  }, n ? {} : {
    borderRadius: i / 2,
    color: a.neutral80,
    fontSize: "85%",
    padding: 3,
    paddingLeft: 6
  });
}, LO = function(t, n) {
  var r = t.theme, i = r.spacing, a = r.borderRadius, s = r.colors, o = t.isFocused;
  return Pe({
    alignItems: "center",
    display: "flex"
  }, n ? {} : {
    borderRadius: a / 2,
    backgroundColor: o ? s.dangerLight : void 0,
    paddingLeft: i.baseUnit,
    paddingRight: i.baseUnit,
    ":hover": {
      backgroundColor: s.dangerLight,
      color: s.danger
    }
  });
}, $b = function(t) {
  var n = t.children, r = t.innerProps;
  return Le("div", r, n);
}, VO = $b, BO = $b;
function GO(e) {
  var t = e.children, n = e.innerProps;
  return Le("div", Be({
    role: "button"
  }, n), t || Le(Sf, {
    size: 14
  }));
}
var YO = function(t) {
  var n = t.children, r = t.components, i = t.data, a = t.innerProps, s = t.isDisabled, o = t.removeProps, c = t.selectProps, u = r.Container, f = r.Label, p = r.Remove;
  return Le(u, {
    data: i,
    innerProps: Pe(Pe({}, Tt(t, "multiValue", {
      "multi-value": !0,
      "multi-value--is-disabled": s
    })), a),
    selectProps: c
  }, Le(f, {
    data: i,
    innerProps: Pe({}, Tt(t, "multiValueLabel", {
      "multi-value__label": !0
    })),
    selectProps: c
  }, n), Le(p, {
    data: i,
    innerProps: Pe(Pe({}, Tt(t, "multiValueRemove", {
      "multi-value__remove": !0
    })), {}, {
      "aria-label": "Remove ".concat(n || "option")
    }, o),
    selectProps: c
  }));
}, WO = YO, zO = function(t, n) {
  var r = t.isDisabled, i = t.isFocused, a = t.isSelected, s = t.theme, o = s.spacing, c = s.colors;
  return Pe({
    label: "option",
    cursor: "default",
    display: "block",
    fontSize: "inherit",
    width: "100%",
    userSelect: "none",
    WebkitTapHighlightColor: "rgba(0, 0, 0, 0)"
  }, n ? {} : {
    backgroundColor: a ? c.primary : i ? c.primary25 : "transparent",
    color: r ? c.neutral20 : a ? c.neutral0 : "inherit",
    padding: "".concat(o.baseUnit * 2, "px ").concat(o.baseUnit * 3, "px"),
    // provide some affordance on touch devices
    ":active": {
      backgroundColor: r ? void 0 : a ? c.primary : c.primary50
    }
  });
}, HO = function(t) {
  var n = t.children, r = t.isDisabled, i = t.isFocused, a = t.isSelected, s = t.innerRef, o = t.innerProps;
  return Le("div", Be({}, Tt(t, "option", {
    option: !0,
    "option--is-disabled": r,
    "option--is-focused": i,
    "option--is-selected": a
  }), {
    ref: s,
    "aria-disabled": r
  }, o), n);
}, jO = HO, $O = function(t, n) {
  var r = t.theme, i = r.spacing, a = r.colors;
  return Pe({
    label: "placeholder",
    gridArea: "1 / 1 / 2 / 3"
  }, n ? {} : {
    color: a.neutral50,
    marginLeft: i.baseUnit / 2,
    marginRight: i.baseUnit / 2
  });
}, UO = function(t) {
  var n = t.children, r = t.innerProps;
  return Le("div", Be({}, Tt(t, "placeholder", {
    placeholder: !0
  }), r), n);
}, XO = UO, ZO = function(t, n) {
  var r = t.isDisabled, i = t.theme, a = i.spacing, s = i.colors;
  return Pe({
    label: "singleValue",
    gridArea: "1 / 1 / 2 / 3",
    maxWidth: "100%",
    overflow: "hidden",
    textOverflow: "ellipsis",
    whiteSpace: "nowrap"
  }, n ? {} : {
    color: r ? s.neutral40 : s.neutral80,
    marginLeft: a.baseUnit / 2,
    marginRight: a.baseUnit / 2
  });
}, qO = function(t) {
  var n = t.children, r = t.isDisabled, i = t.innerProps;
  return Le("div", Be({}, Tt(t, "singleValue", {
    "single-value": !0,
    "single-value--is-disabled": r
  }), i), n);
}, JO = qO, QO = {
  ClearIndicator: hO,
  Control: CO,
  DropdownIndicator: fO,
  DownChevron: zb,
  CrossIcon: Sf,
  Group: NO,
  GroupHeading: kO,
  IndicatorsContainer: sO,
  IndicatorSeparator: gO,
  Input: TO,
  LoadingIndicator: bO,
  Menu: $D,
  MenuList: XD,
  MenuPortal: eO,
  LoadingMessage: QD,
  NoOptionsMessage: JD,
  MultiValue: WO,
  MultiValueContainer: VO,
  MultiValueLabel: BO,
  MultiValueRemove: GO,
  Option: jO,
  Placeholder: XO,
  SelectContainer: nO,
  SingleValue: JO,
  ValueContainer: iO
}, KO = function(t) {
  return Pe(Pe({}, QO), t.components);
}, wm = Number.isNaN || function(t) {
  return typeof t == "number" && t !== t;
};
function eM(e, t) {
  return !!(e === t || wm(e) && wm(t));
}
function tM(e, t) {
  if (e.length !== t.length)
    return !1;
  for (var n = 0; n < e.length; n++)
    if (!eM(e[n], t[n]))
      return !1;
  return !0;
}
function nM(e, t) {
  t === void 0 && (t = tM);
  var n = null;
  function r() {
    for (var i = [], a = 0; a < arguments.length; a++)
      i[a] = arguments[a];
    if (n && n.lastThis === this && t(i, n.lastArgs))
      return n.lastResult;
    var s = e.apply(this, i);
    return n = {
      lastResult: s,
      lastArgs: i,
      lastThis: this
    }, s;
  }
  return r.clear = function() {
    n = null;
  }, r;
}
function rM() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
var iM = process.env.NODE_ENV === "production" ? {
  name: "7pg0cj-a11yText",
  styles: "label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"
} : {
  name: "1f43avz-a11yText-A11yText",
  styles: "label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;label:A11yText;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkExMXlUZXh0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPSSIsImZpbGUiOiJBMTF5VGV4dC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IEpTWCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGpzeCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuLy8gQXNzaXN0aXZlIHRleHQgdG8gZGVzY3JpYmUgdmlzdWFsIGVsZW1lbnRzLiBIaWRkZW4gZm9yIHNpZ2h0ZWQgdXNlcnMuXG5jb25zdCBBMTF5VGV4dCA9IChwcm9wczogSlNYLkludHJpbnNpY0VsZW1lbnRzWydzcGFuJ10pID0+IChcbiAgPHNwYW5cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAnYTExeVRleHQnLFxuICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY2xpcDogJ3JlY3QoMXB4LCAxcHgsIDFweCwgMXB4KScsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICB3aWR0aDogMSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIH19XG4gICAgey4uLnByb3BzfVxuICAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQTExeVRleHQ7XG4iXX0= */",
  toString: rM
}, aM = function(t) {
  return Le("span", Be({
    css: iM
  }, t));
}, Cm = aM, sM = {
  guidance: function(t) {
    var n = t.isSearchable, r = t.isMulti, i = t.tabSelectsValue, a = t.context, s = t.isInitialFocus;
    switch (a) {
      case "menu":
        return "Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i ? ", press Tab to select the option and exit the menu" : "", ".");
      case "input":
        return s ? "".concat(t["aria-label"] || "Select", " is focused ").concat(n ? ",type to refine list" : "", ", press Down to open the menu, ").concat(r ? " press left to focus selected values" : "") : "";
      case "value":
        return "Use left and right to toggle between focused values, press Backspace to remove the currently focused value";
      default:
        return "";
    }
  },
  onChange: function(t) {
    var n = t.action, r = t.label, i = r === void 0 ? "" : r, a = t.labels, s = t.isDisabled;
    switch (n) {
      case "deselect-option":
      case "pop-value":
      case "remove-value":
        return "option ".concat(i, ", deselected.");
      case "clear":
        return "All selected options have been cleared.";
      case "initial-input-focus":
        return "option".concat(a.length > 1 ? "s" : "", " ").concat(a.join(","), ", selected.");
      case "select-option":
        return s ? "option ".concat(i, " is disabled. Select another option.") : "option ".concat(i, ", selected.");
      default:
        return "";
    }
  },
  onFocus: function(t) {
    var n = t.context, r = t.focused, i = t.options, a = t.label, s = a === void 0 ? "" : a, o = t.selectValue, c = t.isDisabled, u = t.isSelected, f = t.isAppleDevice, p = function(_, S) {
      return _ && _.length ? "".concat(_.indexOf(S) + 1, " of ").concat(_.length) : "";
    };
    if (n === "value" && o)
      return "value ".concat(s, " focused, ").concat(p(o, r), ".");
    if (n === "menu" && f) {
      var g = c ? " disabled" : "", h = "".concat(u ? " selected" : "").concat(g);
      return "".concat(s).concat(h, ", ").concat(p(i, r), ".");
    }
    return "";
  },
  onFilter: function(t) {
    var n = t.inputValue, r = t.resultsMessage;
    return "".concat(r).concat(n ? " for search term " + n : "", ".");
  }
}, oM = function(t) {
  var n = t.ariaSelection, r = t.focusedOption, i = t.focusedValue, a = t.focusableOptions, s = t.isFocused, o = t.selectValue, c = t.selectProps, u = t.id, f = t.isAppleDevice, p = c.ariaLiveMessages, g = c.getOptionLabel, h = c.inputValue, y = c.isMulti, _ = c.isOptionDisabled, S = c.isSearchable, w = c.menuIsOpen, I = c.options, b = c.screenReaderStatus, E = c.tabSelectsValue, C = c.isLoading, A = c["aria-label"], N = c["aria-live"], D = Xe(function() {
    return Pe(Pe({}, sM), p || {});
  }, [p]), F = Xe(function() {
    var L = "";
    if (n && D.onChange) {
      var q = n.option, te = n.options, ge = n.removedValue, Ce = n.removedValues, O = n.value, ie = function(we) {
        return Array.isArray(we) ? null : we;
      }, se = ge || q || ie(O), R = se ? g(se) : "", oe = te || Ce || void 0, K = oe ? oe.map(g) : [], fe = Pe({
        // multiSelected items are usually items that have already been selected
        // or set by the user as a default value so we assume they are not disabled
        isDisabled: se && _(se, o),
        label: R,
        labels: K
      }, n);
      L = D.onChange(fe);
    }
    return L;
  }, [n, D, _, o, g]), P = Xe(function() {
    var L = "", q = r || i, te = !!(r && o && o.includes(r));
    if (q && D.onFocus) {
      var ge = {
        focused: q,
        label: g(q),
        isDisabled: _(q, o),
        isSelected: te,
        options: a,
        context: q === r ? "menu" : "value",
        selectValue: o,
        isAppleDevice: f
      };
      L = D.onFocus(ge);
    }
    return L;
  }, [r, i, g, _, D, a, o, f]), G = Xe(function() {
    var L = "";
    if (w && I.length && !C && D.onFilter) {
      var q = b({
        count: a.length
      });
      L = D.onFilter({
        inputValue: h,
        resultsMessage: q
      });
    }
    return L;
  }, [a, h, w, D, I, b, C]), Y = n?.action === "initial-input-focus", z = Xe(function() {
    var L = "";
    if (D.guidance) {
      var q = i ? "value" : w ? "menu" : "input";
      L = D.guidance({
        "aria-label": A,
        context: q,
        isDisabled: r && _(r, o),
        isMulti: y,
        isSearchable: S,
        tabSelectsValue: E,
        isInitialFocus: Y
      });
    }
    return L;
  }, [A, r, i, y, _, S, w, D, o, E, Y]), H = Le(zo, null, Le("span", {
    id: "aria-selection"
  }, F), Le("span", {
    id: "aria-focused"
  }, P), Le("span", {
    id: "aria-results"
  }, G), Le("span", {
    id: "aria-guidance"
  }, z));
  return Le(zo, null, Le(Cm, {
    id: u
  }, Y && H), Le(Cm, {
    "aria-live": N,
    "aria-atomic": "false",
    "aria-relevant": "additions text",
    role: "log"
  }, s && !Y && H));
}, lM = oM, ed = [{
  base: "A",
  letters: "Aâ’¶ï¼¡Ã€ÃÃ‚áº¦áº¤áºªáº¨ÃƒÄ€Ä‚áº°áº®áº´áº²È¦Ç Ã„Çžáº¢Ã…ÇºÇÈ€È‚áº áº¬áº¶á¸€Ä„Èºâ±¯"
}, {
  base: "AA",
  letters: "êœ²"
}, {
  base: "AE",
  letters: "Ã†Ç¼Ç¢"
}, {
  base: "AO",
  letters: "êœ´"
}, {
  base: "AU",
  letters: "êœ¶"
}, {
  base: "AV",
  letters: "êœ¸êœº"
}, {
  base: "AY",
  letters: "êœ¼"
}, {
  base: "B",
  letters: "Bâ’·ï¼¢á¸‚á¸„á¸†ÉƒÆ‚Æ"
}, {
  base: "C",
  letters: "Câ’¸ï¼£Ä†ÄˆÄŠÄŒÃ‡á¸ˆÆ‡È»êœ¾"
}, {
  base: "D",
  letters: "Dâ’¹ï¼¤á¸ŠÄŽá¸Œá¸á¸’á¸ŽÄÆ‹ÆŠÆ‰ê¹"
}, {
  base: "DZ",
  letters: "Ç±Ç„"
}, {
  base: "Dz",
  letters: "Ç²Ç…"
}, {
  base: "E",
  letters: "Eâ’ºï¼¥ÃˆÃ‰ÃŠá»€áº¾á»„á»‚áº¼Ä’á¸”á¸–Ä”Ä–Ã‹áººÄšÈ„È†áº¸á»†È¨á¸œÄ˜á¸˜á¸šÆÆŽ"
}, {
  base: "F",
  letters: "Fâ’»ï¼¦á¸žÆ‘ê»"
}, {
  base: "G",
  letters: "Gâ’¼ï¼§Ç´Äœá¸ ÄžÄ Ç¦Ä¢Ç¤Æ“êž ê½ê¾"
}, {
  base: "H",
  letters: "Hâ’½ï¼¨Ä¤á¸¢á¸¦Èžá¸¤á¸¨á¸ªÄ¦â±§â±µêž"
}, {
  base: "I",
  letters: "Iâ’¾ï¼©ÃŒÃÃŽÄ¨ÄªÄ¬Ä°Ãá¸®á»ˆÇÈˆÈŠá»ŠÄ®á¸¬Æ—"
}, {
  base: "J",
  letters: "Jâ’¿ï¼ªÄ´Éˆ"
}, {
  base: "K",
  letters: "Kâ“€ï¼«á¸°Ç¨á¸²Ä¶á¸´Æ˜â±©ê€ê‚ê„êž¢"
}, {
  base: "L",
  letters: "Lâ“ï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êˆê†êž€"
}, {
  base: "LJ",
  letters: "Ç‡"
}, {
  base: "Lj",
  letters: "Çˆ"
}, {
  base: "M",
  letters: "Mâ“‚ï¼­á¸¾á¹€á¹‚â±®Æœ"
}, {
  base: "N",
  letters: "Nâ“ƒï¼®Ç¸ÅƒÃ‘á¹„Å‡á¹†Å…á¹Šá¹ˆÈ Æêžêž¤"
}, {
  base: "NJ",
  letters: "ÇŠ"
}, {
  base: "Nj",
  letters: "Ç‹"
}, {
  base: "O",
  letters: "Oâ“„ï¼¯Ã’Ã“Ã”á»’á»á»–á»”Ã•á¹ŒÈ¬á¹ŽÅŒá¹á¹’ÅŽÈ®È°Ã–Èªá»ŽÅÇ‘ÈŒÈŽÆ á»œá»šá» á»žá»¢á»Œá»˜ÇªÇ¬Ã˜Ç¾Æ†ÆŸêŠêŒ"
}, {
  base: "OI",
  letters: "Æ¢"
}, {
  base: "OO",
  letters: "êŽ"
}, {
  base: "OU",
  letters: "È¢"
}, {
  base: "P",
  letters: "Pâ“…ï¼°á¹”á¹–Æ¤â±£êê’ê”"
}, {
  base: "Q",
  letters: "Qâ“†ï¼±ê–ê˜ÉŠ"
}, {
  base: "R",
  letters: "Râ“‡ï¼²Å”á¹˜Å˜ÈÈ’á¹šá¹œÅ–á¹žÉŒâ±¤êšêž¦êž‚"
}, {
  base: "S",
  letters: "Sâ“ˆï¼³áºžÅšá¹¤Åœá¹ Å á¹¦á¹¢á¹¨È˜Åžâ±¾êž¨êž„"
}, {
  base: "T",
  letters: "Tâ“‰ï¼´á¹ªÅ¤á¹¬ÈšÅ¢á¹°á¹®Å¦Æ¬Æ®È¾êž†"
}, {
  base: "TZ",
  letters: "êœ¨"
}, {
  base: "U",
  letters: "Uâ“Šï¼µÃ™ÃšÃ›Å¨á¹¸Åªá¹ºÅ¬ÃœÇ›Ç—Ç•Ç™á»¦Å®Å°Ç“È”È–Æ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É„"
}, {
  base: "V",
  letters: "Vâ“‹ï¼¶á¹¼á¹¾Æ²êžÉ…"
}, {
  base: "VY",
  letters: "ê "
}, {
  base: "W",
  letters: "Wâ“Œï¼·áº€áº‚Å´áº†áº„áºˆâ±²"
}, {
  base: "X",
  letters: "Xâ“ï¼¸áºŠáºŒ"
}, {
  base: "Y",
  letters: "Yâ“Žï¼¹á»²ÃÅ¶á»¸È²áºŽÅ¸á»¶á»´Æ³ÉŽá»¾"
}, {
  base: "Z",
  letters: "Zâ“ï¼ºÅ¹áºÅ»Å½áº’áº”ÆµÈ¤â±¿â±«ê¢"
}, {
  base: "a",
  letters: "aâ“ï½áºšÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄƒáº±áº¯áºµáº³È§Ç¡Ã¤ÇŸáº£Ã¥Ç»ÇŽÈÈƒáº¡áº­áº·á¸Ä…â±¥É"
}, {
  base: "aa",
  letters: "êœ³"
}, {
  base: "ae",
  letters: "Ã¦Ç½Ç£"
}, {
  base: "ao",
  letters: "êœµ"
}, {
  base: "au",
  letters: "êœ·"
}, {
  base: "av",
  letters: "êœ¹êœ»"
}, {
  base: "ay",
  letters: "êœ½"
}, {
  base: "b",
  letters: "bâ“‘ï½‚á¸ƒá¸…á¸‡Æ€ÆƒÉ“"
}, {
  base: "c",
  letters: "câ“’ï½ƒÄ‡Ä‰Ä‹ÄÃ§á¸‰ÆˆÈ¼êœ¿â†„"
}, {
  base: "d",
  letters: "dâ““ï½„á¸‹Äá¸á¸‘á¸“á¸Ä‘ÆŒÉ–É—êº"
}, {
  base: "dz",
  letters: "Ç³Ç†"
}, {
  base: "e",
  letters: "eâ“”ï½…Ã¨Ã©Ãªá»áº¿á»…á»ƒáº½Ä“á¸•á¸—Ä•Ä—Ã«áº»Ä›È…È‡áº¹á»‡È©á¸Ä™á¸™á¸›É‡É›Ç"
}, {
  base: "f",
  letters: "fâ“•ï½†á¸ŸÆ’ê¼"
}, {
  base: "g",
  letters: "gâ“–ï½‡ÇµÄá¸¡ÄŸÄ¡Ç§Ä£Ç¥É êž¡áµ¹ê¿"
}, {
  base: "h",
  letters: "hâ“—ï½ˆÄ¥á¸£á¸§ÈŸá¸¥á¸©á¸«áº–Ä§â±¨â±¶É¥"
}, {
  base: "hv",
  letters: "Æ•"
}, {
  base: "i",
  letters: "iâ“˜ï½‰Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»‰ÇÈ‰È‹á»‹Ä¯á¸­É¨Ä±"
}, {
  base: "j",
  letters: "jâ“™ï½ŠÄµÇ°É‰"
}, {
  base: "k",
  letters: "kâ“šï½‹á¸±Ç©á¸³Ä·á¸µÆ™â±ªêêƒê…êž£"
}, {
  base: "l",
  letters: "lâ“›ï½ŒÅ€ÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿Å‚ÆšÉ«â±¡ê‰êžê‡"
}, {
  base: "lj",
  letters: "Ç‰"
}, {
  base: "m",
  letters: "mâ“œï½á¸¿á¹á¹ƒÉ±É¯"
}, {
  base: "n",
  letters: "nâ“ï½ŽÇ¹Å„Ã±á¹…Åˆá¹‡Å†á¹‹á¹‰ÆžÉ²Å‰êž‘êž¥"
}, {
  base: "nj",
  letters: "ÇŒ"
}, {
  base: "o",
  letters: "oâ“žï½Ã²Ã³Ã´á»“á»‘á»—á»•Ãµá¹È­á¹Åá¹‘á¹“ÅÈ¯È±Ã¶È«á»Å‘Ç’ÈÈÆ¡á»á»›á»¡á»Ÿá»£á»á»™Ç«Ç­Ã¸Ç¿É”ê‹êÉµ"
}, {
  base: "oi",
  letters: "Æ£"
}, {
  base: "ou",
  letters: "È£"
}, {
  base: "oo",
  letters: "ê"
}, {
  base: "p",
  letters: "pâ“Ÿï½á¹•á¹—Æ¥áµ½ê‘ê“ê•"
}, {
  base: "q",
  letters: "qâ“ ï½‘É‹ê—ê™"
}, {
  base: "r",
  letters: "râ“¡ï½’Å•á¹™Å™È‘È“á¹›á¹Å—á¹ŸÉÉ½ê›êž§êžƒ"
}, {
  base: "s",
  letters: "sâ“¢ï½“ÃŸÅ›á¹¥Åá¹¡Å¡á¹§á¹£á¹©È™ÅŸÈ¿êž©êž…áº›"
}, {
  base: "t",
  letters: "tâ“£ï½”á¹«áº—Å¥á¹­È›Å£á¹±á¹¯Å§Æ­Êˆâ±¦êž‡"
}, {
  base: "tz",
  letters: "êœ©"
}, {
  base: "u",
  letters: "uâ“¤ï½•Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇœÇ˜Ç–Çšá»§Å¯Å±Ç”È•È—Æ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ‰"
}, {
  base: "v",
  letters: "vâ“¥ï½–á¹½á¹¿Ê‹êŸÊŒ"
}, {
  base: "vy",
  letters: "ê¡"
}, {
  base: "w",
  letters: "wâ“¦ï½—áºáºƒÅµáº‡áº…áº˜áº‰â±³"
}, {
  base: "x",
  letters: "xâ“§ï½˜áº‹áº"
}, {
  base: "y",
  letters: "yâ“¨ï½™á»³Ã½Å·á»¹È³áºÃ¿á»·áº™á»µÆ´Éá»¿"
}, {
  base: "z",
  letters: "zâ“©ï½šÅºáº‘Å¼Å¾áº“áº•Æ¶È¥É€â±¬ê£"
}], cM = new RegExp("[" + ed.map(function(e) {
  return e.letters;
}).join("") + "]", "g"), Ub = {};
for (var iu = 0; iu < ed.length; iu++)
  for (var au = ed[iu], su = 0; su < au.letters.length; su++)
    Ub[au.letters[su]] = au.base;
var Xb = function(t) {
  return t.replace(cM, function(n) {
    return Ub[n];
  });
}, uM = nM(Xb), Sm = function(t) {
  return t.replace(/^\s+|\s+$/g, "");
}, dM = function(t) {
  return "".concat(t.label, " ").concat(t.value);
}, fM = function(t) {
  return function(n, r) {
    if (n.data.__isNew__) return !0;
    var i = Pe({
      ignoreCase: !0,
      ignoreAccents: !0,
      stringify: dM,
      trim: !0,
      matchFrom: "any"
    }, t), a = i.ignoreCase, s = i.ignoreAccents, o = i.stringify, c = i.trim, u = i.matchFrom, f = c ? Sm(r) : r, p = c ? Sm(o(n)) : o(n);
    return a && (f = f.toLowerCase(), p = p.toLowerCase()), s && (f = uM(f), p = Xb(p)), u === "start" ? p.substr(0, f.length) === f : p.indexOf(f) > -1;
  };
}, pM = ["innerRef"];
function hM(e) {
  var t = e.innerRef, n = yr(e, pM), r = VD(n, "onExited", "in", "enter", "exit", "appear");
  return Le("input", Be({
    ref: t
  }, r, {
    css: /* @__PURE__ */ bf({
      label: "dummyInput",
      // get rid of any default styles
      background: 0,
      border: 0,
      // important! this hides the flashing cursor
      caretColor: "transparent",
      fontSize: "inherit",
      gridArea: "1 / 1 / 2 / 3",
      outline: 0,
      padding: 0,
      // important! without `width` browsers won't allow focus
      width: 1,
      // remove cursor on desktop
      color: "transparent",
      // remove cursor on mobile whilst maintaining "scroll into view" behaviour
      left: -100,
      opacity: 0,
      position: "relative",
      transform: "scale(.01)"
    }, process.env.NODE_ENV === "production" ? "" : ";label:DummyInput;", process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkR1bW15SW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlCTSIsImZpbGUiOiJEdW1teUlucHV0LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgSlNYLCBSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgeyByZW1vdmVQcm9wcyB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHVtbXlJbnB1dCh7XG4gIGlubmVyUmVmLFxuICAuLi5wcm9wc1xufTogSlNYLkludHJpbnNpY0VsZW1lbnRzWydpbnB1dCddICYge1xuICByZWFkb25seSBpbm5lclJlZjogUmVmPEhUTUxJbnB1dEVsZW1lbnQ+O1xufSkge1xuICAvLyBSZW1vdmUgYW5pbWF0aW9uIHByb3BzIG5vdCBtZWFudCBmb3IgSFRNTCBlbGVtZW50c1xuICBjb25zdCBmaWx0ZXJlZFByb3BzID0gcmVtb3ZlUHJvcHMoXG4gICAgcHJvcHMsXG4gICAgJ29uRXhpdGVkJyxcbiAgICAnaW4nLFxuICAgICdlbnRlcicsXG4gICAgJ2V4aXQnLFxuICAgICdhcHBlYXInXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgICB7Li4uZmlsdGVyZWRQcm9wc31cbiAgICAgIGNzcz17e1xuICAgICAgICBsYWJlbDogJ2R1bW15SW5wdXQnLFxuICAgICAgICAvLyBnZXQgcmlkIG9mIGFueSBkZWZhdWx0IHN0eWxlc1xuICAgICAgICBiYWNrZ3JvdW5kOiAwLFxuICAgICAgICBib3JkZXI6IDAsXG4gICAgICAgIC8vIGltcG9ydGFudCEgdGhpcyBoaWRlcyB0aGUgZmxhc2hpbmcgY3Vyc29yXG4gICAgICAgIGNhcmV0Q29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGZvbnRTaXplOiAnaW5oZXJpdCcsXG4gICAgICAgIGdyaWRBcmVhOiAnMSAvIDEgLyAyIC8gMycsXG4gICAgICAgIG91dGxpbmU6IDAsXG4gICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgIC8vIGltcG9ydGFudCEgd2l0aG91dCBgd2lkdGhgIGJyb3dzZXJzIHdvbid0IGFsbG93IGZvY3VzXG4gICAgICAgIHdpZHRoOiAxLFxuXG4gICAgICAgIC8vIHJlbW92ZSBjdXJzb3Igb24gZGVza3RvcFxuICAgICAgICBjb2xvcjogJ3RyYW5zcGFyZW50JyxcblxuICAgICAgICAvLyByZW1vdmUgY3Vyc29yIG9uIG1vYmlsZSB3aGlsc3QgbWFpbnRhaW5pbmcgXCJzY3JvbGwgaW50byB2aWV3XCIgYmVoYXZpb3VyXG4gICAgICAgIGxlZnQ6IC0xMDAsXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSguMDEpJyxcbiAgICAgIH19XG4gICAgLz5cbiAgKTtcbn1cbiJdfQ== */")
  }));
}
var mM = function(t) {
  t.cancelable && t.preventDefault(), t.stopPropagation();
};
function gM(e) {
  var t = e.isEnabled, n = e.onBottomArrive, r = e.onBottomLeave, i = e.onTopArrive, a = e.onTopLeave, s = Oe(!1), o = Oe(!1), c = Oe(0), u = Oe(null), f = _e(function(S, w) {
    if (u.current !== null) {
      var I = u.current, b = I.scrollTop, E = I.scrollHeight, C = I.clientHeight, A = u.current, N = w > 0, D = E - C - b, F = !1;
      D > w && s.current && (r && r(S), s.current = !1), N && o.current && (a && a(S), o.current = !1), N && w > D ? (n && !s.current && n(S), A.scrollTop = E, F = !0, s.current = !0) : !N && -w > b && (i && !o.current && i(S), A.scrollTop = 0, F = !0, o.current = !0), F && mM(S);
    }
  }, [n, r, i, a]), p = _e(function(S) {
    f(S, S.deltaY);
  }, [f]), g = _e(function(S) {
    c.current = S.changedTouches[0].clientY;
  }, []), h = _e(function(S) {
    var w = c.current - S.changedTouches[0].clientY;
    f(S, w);
  }, [f]), y = _e(function(S) {
    if (S) {
      var w = FD ? {
        passive: !1
      } : !1;
      S.addEventListener("wheel", p, w), S.addEventListener("touchstart", g, w), S.addEventListener("touchmove", h, w);
    }
  }, [h, g, p]), _ = _e(function(S) {
    S && (S.removeEventListener("wheel", p, !1), S.removeEventListener("touchstart", g, !1), S.removeEventListener("touchmove", h, !1));
  }, [h, g, p]);
  return re(function() {
    if (t) {
      var S = u.current;
      return y(S), function() {
        _(S);
      };
    }
  }, [t, y, _]), function(S) {
    u.current = S;
  };
}
var Im = ["boxSizing", "height", "overflow", "paddingRight", "position"], _m = {
  boxSizing: "border-box",
  // account for possible declaration `width: 100%;` on body
  overflow: "hidden",
  position: "relative",
  height: "100%"
};
function Em(e) {
  e.cancelable && e.preventDefault();
}
function km(e) {
  e.stopPropagation();
}
function Nm() {
  var e = this.scrollTop, t = this.scrollHeight, n = e + this.offsetHeight;
  e === 0 ? this.scrollTop = 1 : n === t && (this.scrollTop = e - 1);
}
function Am() {
  return "ontouchstart" in window || navigator.maxTouchPoints;
}
var Dm = !!(typeof window < "u" && window.document && window.document.createElement), Ua = 0, Qi = {
  capture: !1,
  passive: !1
};
function vM(e) {
  var t = e.isEnabled, n = e.accountForScrollbars, r = n === void 0 ? !0 : n, i = Oe({}), a = Oe(null), s = _e(function(c) {
    if (Dm) {
      var u = document.body, f = u && u.style;
      if (r && Im.forEach(function(y) {
        var _ = f && f[y];
        i.current[y] = _;
      }), r && Ua < 1) {
        var p = parseInt(i.current.paddingRight, 10) || 0, g = document.body ? document.body.clientWidth : 0, h = window.innerWidth - g + p || 0;
        Object.keys(_m).forEach(function(y) {
          var _ = _m[y];
          f && (f[y] = _);
        }), f && (f.paddingRight = "".concat(h, "px"));
      }
      u && Am() && (u.addEventListener("touchmove", Em, Qi), c && (c.addEventListener("touchstart", Nm, Qi), c.addEventListener("touchmove", km, Qi))), Ua += 1;
    }
  }, [r]), o = _e(function(c) {
    if (Dm) {
      var u = document.body, f = u && u.style;
      Ua = Math.max(Ua - 1, 0), r && Ua < 1 && Im.forEach(function(p) {
        var g = i.current[p];
        f && (f[p] = g);
      }), u && Am() && (u.removeEventListener("touchmove", Em, Qi), c && (c.removeEventListener("touchstart", Nm, Qi), c.removeEventListener("touchmove", km, Qi)));
    }
  }, [r]);
  return re(function() {
    if (t) {
      var c = a.current;
      return s(c), function() {
        o(c);
      };
    }
  }, [t, s, o]), function(c) {
    a.current = c;
  };
}
function yM() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
var bM = function(t) {
  var n = t.target;
  return n.ownerDocument.activeElement && n.ownerDocument.activeElement.blur();
}, xM = process.env.NODE_ENV === "production" ? {
  name: "1kfdb0e",
  styles: "position:fixed;left:0;bottom:0;right:0;top:0"
} : {
  name: "bp8cua-ScrollManager",
  styles: "position:fixed;left:0;bottom:0;right:0;top:0;label:ScrollManager;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbE1hbmFnZXIudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9EVSIsImZpbGUiOiJTY3JvbGxNYW5hZ2VyLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsganN4IH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIFJlYWN0RWxlbWVudCwgUmVmQ2FsbGJhY2ssIE1vdXNlRXZlbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU2Nyb2xsQ2FwdHVyZSBmcm9tICcuL3VzZVNjcm9sbENhcHR1cmUnO1xuaW1wb3J0IHVzZVNjcm9sbExvY2sgZnJvbSAnLi91c2VTY3JvbGxMb2NrJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcmVhZG9ubHkgY2hpbGRyZW46IChyZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PikgPT4gUmVhY3RFbGVtZW50O1xuICByZWFkb25seSBsb2NrRW5hYmxlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY2FwdHVyZUVuYWJsZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IG9uQm90dG9tQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Cb3R0b21MZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG9uVG9wQXJyaXZlPzogKGV2ZW50OiBXaGVlbEV2ZW50IHwgVG91Y2hFdmVudCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgb25Ub3BMZWF2ZT86IChldmVudDogV2hlZWxFdmVudCB8IFRvdWNoRXZlbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGJsdXJTZWxlY3RJbnB1dCA9IChldmVudDogTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcbiAgcmV0dXJuIChcbiAgICBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJlxuICAgIChlbGVtZW50Lm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuYmx1cigpXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTY3JvbGxNYW5hZ2VyKHtcbiAgY2hpbGRyZW4sXG4gIGxvY2tFbmFibGVkLFxuICBjYXB0dXJlRW5hYmxlZCA9IHRydWUsXG4gIG9uQm90dG9tQXJyaXZlLFxuICBvbkJvdHRvbUxlYXZlLFxuICBvblRvcEFycml2ZSxcbiAgb25Ub3BMZWF2ZSxcbn06IFByb3BzKSB7XG4gIGNvbnN0IHNldFNjcm9sbENhcHR1cmVUYXJnZXQgPSB1c2VTY3JvbGxDYXB0dXJlKHtcbiAgICBpc0VuYWJsZWQ6IGNhcHR1cmVFbmFibGVkLFxuICAgIG9uQm90dG9tQXJyaXZlLFxuICAgIG9uQm90dG9tTGVhdmUsXG4gICAgb25Ub3BBcnJpdmUsXG4gICAgb25Ub3BMZWF2ZSxcbiAgfSk7XG4gIGNvbnN0IHNldFNjcm9sbExvY2tUYXJnZXQgPSB1c2VTY3JvbGxMb2NrKHsgaXNFbmFibGVkOiBsb2NrRW5hYmxlZCB9KTtcblxuICBjb25zdCB0YXJnZXRSZWY6IFJlZkNhbGxiYWNrPEhUTUxFbGVtZW50PiA9IChlbGVtZW50KSA9PiB7XG4gICAgc2V0U2Nyb2xsQ2FwdHVyZVRhcmdldChlbGVtZW50KTtcbiAgICBzZXRTY3JvbGxMb2NrVGFyZ2V0KGVsZW1lbnQpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAge2xvY2tFbmFibGVkICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIG9uQ2xpY2s9e2JsdXJTZWxlY3RJbnB1dH1cbiAgICAgICAgICBjc3M9e3sgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAsIHRvcDogMCB9fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtjaGlsZHJlbih0YXJnZXRSZWYpfVxuICAgIDwvRnJhZ21lbnQ+XG4gICk7XG59XG4iXX0= */",
  toString: yM
};
function wM(e) {
  var t = e.children, n = e.lockEnabled, r = e.captureEnabled, i = r === void 0 ? !0 : r, a = e.onBottomArrive, s = e.onBottomLeave, o = e.onTopArrive, c = e.onTopLeave, u = gM({
    isEnabled: i,
    onBottomArrive: a,
    onBottomLeave: s,
    onTopArrive: o,
    onTopLeave: c
  }), f = vM({
    isEnabled: n
  }), p = function(h) {
    u(h), f(h);
  };
  return Le(zo, null, n && Le("div", {
    onClick: bM,
    css: xM
  }), t(p));
}
function CM() {
  return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
}
var SM = process.env.NODE_ENV === "production" ? {
  name: "1a0ro4n-requiredInput",
  styles: "label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"
} : {
  name: "5kkxb2-requiredInput-RequiredInput",
  styles: "label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%;label:RequiredInput;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkSW5wdXQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNJIiwiZmlsZSI6IlJlcXVpcmVkSW5wdXQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBGb2N1c0V2ZW50SGFuZGxlciwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IFJlcXVpcmVkSW5wdXQ6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgcmVhZG9ubHkgbmFtZT86IHN0cmluZztcbiAgcmVhZG9ubHkgb25Gb2N1czogRm9jdXNFdmVudEhhbmRsZXI8SFRNTElucHV0RWxlbWVudD47XG59PiA9ICh7IG5hbWUsIG9uRm9jdXMgfSkgPT4gKFxuICA8aW5wdXRcbiAgICByZXF1aXJlZFxuICAgIG5hbWU9e25hbWV9XG4gICAgdGFiSW5kZXg9ey0xfVxuICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICBjc3M9e3tcbiAgICAgIGxhYmVsOiAncmVxdWlyZWRJbnB1dCcsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH19XG4gICAgLy8gUHJldmVudCBgU3dpdGNoaW5nIGZyb20gdW5jb250cm9sbGVkIHRvIGNvbnRyb2xsZWRgIGVycm9yXG4gICAgdmFsdWU9XCJcIlxuICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgLz5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJlcXVpcmVkSW5wdXQ7XG4iXX0= */",
  toString: CM
}, IM = function(t) {
  var n = t.name, r = t.onFocus;
  return Le("input", {
    required: !0,
    name: n,
    tabIndex: -1,
    "aria-hidden": "true",
    onFocus: r,
    css: SM,
    value: "",
    onChange: function() {
    }
  });
}, _M = IM;
function If(e) {
  var t;
  return typeof window < "u" && window.navigator != null ? e.test(((t = window.navigator.userAgentData) === null || t === void 0 ? void 0 : t.platform) || window.navigator.platform) : !1;
}
function EM() {
  return If(/^iPhone/i);
}
function Zb() {
  return If(/^Mac/i);
}
function kM() {
  return If(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.
  Zb() && navigator.maxTouchPoints > 1;
}
function NM() {
  return EM() || kM();
}
function AM() {
  return Zb() || NM();
}
var DM = function(t) {
  return t.label;
}, OM = function(t) {
  return t.label;
}, MM = function(t) {
  return t.value;
}, RM = function(t) {
  return !!t.isDisabled;
}, TM = {
  clearIndicator: pO,
  container: tO,
  control: xO,
  dropdownIndicator: dO,
  group: IO,
  groupHeading: EO,
  indicatorsContainer: aO,
  indicatorSeparator: mO,
  input: DO,
  loadingIndicator: yO,
  loadingMessage: qD,
  menu: zD,
  menuList: UD,
  menuPortal: KD,
  multiValue: FO,
  multiValueLabel: PO,
  multiValueRemove: LO,
  noOptionsMessage: ZD,
  option: zO,
  placeholder: $O,
  singleValue: ZO,
  valueContainer: rO
}, FM = {
  primary: "#2684FF",
  primary75: "#4C9AFF",
  primary50: "#B2D4FF",
  primary25: "#DEEBFF",
  danger: "#DE350B",
  dangerLight: "#FFBDAD",
  neutral0: "hsl(0, 0%, 100%)",
  neutral5: "hsl(0, 0%, 95%)",
  neutral10: "hsl(0, 0%, 90%)",
  neutral20: "hsl(0, 0%, 80%)",
  neutral30: "hsl(0, 0%, 70%)",
  neutral40: "hsl(0, 0%, 60%)",
  neutral50: "hsl(0, 0%, 50%)",
  neutral60: "hsl(0, 0%, 40%)",
  neutral70: "hsl(0, 0%, 30%)",
  neutral80: "hsl(0, 0%, 20%)",
  neutral90: "hsl(0, 0%, 10%)"
}, PM = 4, qb = 4, LM = 38, VM = qb * 2, BM = {
  baseUnit: qb,
  controlHeight: LM,
  menuGutter: VM
}, ou = {
  borderRadius: PM,
  colors: FM,
  spacing: BM
}, GM = {
  "aria-live": "polite",
  backspaceRemovesValue: !0,
  blurInputOnSelect: bm(),
  captureMenuScroll: !bm(),
  classNames: {},
  closeMenuOnSelect: !0,
  closeMenuOnScroll: !1,
  components: {},
  controlShouldRenderValue: !0,
  escapeClearsValue: !1,
  filterOption: fM(),
  formatGroupLabel: DM,
  getOptionLabel: OM,
  getOptionValue: MM,
  isDisabled: !1,
  isLoading: !1,
  isMulti: !1,
  isRtl: !1,
  isSearchable: !0,
  isOptionDisabled: RM,
  loadingMessage: function() {
    return "Loading...";
  },
  maxMenuHeight: 300,
  minMenuHeight: 140,
  menuIsOpen: !1,
  menuPlacement: "bottom",
  menuPosition: "absolute",
  menuShouldBlockScroll: !1,
  menuShouldScrollIntoView: !RD(),
  noOptionsMessage: function() {
    return "No options";
  },
  openMenuOnFocus: !1,
  openMenuOnClick: !0,
  options: [],
  pageSize: 5,
  placeholder: "Select...",
  screenReaderStatus: function(t) {
    var n = t.count;
    return "".concat(n, " result").concat(n !== 1 ? "s" : "", " available");
  },
  styles: {},
  tabIndex: 0,
  tabSelectsValue: !0,
  unstyled: !1
};
function Om(e, t, n, r) {
  var i = Kb(e, t, n), a = e0(e, t, n), s = Qb(e, t), o = cl(e, t);
  return {
    type: "option",
    data: t,
    isDisabled: i,
    isSelected: a,
    label: s,
    value: o,
    index: r
  };
}
function Lo(e, t) {
  return e.options.map(function(n, r) {
    if ("options" in n) {
      var i = n.options.map(function(s, o) {
        return Om(e, s, t, o);
      }).filter(function(s) {
        return Rm(e, s);
      });
      return i.length > 0 ? {
        type: "group",
        data: n,
        options: i,
        index: r
      } : void 0;
    }
    var a = Om(e, n, t, r);
    return Rm(e, a) ? a : void 0;
  }).filter(PD);
}
function Jb(e) {
  return e.reduce(function(t, n) {
    return n.type === "group" ? t.push.apply(t, hf(n.options.map(function(r) {
      return r.data;
    }))) : t.push(n.data), t;
  }, []);
}
function Mm(e, t) {
  return e.reduce(function(n, r) {
    return r.type === "group" ? n.push.apply(n, hf(r.options.map(function(i) {
      return {
        data: i.data,
        id: "".concat(t, "-").concat(r.index, "-").concat(i.index)
      };
    }))) : n.push({
      data: r.data,
      id: "".concat(t, "-").concat(r.index)
    }), n;
  }, []);
}
function YM(e, t) {
  return Jb(Lo(e, t));
}
function Rm(e, t) {
  var n = e.inputValue, r = n === void 0 ? "" : n, i = t.data, a = t.isSelected, s = t.label, o = t.value;
  return (!n0(e) || !a) && t0(e, {
    label: s,
    value: o,
    data: i
  }, r);
}
function WM(e, t) {
  var n = e.focusedValue, r = e.selectValue, i = r.indexOf(n);
  if (i > -1) {
    var a = t.indexOf(n);
    if (a > -1)
      return n;
    if (i < t.length)
      return t[i];
  }
  return null;
}
function zM(e, t) {
  var n = e.focusedOption;
  return n && t.indexOf(n) > -1 ? n : t[0];
}
var lu = function(t, n) {
  var r, i = (r = t.find(function(a) {
    return a.data === n;
  })) === null || r === void 0 ? void 0 : r.id;
  return i || null;
}, Qb = function(t, n) {
  return t.getOptionLabel(n);
}, cl = function(t, n) {
  return t.getOptionValue(n);
};
function Kb(e, t, n) {
  return typeof e.isOptionDisabled == "function" ? e.isOptionDisabled(t, n) : !1;
}
function e0(e, t, n) {
  if (n.indexOf(t) > -1) return !0;
  if (typeof e.isOptionSelected == "function")
    return e.isOptionSelected(t, n);
  var r = cl(e, t);
  return n.some(function(i) {
    return cl(e, i) === r;
  });
}
function t0(e, t, n) {
  return e.filterOption ? e.filterOption(t, n) : !0;
}
var n0 = function(t) {
  var n = t.hideSelectedOptions, r = t.isMulti;
  return n === void 0 ? r : n;
}, HM = 1, _f = /* @__PURE__ */ (function(e) {
  oA(n, e);
  var t = uA(n);
  function n(r) {
    var i;
    if (aA(this, n), i = t.call(this, r), i.state = {
      ariaSelection: null,
      focusedOption: null,
      focusedOptionId: null,
      focusableOptionsWithIds: [],
      focusedValue: null,
      inputIsHidden: !1,
      isFocused: !1,
      selectValue: [],
      clearFocusValueOnUpdate: !1,
      prevWasFocused: !1,
      inputIsHiddenAfterUpdate: void 0,
      prevProps: void 0,
      instancePrefix: "",
      isAppleDevice: !1
    }, i.blockOptionHover = !1, i.isComposing = !1, i.commonProps = void 0, i.initialTouchX = 0, i.initialTouchY = 0, i.openAfterFocus = !1, i.scrollToFocusedOptionOnUpdate = !1, i.userIsDragging = void 0, i.controlRef = null, i.getControlRef = function(c) {
      i.controlRef = c;
    }, i.focusedOptionRef = null, i.getFocusedOptionRef = function(c) {
      i.focusedOptionRef = c;
    }, i.menuListRef = null, i.getMenuListRef = function(c) {
      i.menuListRef = c;
    }, i.inputRef = null, i.getInputRef = function(c) {
      i.inputRef = c;
    }, i.focus = i.focusInput, i.blur = i.blurInput, i.onChange = function(c, u) {
      var f = i.props, p = f.onChange, g = f.name;
      u.name = g, i.ariaOnChange(c, u), p(c, u);
    }, i.setValue = function(c, u, f) {
      var p = i.props, g = p.closeMenuOnSelect, h = p.isMulti, y = p.inputValue;
      i.onInputChange("", {
        action: "set-value",
        prevInputValue: y
      }), g && (i.setState({
        inputIsHiddenAfterUpdate: !h
      }), i.onMenuClose()), i.setState({
        clearFocusValueOnUpdate: !0
      }), i.onChange(c, {
        action: u,
        option: f
      });
    }, i.selectOption = function(c) {
      var u = i.props, f = u.blurInputOnSelect, p = u.isMulti, g = u.name, h = i.state.selectValue, y = p && i.isOptionSelected(c, h), _ = i.isOptionDisabled(c, h);
      if (y) {
        var S = i.getOptionValue(c);
        i.setValue(h.filter(function(w) {
          return i.getOptionValue(w) !== S;
        }), "deselect-option", c);
      } else if (!_)
        p ? i.setValue([].concat(hf(h), [c]), "select-option", c) : i.setValue(c, "select-option");
      else {
        i.ariaOnChange(c, {
          action: "select-option",
          option: c,
          name: g
        });
        return;
      }
      f && i.blurInput();
    }, i.removeValue = function(c) {
      var u = i.props.isMulti, f = i.state.selectValue, p = i.getOptionValue(c), g = f.filter(function(y) {
        return i.getOptionValue(y) !== p;
      }), h = Co(u, g, g[0] || null);
      i.onChange(h, {
        action: "remove-value",
        removedValue: c
      }), i.focusInput();
    }, i.clearValue = function() {
      var c = i.state.selectValue;
      i.onChange(Co(i.props.isMulti, [], null), {
        action: "clear",
        removedValues: c
      });
    }, i.popValue = function() {
      var c = i.props.isMulti, u = i.state.selectValue, f = u[u.length - 1], p = u.slice(0, u.length - 1), g = Co(c, p, p[0] || null);
      f && i.onChange(g, {
        action: "pop-value",
        removedValue: f
      });
    }, i.getFocusedOptionId = function(c) {
      return lu(i.state.focusableOptionsWithIds, c);
    }, i.getFocusableOptionsWithIds = function() {
      return Mm(Lo(i.props, i.state.selectValue), i.getElementId("option"));
    }, i.getValue = function() {
      return i.state.selectValue;
    }, i.cx = function() {
      for (var c = arguments.length, u = new Array(c), f = 0; f < c; f++)
        u[f] = arguments[f];
      return kD.apply(void 0, [i.props.classNamePrefix].concat(u));
    }, i.getOptionLabel = function(c) {
      return Qb(i.props, c);
    }, i.getOptionValue = function(c) {
      return cl(i.props, c);
    }, i.getStyles = function(c, u) {
      var f = i.props.unstyled, p = TM[c](u, f);
      p.boxSizing = "border-box";
      var g = i.props.styles[c];
      return g ? g(p, u) : p;
    }, i.getClassNames = function(c, u) {
      var f, p;
      return (f = (p = i.props.classNames)[c]) === null || f === void 0 ? void 0 : f.call(p, u);
    }, i.getElementId = function(c) {
      return "".concat(i.state.instancePrefix, "-").concat(c);
    }, i.getComponents = function() {
      return KO(i.props);
    }, i.buildCategorizedOptions = function() {
      return Lo(i.props, i.state.selectValue);
    }, i.getCategorizedOptions = function() {
      return i.props.menuIsOpen ? i.buildCategorizedOptions() : [];
    }, i.buildFocusableOptions = function() {
      return Jb(i.buildCategorizedOptions());
    }, i.getFocusableOptions = function() {
      return i.props.menuIsOpen ? i.buildFocusableOptions() : [];
    }, i.ariaOnChange = function(c, u) {
      i.setState({
        ariaSelection: Pe({
          value: c
        }, u)
      });
    }, i.onMenuMouseDown = function(c) {
      c.button === 0 && (c.stopPropagation(), c.preventDefault(), i.focusInput());
    }, i.onMenuMouseMove = function(c) {
      i.blockOptionHover = !1;
    }, i.onControlMouseDown = function(c) {
      if (!c.defaultPrevented) {
        var u = i.props.openMenuOnClick;
        i.state.isFocused ? i.props.menuIsOpen ? c.target.tagName !== "INPUT" && c.target.tagName !== "TEXTAREA" && i.onMenuClose() : u && i.openMenu("first") : (u && (i.openAfterFocus = !0), i.focusInput()), c.target.tagName !== "INPUT" && c.target.tagName !== "TEXTAREA" && c.preventDefault();
      }
    }, i.onDropdownIndicatorMouseDown = function(c) {
      if (!(c && c.type === "mousedown" && c.button !== 0) && !i.props.isDisabled) {
        var u = i.props, f = u.isMulti, p = u.menuIsOpen;
        i.focusInput(), p ? (i.setState({
          inputIsHiddenAfterUpdate: !f
        }), i.onMenuClose()) : i.openMenu("first"), c.preventDefault();
      }
    }, i.onClearIndicatorMouseDown = function(c) {
      c && c.type === "mousedown" && c.button !== 0 || (i.clearValue(), c.preventDefault(), i.openAfterFocus = !1, c.type === "touchend" ? i.focusInput() : setTimeout(function() {
        return i.focusInput();
      }));
    }, i.onScroll = function(c) {
      typeof i.props.closeMenuOnScroll == "boolean" ? c.target instanceof HTMLElement && Hl(c.target) && i.props.onMenuClose() : typeof i.props.closeMenuOnScroll == "function" && i.props.closeMenuOnScroll(c) && i.props.onMenuClose();
    }, i.onCompositionStart = function() {
      i.isComposing = !0;
    }, i.onCompositionEnd = function() {
      i.isComposing = !1;
    }, i.onTouchStart = function(c) {
      var u = c.touches, f = u && u.item(0);
      f && (i.initialTouchX = f.clientX, i.initialTouchY = f.clientY, i.userIsDragging = !1);
    }, i.onTouchMove = function(c) {
      var u = c.touches, f = u && u.item(0);
      if (f) {
        var p = Math.abs(f.clientX - i.initialTouchX), g = Math.abs(f.clientY - i.initialTouchY), h = 5;
        i.userIsDragging = p > h || g > h;
      }
    }, i.onTouchEnd = function(c) {
      i.userIsDragging || (i.controlRef && !i.controlRef.contains(c.target) && i.menuListRef && !i.menuListRef.contains(c.target) && i.blurInput(), i.initialTouchX = 0, i.initialTouchY = 0);
    }, i.onControlTouchEnd = function(c) {
      i.userIsDragging || i.onControlMouseDown(c);
    }, i.onClearIndicatorTouchEnd = function(c) {
      i.userIsDragging || i.onClearIndicatorMouseDown(c);
    }, i.onDropdownIndicatorTouchEnd = function(c) {
      i.userIsDragging || i.onDropdownIndicatorMouseDown(c);
    }, i.handleInputChange = function(c) {
      var u = i.props.inputValue, f = c.currentTarget.value;
      i.setState({
        inputIsHiddenAfterUpdate: !1
      }), i.onInputChange(f, {
        action: "input-change",
        prevInputValue: u
      }), i.props.menuIsOpen || i.onMenuOpen();
    }, i.onInputFocus = function(c) {
      i.props.onFocus && i.props.onFocus(c), i.setState({
        inputIsHiddenAfterUpdate: !1,
        isFocused: !0
      }), (i.openAfterFocus || i.props.openMenuOnFocus) && i.openMenu("first"), i.openAfterFocus = !1;
    }, i.onInputBlur = function(c) {
      var u = i.props.inputValue;
      if (i.menuListRef && i.menuListRef.contains(document.activeElement)) {
        i.inputRef.focus();
        return;
      }
      i.props.onBlur && i.props.onBlur(c), i.onInputChange("", {
        action: "input-blur",
        prevInputValue: u
      }), i.onMenuClose(), i.setState({
        focusedValue: null,
        isFocused: !1
      });
    }, i.onOptionHover = function(c) {
      if (!(i.blockOptionHover || i.state.focusedOption === c)) {
        var u = i.getFocusableOptions(), f = u.indexOf(c);
        i.setState({
          focusedOption: c,
          focusedOptionId: f > -1 ? i.getFocusedOptionId(c) : null
        });
      }
    }, i.shouldHideSelectedOptions = function() {
      return n0(i.props);
    }, i.onValueInputFocus = function(c) {
      c.preventDefault(), c.stopPropagation(), i.focus();
    }, i.onKeyDown = function(c) {
      var u = i.props, f = u.isMulti, p = u.backspaceRemovesValue, g = u.escapeClearsValue, h = u.inputValue, y = u.isClearable, _ = u.isDisabled, S = u.menuIsOpen, w = u.onKeyDown, I = u.tabSelectsValue, b = u.openMenuOnFocus, E = i.state, C = E.focusedOption, A = E.focusedValue, N = E.selectValue;
      if (!_ && !(typeof w == "function" && (w(c), c.defaultPrevented))) {
        switch (i.blockOptionHover = !0, c.key) {
          case "ArrowLeft":
            if (!f || h) return;
            i.focusValue("previous");
            break;
          case "ArrowRight":
            if (!f || h) return;
            i.focusValue("next");
            break;
          case "Delete":
          case "Backspace":
            if (h) return;
            if (A)
              i.removeValue(A);
            else {
              if (!p) return;
              f ? i.popValue() : y && i.clearValue();
            }
            break;
          case "Tab":
            if (i.isComposing || c.shiftKey || !S || !I || !C || // don't capture the event if the menu opens on focus and the focused
            // option is already selected; it breaks the flow of navigation
            b && i.isOptionSelected(C, N))
              return;
            i.selectOption(C);
            break;
          case "Enter":
            if (c.keyCode === 229)
              break;
            if (S) {
              if (!C || i.isComposing) return;
              i.selectOption(C);
              break;
            }
            return;
          case "Escape":
            S ? (i.setState({
              inputIsHiddenAfterUpdate: !1
            }), i.onInputChange("", {
              action: "menu-close",
              prevInputValue: h
            }), i.onMenuClose()) : y && g && i.clearValue();
            break;
          case " ":
            if (h)
              return;
            if (!S) {
              i.openMenu("first");
              break;
            }
            if (!C) return;
            i.selectOption(C);
            break;
          case "ArrowUp":
            S ? i.focusOption("up") : i.openMenu("last");
            break;
          case "ArrowDown":
            S ? i.focusOption("down") : i.openMenu("first");
            break;
          case "PageUp":
            if (!S) return;
            i.focusOption("pageup");
            break;
          case "PageDown":
            if (!S) return;
            i.focusOption("pagedown");
            break;
          case "Home":
            if (!S) return;
            i.focusOption("first");
            break;
          case "End":
            if (!S) return;
            i.focusOption("last");
            break;
          default:
            return;
        }
        c.preventDefault();
      }
    }, i.state.instancePrefix = "react-select-" + (i.props.instanceId || ++HM), i.state.selectValue = vm(r.value), r.menuIsOpen && i.state.selectValue.length) {
      var a = i.getFocusableOptionsWithIds(), s = i.buildFocusableOptions(), o = s.indexOf(i.state.selectValue[0]);
      i.state.focusableOptionsWithIds = a, i.state.focusedOption = s[o], i.state.focusedOptionId = lu(a, s[o]);
    }
    return i;
  }
  return sA(n, [{
    key: "componentDidMount",
    value: function() {
      this.startListeningComposition(), this.startListeningToTouch(), this.props.closeMenuOnScroll && document && document.addEventListener && document.addEventListener("scroll", this.onScroll, !0), this.props.autoFocus && this.focusInput(), this.props.menuIsOpen && this.state.focusedOption && this.menuListRef && this.focusedOptionRef && ym(this.menuListRef, this.focusedOptionRef), AM() && this.setState({
        isAppleDevice: !0
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function(i) {
      var a = this.props, s = a.isDisabled, o = a.menuIsOpen, c = this.state.isFocused;
      // ensure focus is restored correctly when the control becomes enabled
      (c && !s && i.isDisabled || // ensure focus is on the Input when the menu opens
      c && o && !i.menuIsOpen) && this.focusInput(), c && s && !i.isDisabled ? this.setState({
        isFocused: !1
      }, this.onMenuClose) : !c && !s && i.isDisabled && this.inputRef === document.activeElement && this.setState({
        isFocused: !0
      }), this.menuListRef && this.focusedOptionRef && this.scrollToFocusedOptionOnUpdate && (ym(this.menuListRef, this.focusedOptionRef), this.scrollToFocusedOptionOnUpdate = !1);
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.stopListeningComposition(), this.stopListeningToTouch(), document.removeEventListener("scroll", this.onScroll, !0);
    }
    // ==============================
    // Consumer Handlers
    // ==============================
  }, {
    key: "onMenuOpen",
    value: function() {
      this.props.onMenuOpen();
    }
  }, {
    key: "onMenuClose",
    value: function() {
      this.onInputChange("", {
        action: "menu-close",
        prevInputValue: this.props.inputValue
      }), this.props.onMenuClose();
    }
  }, {
    key: "onInputChange",
    value: function(i, a) {
      this.props.onInputChange(i, a);
    }
    // ==============================
    // Methods
    // ==============================
  }, {
    key: "focusInput",
    value: function() {
      this.inputRef && this.inputRef.focus();
    }
  }, {
    key: "blurInput",
    value: function() {
      this.inputRef && this.inputRef.blur();
    }
    // aliased for consumers
  }, {
    key: "openMenu",
    value: function(i) {
      var a = this, s = this.state, o = s.selectValue, c = s.isFocused, u = this.buildFocusableOptions(), f = i === "first" ? 0 : u.length - 1;
      if (!this.props.isMulti) {
        var p = u.indexOf(o[0]);
        p > -1 && (f = p);
      }
      this.scrollToFocusedOptionOnUpdate = !(c && this.menuListRef), this.setState({
        inputIsHiddenAfterUpdate: !1,
        focusedValue: null,
        focusedOption: u[f],
        focusedOptionId: this.getFocusedOptionId(u[f])
      }, function() {
        return a.onMenuOpen();
      });
    }
  }, {
    key: "focusValue",
    value: function(i) {
      var a = this.state, s = a.selectValue, o = a.focusedValue;
      if (this.props.isMulti) {
        this.setState({
          focusedOption: null
        });
        var c = s.indexOf(o);
        o || (c = -1);
        var u = s.length - 1, f = -1;
        if (s.length) {
          switch (i) {
            case "previous":
              c === 0 ? f = 0 : c === -1 ? f = u : f = c - 1;
              break;
            case "next":
              c > -1 && c < u && (f = c + 1);
              break;
          }
          this.setState({
            inputIsHidden: f !== -1,
            focusedValue: s[f]
          });
        }
      }
    }
  }, {
    key: "focusOption",
    value: function() {
      var i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "first", a = this.props.pageSize, s = this.state.focusedOption, o = this.getFocusableOptions();
      if (o.length) {
        var c = 0, u = o.indexOf(s);
        s || (u = -1), i === "up" ? c = u > 0 ? u - 1 : o.length - 1 : i === "down" ? c = (u + 1) % o.length : i === "pageup" ? (c = u - a, c < 0 && (c = 0)) : i === "pagedown" ? (c = u + a, c > o.length - 1 && (c = o.length - 1)) : i === "last" && (c = o.length - 1), this.scrollToFocusedOptionOnUpdate = !0, this.setState({
          focusedOption: o[c],
          focusedValue: null,
          focusedOptionId: this.getFocusedOptionId(o[c])
        });
      }
    }
  }, {
    key: "getTheme",
    value: (
      // ==============================
      // Getters
      // ==============================
      function() {
        return this.props.theme ? typeof this.props.theme == "function" ? this.props.theme(ou) : Pe(Pe({}, ou), this.props.theme) : ou;
      }
    )
  }, {
    key: "getCommonProps",
    value: function() {
      var i = this.clearValue, a = this.cx, s = this.getStyles, o = this.getClassNames, c = this.getValue, u = this.selectOption, f = this.setValue, p = this.props, g = p.isMulti, h = p.isRtl, y = p.options, _ = this.hasValue();
      return {
        clearValue: i,
        cx: a,
        getStyles: s,
        getClassNames: o,
        getValue: c,
        hasValue: _,
        isMulti: g,
        isRtl: h,
        options: y,
        selectOption: u,
        selectProps: p,
        setValue: f,
        theme: this.getTheme()
      };
    }
  }, {
    key: "hasValue",
    value: function() {
      var i = this.state.selectValue;
      return i.length > 0;
    }
  }, {
    key: "hasOptions",
    value: function() {
      return !!this.getFocusableOptions().length;
    }
  }, {
    key: "isClearable",
    value: function() {
      var i = this.props, a = i.isClearable, s = i.isMulti;
      return a === void 0 ? s : a;
    }
  }, {
    key: "isOptionDisabled",
    value: function(i, a) {
      return Kb(this.props, i, a);
    }
  }, {
    key: "isOptionSelected",
    value: function(i, a) {
      return e0(this.props, i, a);
    }
  }, {
    key: "filterOption",
    value: function(i, a) {
      return t0(this.props, i, a);
    }
  }, {
    key: "formatOptionLabel",
    value: function(i, a) {
      if (typeof this.props.formatOptionLabel == "function") {
        var s = this.props.inputValue, o = this.state.selectValue;
        return this.props.formatOptionLabel(i, {
          context: a,
          inputValue: s,
          selectValue: o
        });
      } else
        return this.getOptionLabel(i);
    }
  }, {
    key: "formatGroupLabel",
    value: function(i) {
      return this.props.formatGroupLabel(i);
    }
    // ==============================
    // Mouse Handlers
    // ==============================
  }, {
    key: "startListeningComposition",
    value: (
      // ==============================
      // Composition Handlers
      // ==============================
      function() {
        document && document.addEventListener && (document.addEventListener("compositionstart", this.onCompositionStart, !1), document.addEventListener("compositionend", this.onCompositionEnd, !1));
      }
    )
  }, {
    key: "stopListeningComposition",
    value: function() {
      document && document.removeEventListener && (document.removeEventListener("compositionstart", this.onCompositionStart), document.removeEventListener("compositionend", this.onCompositionEnd));
    }
  }, {
    key: "startListeningToTouch",
    value: (
      // ==============================
      // Touch Handlers
      // ==============================
      function() {
        document && document.addEventListener && (document.addEventListener("touchstart", this.onTouchStart, !1), document.addEventListener("touchmove", this.onTouchMove, !1), document.addEventListener("touchend", this.onTouchEnd, !1));
      }
    )
  }, {
    key: "stopListeningToTouch",
    value: function() {
      document && document.removeEventListener && (document.removeEventListener("touchstart", this.onTouchStart), document.removeEventListener("touchmove", this.onTouchMove), document.removeEventListener("touchend", this.onTouchEnd));
    }
  }, {
    key: "renderInput",
    value: (
      // ==============================
      // Renderers
      // ==============================
      function() {
        var i = this.props, a = i.isDisabled, s = i.isSearchable, o = i.inputId, c = i.inputValue, u = i.tabIndex, f = i.form, p = i.menuIsOpen, g = i.required, h = this.getComponents(), y = h.Input, _ = this.state, S = _.inputIsHidden, w = _.ariaSelection, I = this.commonProps, b = o || this.getElementId("input"), E = Pe(Pe(Pe({
          "aria-autocomplete": "list",
          "aria-expanded": p,
          "aria-haspopup": !0,
          "aria-errormessage": this.props["aria-errormessage"],
          "aria-invalid": this.props["aria-invalid"],
          "aria-label": this.props["aria-label"],
          "aria-labelledby": this.props["aria-labelledby"],
          "aria-required": g,
          role: "combobox",
          "aria-activedescendant": this.state.isAppleDevice ? void 0 : this.state.focusedOptionId || ""
        }, p && {
          "aria-controls": this.getElementId("listbox")
        }), !s && {
          "aria-readonly": !0
        }), this.hasValue() ? w?.action === "initial-input-focus" && {
          "aria-describedby": this.getElementId("live-region")
        } : {
          "aria-describedby": this.getElementId("placeholder")
        });
        return s ? /* @__PURE__ */ U.createElement(y, Be({}, I, {
          autoCapitalize: "none",
          autoComplete: "off",
          autoCorrect: "off",
          id: b,
          innerRef: this.getInputRef,
          isDisabled: a,
          isHidden: S,
          onBlur: this.onInputBlur,
          onChange: this.handleInputChange,
          onFocus: this.onInputFocus,
          spellCheck: "false",
          tabIndex: u,
          form: f,
          type: "text",
          value: c
        }, E)) : /* @__PURE__ */ U.createElement(hM, Be({
          id: b,
          innerRef: this.getInputRef,
          onBlur: this.onInputBlur,
          onChange: ol,
          onFocus: this.onInputFocus,
          disabled: a,
          tabIndex: u,
          inputMode: "none",
          form: f,
          value: ""
        }, E));
      }
    )
  }, {
    key: "renderPlaceholderOrValue",
    value: function() {
      var i = this, a = this.getComponents(), s = a.MultiValue, o = a.MultiValueContainer, c = a.MultiValueLabel, u = a.MultiValueRemove, f = a.SingleValue, p = a.Placeholder, g = this.commonProps, h = this.props, y = h.controlShouldRenderValue, _ = h.isDisabled, S = h.isMulti, w = h.inputValue, I = h.placeholder, b = this.state, E = b.selectValue, C = b.focusedValue, A = b.isFocused;
      if (!this.hasValue() || !y)
        return w ? null : /* @__PURE__ */ U.createElement(p, Be({}, g, {
          key: "placeholder",
          isDisabled: _,
          isFocused: A,
          innerProps: {
            id: this.getElementId("placeholder")
          }
        }), I);
      if (S)
        return E.map(function(D, F) {
          var P = D === C, G = "".concat(i.getOptionLabel(D), "-").concat(i.getOptionValue(D));
          return /* @__PURE__ */ U.createElement(s, Be({}, g, {
            components: {
              Container: o,
              Label: c,
              Remove: u
            },
            isFocused: P,
            isDisabled: _,
            key: G,
            index: F,
            removeProps: {
              onClick: function() {
                return i.removeValue(D);
              },
              onTouchEnd: function() {
                return i.removeValue(D);
              },
              onMouseDown: function(z) {
                z.preventDefault();
              }
            },
            data: D
          }), i.formatOptionLabel(D, "value"));
        });
      if (w)
        return null;
      var N = E[0];
      return /* @__PURE__ */ U.createElement(f, Be({}, g, {
        data: N,
        isDisabled: _
      }), this.formatOptionLabel(N, "value"));
    }
  }, {
    key: "renderClearIndicator",
    value: function() {
      var i = this.getComponents(), a = i.ClearIndicator, s = this.commonProps, o = this.props, c = o.isDisabled, u = o.isLoading, f = this.state.isFocused;
      if (!this.isClearable() || !a || c || !this.hasValue() || u)
        return null;
      var p = {
        onMouseDown: this.onClearIndicatorMouseDown,
        onTouchEnd: this.onClearIndicatorTouchEnd,
        "aria-hidden": "true"
      };
      return /* @__PURE__ */ U.createElement(a, Be({}, s, {
        innerProps: p,
        isFocused: f
      }));
    }
  }, {
    key: "renderLoadingIndicator",
    value: function() {
      var i = this.getComponents(), a = i.LoadingIndicator, s = this.commonProps, o = this.props, c = o.isDisabled, u = o.isLoading, f = this.state.isFocused;
      if (!a || !u) return null;
      var p = {
        "aria-hidden": "true"
      };
      return /* @__PURE__ */ U.createElement(a, Be({}, s, {
        innerProps: p,
        isDisabled: c,
        isFocused: f
      }));
    }
  }, {
    key: "renderIndicatorSeparator",
    value: function() {
      var i = this.getComponents(), a = i.DropdownIndicator, s = i.IndicatorSeparator;
      if (!a || !s) return null;
      var o = this.commonProps, c = this.props.isDisabled, u = this.state.isFocused;
      return /* @__PURE__ */ U.createElement(s, Be({}, o, {
        isDisabled: c,
        isFocused: u
      }));
    }
  }, {
    key: "renderDropdownIndicator",
    value: function() {
      var i = this.getComponents(), a = i.DropdownIndicator;
      if (!a) return null;
      var s = this.commonProps, o = this.props.isDisabled, c = this.state.isFocused, u = {
        onMouseDown: this.onDropdownIndicatorMouseDown,
        onTouchEnd: this.onDropdownIndicatorTouchEnd,
        "aria-hidden": "true"
      };
      return /* @__PURE__ */ U.createElement(a, Be({}, s, {
        innerProps: u,
        isDisabled: o,
        isFocused: c
      }));
    }
  }, {
    key: "renderMenu",
    value: function() {
      var i = this, a = this.getComponents(), s = a.Group, o = a.GroupHeading, c = a.Menu, u = a.MenuList, f = a.MenuPortal, p = a.LoadingMessage, g = a.NoOptionsMessage, h = a.Option, y = this.commonProps, _ = this.state.focusedOption, S = this.props, w = S.captureMenuScroll, I = S.inputValue, b = S.isLoading, E = S.loadingMessage, C = S.minMenuHeight, A = S.maxMenuHeight, N = S.menuIsOpen, D = S.menuPlacement, F = S.menuPosition, P = S.menuPortalTarget, G = S.menuShouldBlockScroll, Y = S.menuShouldScrollIntoView, z = S.noOptionsMessage, H = S.onMenuScrollToTop, L = S.onMenuScrollToBottom;
      if (!N) return null;
      var q = function(R, oe) {
        var K = R.type, fe = R.data, Ne = R.isDisabled, we = R.isSelected, Fe = R.label, Te = R.value, He = _ === fe, ue = Ne ? void 0 : function() {
          return i.onOptionHover(fe);
        }, rt = Ne ? void 0 : function() {
          return i.selectOption(fe);
        }, vt = "".concat(i.getElementId("option"), "-").concat(oe), We = {
          id: vt,
          onClick: rt,
          onMouseMove: ue,
          onMouseOver: ue,
          tabIndex: -1,
          role: "option",
          "aria-selected": i.state.isAppleDevice ? void 0 : we
          // is not supported on Apple devices
        };
        return /* @__PURE__ */ U.createElement(h, Be({}, y, {
          innerProps: We,
          data: fe,
          isDisabled: Ne,
          isSelected: we,
          key: vt,
          label: Fe,
          type: K,
          value: Te,
          isFocused: He,
          innerRef: He ? i.getFocusedOptionRef : void 0
        }), i.formatOptionLabel(R.data, "menu"));
      }, te;
      if (this.hasOptions())
        te = this.getCategorizedOptions().map(function(se) {
          if (se.type === "group") {
            var R = se.data, oe = se.options, K = se.index, fe = "".concat(i.getElementId("group"), "-").concat(K), Ne = "".concat(fe, "-heading");
            return /* @__PURE__ */ U.createElement(s, Be({}, y, {
              key: fe,
              data: R,
              options: oe,
              Heading: o,
              headingProps: {
                id: Ne,
                data: se.data
              },
              label: i.formatGroupLabel(se.data)
            }), se.options.map(function(we) {
              return q(we, "".concat(K, "-").concat(we.index));
            }));
          } else if (se.type === "option")
            return q(se, "".concat(se.index));
        });
      else if (b) {
        var ge = E({
          inputValue: I
        });
        if (ge === null) return null;
        te = /* @__PURE__ */ U.createElement(p, y, ge);
      } else {
        var Ce = z({
          inputValue: I
        });
        if (Ce === null) return null;
        te = /* @__PURE__ */ U.createElement(g, y, Ce);
      }
      var O = {
        minMenuHeight: C,
        maxMenuHeight: A,
        menuPlacement: D,
        menuPosition: F,
        menuShouldScrollIntoView: Y
      }, ie = /* @__PURE__ */ U.createElement(HD, Be({}, y, O), function(se) {
        var R = se.ref, oe = se.placerProps, K = oe.placement, fe = oe.maxHeight;
        return /* @__PURE__ */ U.createElement(c, Be({}, y, O, {
          innerRef: R,
          innerProps: {
            onMouseDown: i.onMenuMouseDown,
            onMouseMove: i.onMenuMouseMove
          },
          isLoading: b,
          placement: K
        }), /* @__PURE__ */ U.createElement(wM, {
          captureEnabled: w,
          onTopArrive: H,
          onBottomArrive: L,
          lockEnabled: G
        }, function(Ne) {
          return /* @__PURE__ */ U.createElement(u, Be({}, y, {
            innerRef: function(Fe) {
              i.getMenuListRef(Fe), Ne(Fe);
            },
            innerProps: {
              role: "listbox",
              "aria-multiselectable": y.isMulti,
              id: i.getElementId("listbox")
            },
            isLoading: b,
            maxHeight: fe,
            focusedOption: _
          }), te);
        }));
      });
      return P || F === "fixed" ? /* @__PURE__ */ U.createElement(f, Be({}, y, {
        appendTo: P,
        controlElement: this.controlRef,
        menuPlacement: D,
        menuPosition: F
      }), ie) : ie;
    }
  }, {
    key: "renderFormField",
    value: function() {
      var i = this, a = this.props, s = a.delimiter, o = a.isDisabled, c = a.isMulti, u = a.name, f = a.required, p = this.state.selectValue;
      if (f && !this.hasValue() && !o)
        return /* @__PURE__ */ U.createElement(_M, {
          name: u,
          onFocus: this.onValueInputFocus
        });
      if (!(!u || o))
        if (c)
          if (s) {
            var g = p.map(function(_) {
              return i.getOptionValue(_);
            }).join(s);
            return /* @__PURE__ */ U.createElement("input", {
              name: u,
              type: "hidden",
              value: g
            });
          } else {
            var h = p.length > 0 ? p.map(function(_, S) {
              return /* @__PURE__ */ U.createElement("input", {
                key: "i-".concat(S),
                name: u,
                type: "hidden",
                value: i.getOptionValue(_)
              });
            }) : /* @__PURE__ */ U.createElement("input", {
              name: u,
              type: "hidden",
              value: ""
            });
            return /* @__PURE__ */ U.createElement("div", null, h);
          }
        else {
          var y = p[0] ? this.getOptionValue(p[0]) : "";
          return /* @__PURE__ */ U.createElement("input", {
            name: u,
            type: "hidden",
            value: y
          });
        }
    }
  }, {
    key: "renderLiveRegion",
    value: function() {
      var i = this.commonProps, a = this.state, s = a.ariaSelection, o = a.focusedOption, c = a.focusedValue, u = a.isFocused, f = a.selectValue, p = this.getFocusableOptions();
      return /* @__PURE__ */ U.createElement(lM, Be({}, i, {
        id: this.getElementId("live-region"),
        ariaSelection: s,
        focusedOption: o,
        focusedValue: c,
        isFocused: u,
        selectValue: f,
        focusableOptions: p,
        isAppleDevice: this.state.isAppleDevice
      }));
    }
  }, {
    key: "render",
    value: function() {
      var i = this.getComponents(), a = i.Control, s = i.IndicatorsContainer, o = i.SelectContainer, c = i.ValueContainer, u = this.props, f = u.className, p = u.id, g = u.isDisabled, h = u.menuIsOpen, y = this.state.isFocused, _ = this.commonProps = this.getCommonProps();
      return /* @__PURE__ */ U.createElement(o, Be({}, _, {
        className: f,
        innerProps: {
          id: p,
          onKeyDown: this.onKeyDown
        },
        isDisabled: g,
        isFocused: y
      }), this.renderLiveRegion(), /* @__PURE__ */ U.createElement(a, Be({}, _, {
        innerRef: this.getControlRef,
        innerProps: {
          onMouseDown: this.onControlMouseDown,
          onTouchEnd: this.onControlTouchEnd
        },
        isDisabled: g,
        isFocused: y,
        menuIsOpen: h
      }), /* @__PURE__ */ U.createElement(c, Be({}, _, {
        isDisabled: g
      }), this.renderPlaceholderOrValue(), this.renderInput()), /* @__PURE__ */ U.createElement(s, Be({}, _, {
        isDisabled: g
      }), this.renderClearIndicator(), this.renderLoadingIndicator(), this.renderIndicatorSeparator(), this.renderDropdownIndicator())), this.renderMenu(), this.renderFormField());
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function(i, a) {
      var s = a.prevProps, o = a.clearFocusValueOnUpdate, c = a.inputIsHiddenAfterUpdate, u = a.ariaSelection, f = a.isFocused, p = a.prevWasFocused, g = a.instancePrefix, h = i.options, y = i.value, _ = i.menuIsOpen, S = i.inputValue, w = i.isMulti, I = vm(y), b = {};
      if (s && (y !== s.value || h !== s.options || _ !== s.menuIsOpen || S !== s.inputValue)) {
        var E = _ ? YM(i, I) : [], C = _ ? Mm(Lo(i, I), "".concat(g, "-option")) : [], A = o ? WM(a, I) : null, N = zM(a, E), D = lu(C, N);
        b = {
          selectValue: I,
          focusedOption: N,
          focusedOptionId: D,
          focusableOptionsWithIds: C,
          focusedValue: A,
          clearFocusValueOnUpdate: !1
        };
      }
      var F = c != null && i !== s ? {
        inputIsHidden: c,
        inputIsHiddenAfterUpdate: void 0
      } : {}, P = u, G = f && p;
      return f && !G && (P = {
        value: Co(w, I, I[0] || null),
        options: I,
        action: "initial-input-focus"
      }, G = !p), u?.action === "initial-input-focus" && (P = null), Pe(Pe(Pe({}, b), F), {}, {
        prevProps: i,
        ariaSelection: P,
        prevWasFocused: G
      });
    }
  }]), n;
})(tI);
_f.defaultProps = GM;
var jM = /* @__PURE__ */ _s(function(e, t) {
  var n = vb(e);
  return /* @__PURE__ */ U.createElement(_f, Be({
    ref: t
  }, n));
}), td = jM;
function $M({
  show: e,
  onClose: t,
  properties: n,
  blacklistedEquipmentProperties: r,
  setBlacklistedEquipmentProperties: i
}) {
  const [a, s] = B([]);
  re(() => {
    s(n.filter((p) => !r.includes(p.value)));
  }, [n]);
  const o = (p) => {
    p.preventDefault();
    const g = n.filter(((h) => !a.includes(h))).map((h) => h.value);
    i(g), t();
  }, c = (p) => {
    s(p);
  }, u = () => document.documentElement.getAttribute("data-bs-theme") === "dark", f = {
    control: (p) => ({
      ...p,
      backgroundColor: u() ? "#212529" : p.backgroundColor,
      borderColor: u() ? "#495057" : p.borderColor,
      color: u() ? "#fff" : p.color
    }),
    menu: (p) => ({
      ...p,
      backgroundColor: u() ? "#212529" : p.backgroundColor
    }),
    option: (p, g) => ({
      ...p,
      backgroundColor: u() ? g.isSelected ? "#0d6efd" : g.isFocused ? "#343a40" : "#212529" : p.backgroundColor,
      color: u() ? "#fff" : p.color
    }),
    singleValue: (p) => ({
      ...p,
      color: u() ? "#fff" : p.color
    }),
    multiValue: (p) => ({
      ...p,
      backgroundColor: u() ? "#343a40" : p.backgroundColor
    }),
    multiValueLabel: (p) => ({
      ...p,
      color: u() ? "#fff" : p.color
    }),
    input: (p) => ({
      ...p,
      color: u() ? "#fff" : p.color
    })
  };
  return /* @__PURE__ */ l(be, { show: e, size: "lg", onHide: t, children: /* @__PURE__ */ v(j, { onSubmit: o, children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Edit sorting properties" }) }),
    /* @__PURE__ */ l(be.Body, { children: /* @__PURE__ */ v(j.Group, { controlId: "sorting-properties", className: "mb-3", children: [
      /* @__PURE__ */ l(j.Label, { children: "Select properties to sort by" }),
      /* @__PURE__ */ l(
        td,
        {
          isMulti: !0,
          classNamePrefix: "react-select",
          placeholder: "Select one or more properties",
          options: n,
          value: a,
          onChange: c,
          styles: f
        }
      )
    ] }) }),
    /* @__PURE__ */ v(be.Footer, { children: [
      /* @__PURE__ */ l(ce, { variant: "secondary", onClick: t, children: "Close" }),
      /* @__PURE__ */ l(ce, { type: "submit", variant: "primary", children: "Save" })
    ] })
  ] }) });
}
function UM({
  equipmentList: e,
  currentFilter: t,
  setEquipmentSort: n,
  addEquipment: r
}) {
  const { environment: i } = mt(), a = (I) => I.main_tool_latest_status?.status.status === "RESERVED", [s, o] = B(!1), [c, u] = B([]), [f, p] = B(!1);
  re(() => {
    e.length !== 0 && (t?.facet.type_name && t?.facet.type_name.values.length > 0 || t?.facet.category && t?.facet.category.values.length > 0 ? o(!0) : o(!1));
  }, [t, e]);
  const [g, h] = ne.useState([]), y = ne.useCallback(
    (I) => {
      h((b) => {
        const E = typeof I == "function" ? I(b) : I;
        if (!E.length)
          n((C) => ({
            ...C,
            direction: void 0
          }));
        else {
          const { id: C, desc: A } = E[0];
          n({
            order: C,
            direction: A ? "desc" : "asc"
          });
        }
        return E;
      });
    },
    [n]
  ), _ = ne.useMemo(() => {
    const I = [
      {
        accessorKey: "number",
        cell: (C) => C.getValue()
      },
      {
        id: "actions",
        header: "",
        enableSorting: !1,
        cell: ({ row: C }) => {
          const A = C.original, N = a(A);
          return /* @__PURE__ */ v(ve, { children: [
            N && /* @__PURE__ */ l("span", { className: "badge bg-info badge-inactive", children: "RESERVED" }),
            " ",
            A.is_in_fixed_setup && /* @__PURE__ */ v("span", { className: "badge bg-info badge-inactive", children: [
              "In Fixed setup ",
              A.fixed_setup?.name
            ] }),
            " ",
            A.is_in_active_setup && !A.is_in_fixed_setup && /* @__PURE__ */ v("span", { className: "badge bg-info badge-active", children: [
              "In use in ",
              A.active_setup?.name
            ] }),
            " ",
            !A.is_in_fixed_setup && /* @__PURE__ */ v("button", { onClick: () => r(A), className: "btn btn-outline-success btn-sm", children: [
              /* @__PURE__ */ l("i", { className: "fa fa-plus" }),
              " Add to setup"
            ] })
          ] });
        }
      },
      {
        id: "status",
        header: "Status",
        enableSorting: !1,
        cell: ({ row: C }) => {
          const A = C.original.main_tool_latest_status?.status;
          return A ? /* @__PURE__ */ l("div", { className: "badge", style: { color: A.front_color, backgroundColor: A.back_color }, children: A.status }) : null;
        }
      },
      {
        accessorKey: "name",
        header: "Name",
        cell: ({ row: C, getValue: A }) => /* @__PURE__ */ v(ve, { children: [
          /* @__PURE__ */ l("a", { href: `/${i}/equipment/details/${C.original.id}/general.html`, children: String(A() ?? "") }),
          " ",
          /* @__PURE__ */ l("a", { href: `/${i}/equipment/edit/${C.original.id}.html`, children: /* @__PURE__ */ l("i", { className: "fa fa-pencil-square-o fa-fw" }) })
        ] })
      }
    ], b = [
      {
        header: "Types",
        accessorFn: (C) => C.types?.join(", ") ?? "",
        id: "types",
        cell: ({ getValue: C }) => /* @__PURE__ */ l(ve, { children: String(C() ?? "") })
      },
      {
        header: "Grade",
        accessorFn: (C) => C.grade,
        id: "grade",
        cell: ({ getValue: C }) => /* @__PURE__ */ v(ve, { children: [
          parseInt(C()) === Oo.Equipment ? "Equipment" : null,
          parseInt(C()) === Oo.Accessory ? "Accessory" : null,
          parseInt(C()) === Oo.Storage ? "Storage" : null
        ] })
      },
      {
        header: "Lab",
        accessorFn: (C) => C.room?.name ?? "",
        id: "roomName",
        cell: ({ getValue: C }) => /* @__PURE__ */ l(ve, { children: String(C() ?? "") })
      }
    ], E = Array.from(
      new Map(
        e.flatMap(
          (C) => (C.properties ?? []).map((A) => ({
            property: A.property,
            label: A.label,
            type: A.int_value ? "int" : A.float_value ? "float" : "string"
          }))
        ).map((C) => [C.property, C])
      ).values().filter((C) => !c.includes(C.property))
    );
    if (E.length === 0 || !s)
      I.push(...b);
    else {
      const C = E.map((A, N) => {
        const D = (F) => A.type === "int" ? F.properties?.find((P) => P.property == A.property)?.int_value ?? 0 : A.type === "float" ? F.properties?.find((P) => P.property == A.property)?.float_value ?? 0 : F.properties?.find((P) => P.property == A.property)?.value ?? "";
        return {
          header: A.label,
          id: `property-${N}`,
          accessorFn: (F) => D(F),
          cell: ({ row: F }) => {
            const G = F.original.properties?.find((Y) => Y.property == A.property) ?? null;
            return /* @__PURE__ */ l(ve, { children: A.type === "int" ? G?.int_value : A.type === "float" ? G?.float_value : G?.value ?? "" });
          }
        };
      });
      I.push(...C);
    }
    return I;
  }, [s, c]), S = lI({
    columns: _,
    data: e,
    debugTable: !0,
    getCoreRowModel: uI(),
    getSortedRowModel: cI(),
    onSortingChange: y,
    state: {
      sorting: g
    }
  }), w = () => {
    p(!1);
  };
  return /* @__PURE__ */ v(ve, { children: [
    s && /* @__PURE__ */ v(
      ce,
      {
        variant: "primary",
        className: "mt-2",
        onClick: () => p(!f),
        children: [
          "Edit sorting properties ",
          /* @__PURE__ */ l("i", { className: "fa fa-table" })
        ]
      }
    ),
    /* @__PURE__ */ v(Qt, { striped: !0, hover: !0, size: "sm", children: [
      /* @__PURE__ */ l("thead", { children: S.getHeaderGroups().map((I) => /* @__PURE__ */ l("tr", { children: I.headers.map((b) => /* @__PURE__ */ l("th", { colSpan: b.colSpan, children: b.isPlaceholder ? null : /* @__PURE__ */ v(
        "div",
        {
          style: b.column.getCanSort() ? { cursor: "pointer" } : {},
          onClick: b.column.getToggleSortingHandler(),
          title: b.column.getCanSort() ? b.column.getNextSortingOrder() === "asc" ? "Sort ascending" : b.column.getNextSortingOrder() === "desc" ? "Sort descending" : "Clear sort" : void 0,
          children: [
            nh(b.column.columnDef.header, b.getContext()),
            " ",
            {
              asc: /* @__PURE__ */ l("i", { className: "fa fa-sort-asc" }),
              desc: /* @__PURE__ */ l("i", { className: "fa fa-sort-desc" })
            }[b.column.getIsSorted()] ?? (b.column.getCanSort() && /* @__PURE__ */ l("i", { className: "fa fa-sort", "aria-hidden": "true" }))
          ]
        }
      ) }, b.id)) }, I.id)) }),
      /* @__PURE__ */ l("tbody", { children: S.getRowModel().rows.map((I) => /* @__PURE__ */ l("tr", { children: I.getVisibleCells().map((b) => /* @__PURE__ */ l("td", { children: nh(b.column.columnDef.cell, b.getContext()) }, b.id)) }, I.id)) })
    ] }),
    /* @__PURE__ */ l(
      $M,
      {
        show: f,
        onClose: w,
        blacklistedEquipmentProperties: c,
        setBlacklistedEquipmentProperties: u,
        properties: Array.from(
          new Map(
            e.flatMap(
              (I) => (I.properties ?? []).map((b) => ({
                value: b.property,
                label: b.label
              }))
            ).map((I) => [I.value, I])
          ).values()
        )
      }
    )
  ] });
}
function XM(e) {
  return e.value_options ?? e.options?.value_options;
}
function ZM(...e) {
  return e.filter(Boolean).join("-").replace(/\s+/g, "_").replace(/[^A-Za-z0-9_\-:]/g, "");
}
function qM({
  fieldset: e,
  filter: t,
  toggleFacetFn: n
}) {
  return /* @__PURE__ */ l($h, { title: e.label ?? e.name, id: "category", menuVariant: "dark", className: "me-3", children: e.elements.map((r) => {
    const i = XM(r);
    return i ? Object.entries(i).map(([a, s]) => {
      const o = ZM(e.name, r.name, a), c = !!t?.facet?.[e.name]?.values.includes(a);
      return /* @__PURE__ */ v(
        $h.Item,
        {
          eventKey: "1",
          onClick: () => {
            n(e.name, a);
          },
          children: [
            /* @__PURE__ */ l("i", { className: `fa ${c ? "fa-check-square-o" : "fa-square-o"}` }),
            " ",
            /* @__PURE__ */ l("label", { htmlFor: o, className: "form-check-label", dangerouslySetInnerHTML: { __html: s } })
          ]
        },
        o
      );
    }) : null;
  }) });
}
function JM({
  filterForm: e,
  filter: t,
  setFilterFn: n
}) {
  if (!e)
    return /* @__PURE__ */ l(ve, {});
  const r = (i, a) => {
    const s = t ? { ...t, filter: { ...t.filter }, facet: { ...t.facet } } : ys(e);
    if (s.facet[i] ? s.facet[i].values = [...s.facet[i].values] : s.facet[i] = { values: [] }, t?.facet?.[i]?.values.includes(a)) {
      const c = s.facet[i].values.indexOf(a);
      c > -1 && s.facet[i].values.splice(c, 1);
    } else
      s.facet[i].values.push(a);
    n(s);
  };
  return /* @__PURE__ */ l("div", { className: "d-flex flex-row", children: Object.values(e.facet.fieldsets).map((i) => i.visibility == "filter_column" ? null : /* @__PURE__ */ l(
    qM,
    {
      fieldset: i,
      filter: t,
      toggleFacetFn: r
    },
    `${e.filter.name}-${i.name}`
  )) }, e.filter.name);
}
function QM(e) {
  let t = { ...e };
  return t.facet = Object.fromEntries(Object.entries(e.facet).filter(([n, r]) => r.values.length > 0)), e.filter.general.length <= 0 && (t.filter.general = []), t;
}
function Tm(e) {
  let t = {};
  for (const n of Object.entries(e.facet.fieldsets))
    t[n[0]] = { values: [] };
  return {
    filter: { general: [] },
    facet: t
  };
}
function KM({
  searchQuery: e,
  filter: t,
  filterForm: n,
  setFilterFn: r
}) {
  const [i, a] = B(null);
  re(() => {
    if (t === null) {
      a(null);
      return;
    }
    a(QM(t));
  }, [t]);
  const s = (c) => {
    const u = t ? { ...t, filter: { ...t.filter }, facet: { ...t.facet } } : Tm(n);
    u.facet[c] = { values: [] }, r(u);
  }, o = (c) => {
    const u = t ? { ...t, filter: { ...t.filter }, facet: { ...t.facet } } : Tm(n), f = u.filter.general.indexOf(c);
    f > -1 && u.filter.general.splice(f, 1), r(u);
  };
  return /* @__PURE__ */ v("div", { children: [
    e && e !== "" && /* @__PURE__ */ v("span", { className: "m-1 badge bg-pill bg-info", style: { cursor: "pointer" }, children: [
      "Search: ",
      e,
      " ",
      /* @__PURE__ */ l("i", { className: "fa fa-times" })
    ] }),
    i && n && /* @__PURE__ */ v(ve, { children: [
      i.filter.general.map((c) => /* @__PURE__ */ v(
        "span",
        {
          className: "m-1 badge bg-pill bg-info",
          style: { cursor: "pointer" },
          onClick: () => {
            o(c);
          },
          children: [
            c,
            " ",
            /* @__PURE__ */ l("i", { className: "fa fa-times" })
          ]
        },
        c
      )),
      Object.entries(i.facet).map(([c, u]) => /* @__PURE__ */ v(
        "span",
        {
          className: "m-1 badge bg-pill bg-info",
          style: { cursor: "pointer" },
          onClick: () => {
            s(c);
          },
          children: [
            Object.values(n.facet.fieldsets).find((f) => f.name == c)?.label ?? c,
            ":",
            " ",
            u.values.join(" or "),
            " ",
            /* @__PURE__ */ l("i", { className: "fa fa-times" })
          ]
        },
        c
      ))
    ] })
  ] });
}
function ys(e) {
  let t = {};
  for (const n of Object.entries(e.facet.fieldsets))
    t[n[0]] = { values: [] };
  return {
    filter: { general: [] },
    facet: t
  };
}
function ZY() {
  const { id: e, environment: t } = mt(), { ref: n, inView: r } = KN(), [i, a] = B({
    order: "default"
  }), [s, o] = B(void 0), [c, u] = B(void 0), [f] = B(20), p = $n(), g = nn({
    queries: [
      {
        queryKey: ["setup"],
        queryFn: () => bI({ id: Number(e) })
      },
      {
        queryKey: ["filter", JSON.stringify(c)],
        queryFn: () => fI({ service: "equipment", formResult: c, environment: t })
      }
    ]
  }), h = (z) => {
    p.refetchQueries({ queryKey: z });
  }, [y, _] = g, S = g.some((z) => z.isError), w = Xe(() => y.data, [y.data]), I = Oe(void 0), b = Xe(() => _.data === void 0 ? I.current !== void 0 ? I.current : {
    filter: {
      name: "",
      label: null,
      elements: [],
      fieldsets: {}
    },
    facet: {
      name: "",
      label: null,
      visibility: "",
      elements: [],
      fieldsets: {}
    }
  } : (I.current = _.data, _.data), [_.data]);
  re(() => {
    b === void 0 || c !== void 0 || u(ys(b));
  }, [b, c]);
  const [E, C] = B(
    /* @__PURE__ */ new Map()
  ), {
    data: A,
    isFetching: N,
    isFetchingNextPage: D,
    fetchNextPage: F,
    hasNextPage: P
  } = nI({
    queryKey: ["equipment", s, JSON.stringify(c), JSON.stringify(i)],
    queryFn: async ({ pageParam: z }) => {
      const H = await ev({
        environment: t,
        page: z,
        pageSize: f,
        query: s,
        filter: c,
        order: i.order,
        direction: i.direction
      });
      return {
        items: H.items,
        hasMore: H.hasMore,
        nextPage: z + 1,
        prevPage: z > 1 ? z - 1 : void 0
      };
    },
    initialPageParam: 1,
    getNextPageParam: (z) => z.hasMore ? z.nextPage : void 0,
    getPreviousPageParam: (z) => z.prevPage ?? void 0
  });
  re(() => {
    r && P && !D && F();
  }, [r, P, P, D, F]), re(() => {
    if (w !== void 0) {
      const z = /* @__PURE__ */ new Map();
      for (let H = 0; H < w.setup_equipment.length; H++) {
        const L = w.setup_equipment[H];
        z.set(L.equipment.id, L.equipment);
      }
      C(z);
    }
  }, [w]);
  const G = (z) => {
    C((H) => new Map(H.set(z.id, z)));
  }, Y = (z) => {
    C((H) => {
      const L = new Map(H);
      return L.delete(z.id), L;
    });
  };
  return re(() => {
    if (!w) return;
    const z = w.setup_equipment.map((te) => te.id).sort((te, ge) => te - ge), H = Array.from(E.keys()).sort((te, ge) => te - ge);
    if (z.length === H.length && z.every((te, ge) => te === H[ge]))
      return;
    (async () => {
      try {
        const te = {
          equipment_list: H
        };
        await ae.patch(`update/setup/${w.id}/equipment`, te);
      } catch (te) {
        console.error("Failed to update equipment", te);
      }
    })();
  }, [E]), S ? /* @__PURE__ */ v("div", { className: "alert alert-danger my-3", role: "alert", children: [
    "Error loading:",
    " ",
    g.filter((z) => z.isError).map((z, H) => /* @__PURE__ */ v("span", { children: [
      "Query error ",
      z.error.message
    ] }, H))
  ] }) : /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("div", { children: [
      /* @__PURE__ */ l("h1", { children: "Change equipment in setup" }),
      /* @__PURE__ */ l("p", { children: "Given here an overview of all equipment" })
    ] }),
    /* @__PURE__ */ v("div", { children: [
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l("h2", { children: "Selected equipment" }),
        /* @__PURE__ */ l(
          "a",
          {
            href: `/${t}/equipment/setup/details/${w?.id ?? 0}/general.html`,
            className: "btn btn-sm btn-outline-primary",
            children: "Return to setup"
          }
        )
      ] }),
      /* @__PURE__ */ l(
        HN,
        {
          setup: w,
          equipmentList: Array.from(E).map(([z, H]) => H),
          removeEquipment: Y,
          refetchQueries: h
        }
      )
    ] }),
    /* @__PURE__ */ v("div", { className: "row", children: [
      /* @__PURE__ */ v("div", { className: "col-md-10", children: [
        /* @__PURE__ */ l("h2", { children: "Available equipment" }),
        /* @__PURE__ */ v("nav", { className: "navbar bg-body-tertiary my-3 d-flex", children: [
          /* @__PURE__ */ l(JM, { filterForm: b, filter: c, setFilterFn: u }),
          /* @__PURE__ */ l(
            jN,
            {
              setSearchQuery: o,
              resetFilter: () => {
                u(ys(b));
              }
            }
          )
        ] }),
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l(
            KM,
            {
              searchQuery: s,
              filter: c ?? null,
              filterForm: b,
              setFilterFn: u
            }
          ),
          /* @__PURE__ */ l(
            UM,
            {
              equipmentList: A?.pages.flatMap(
                (z) => z.items?.filter((H) => !E.has(H.id))
              ) ?? [],
              currentFilter: c,
              setEquipmentSort: a,
              addEquipment: G
            }
          )
        ] }),
        /* @__PURE__ */ l("div", { ref: n, children: N ? "Fetching new equipment..." : null }),
        /* @__PURE__ */ l(
          "a",
          {
            href: `/${t}/equipment/setup/details/${w?.id ?? 0}/general.html`,
            className: "btn btn-sm btn-outline-primary",
            children: "Return to setup"
          }
        )
      ] }),
      /* @__PURE__ */ v("div", { className: "col-md-2", children: [
        /* @__PURE__ */ l("h3", { children: "Filter" }),
        /* @__PURE__ */ l(UN, { filterForm: b, filter: c, setFilterFn: u })
      ] })
    ] })
  ] });
}
const r0 = vr(void 0);
function eR({ children: e, defaultData: t }) {
  const [n, r] = B(t);
  return /* @__PURE__ */ l(r0.Provider, { value: { goldsteinData: n, setGoldsteinData: r }, children: e });
}
const jl = () => {
  const e = ke(r0);
  if (e === void 0)
    throw new Error("useAssociationContext must be used within an AssociationProvider");
  return e;
};
var Ii = /* @__PURE__ */ ((e) => (e[e.CONNECT = 1] = "CONNECT", e[e.GET_DATA = 3] = "GET_DATA", e[e.UPDATE_LISTENING_DATA = 5] = "UPDATE_LISTENING_DATA", e))(Ii || {});
function tR(e) {
  return typeof e == "object" && e !== null && typeof e.package_type == "number" && typeof e.payload == "string";
}
function _i(e, t) {
  if (!e) {
    console.log("Trying to send message to null ws");
    return;
  }
  const n = JSON.stringify(t);
  try {
    e.send(n);
  } catch (r) {
    console.error(r);
  }
}
function i0(e, t) {
  let n;
  try {
    n = JSON.parse(e.data);
  } catch {
    console.error("Error parsing ws package");
    return;
  }
  if (!tR(n)) {
    console.error("Data is not a ws package: " + n);
    return;
  }
  switch (n.package_type) {
    case 4:
      let r;
      try {
        r = JSON.parse(n.payload);
      } catch (i) {
        console.error("Error parsing ws payload: " + i);
        return;
      }
      t(r);
      break;
    default:
      console.log("Received unsupported message from ws server");
      break;
  }
}
function a0(e, t) {
  return new Promise((n, r) => {
    const i = new WebSocket(e);
    i.onerror = r, i.onopen = () => {
      _i(i, {
        package_type: 1,
        payload: JSON.stringify({ key: t })
      }), i.addEventListener("message", function a(s) {
        i.removeEventListener("message", a);
        try {
          const o = JSON.parse(s.data);
          JSON.parse(o.payload).authorized ? n(i) : r();
        } catch (o) {
          r(new Error("Failed to parse handshake response: " + o));
        }
      });
    };
  });
}
var Ei = /* @__PURE__ */ ((e) => (e[e.CLIENT_CONNECTED = 1] = "CLIENT_CONNECTED", e[e.CARD_READED = 2] = "CARD_READED", e[e.USER_AUTHENTICATED = 3] = "USER_AUTHENTICATED", e[e.CLIENT_DISCONNECTED = 4] = "CLIENT_DISCONNECTED", e))(Ei || {});
function s0(e, t, n, r) {
  let i = /* @__PURE__ */ new Map();
  if (!e)
    return i;
  for (let a = 0; a < e.length; a++) {
    const s = e[a], o = `${s.association_item}:${s.association_id}`, c = iR(i.get(o), s, t, n, r);
    c !== null ? i.set(o, c) : i.delete(o);
  }
  return i;
}
function nR(e) {
  return typeof e == "object" && e !== null && typeof e.user_id == "number" && typeof e.badge_uuid == "string" && typeof e.usable_status == "number";
}
function rR(e) {
  return typeof e == "object" && e !== null && typeof e.badge_uuid == "string" && Object.keys(e).length === 1;
}
function Fm(e) {
  return {
    status: 1,
    timestamp: e,
    message: {
      badgeUUID: "",
      userID: 0,
      usable: !1
    }
  };
}
function cu(e) {
  let t;
  try {
    t = JSON.parse(e);
  } catch {
    return {
      badgeUUID: "",
      userID: 0,
      usable: !1
    };
  }
  return nR(t) ? {
    badgeUUID: t.badge_uuid,
    userID: t.user_id,
    usable: t.usable_status === 1
  } : rR(t) ? {
    badgeUUID: t.badge_uuid,
    userID: 0,
    usable: !1
  } : (console.error("Received invalid notification payload: " + e), {
    badgeUUID: "",
    userID: 0,
    usable: !1
  });
}
function iR(e, t, n, r, i) {
  let a;
  if (typeof e == "object" ? a = Fm(e.timestamp) : a = Fm(new Date(t.timestamp)), typeof e == "object" && e.status === 3 && e.timestamp.getTime() >= n.getTime() - i * 1e3 && e.message.usable === !0 && !cu(t.message).usable)
    return e;
  const s = new Date(t.timestamp);
  if (t.message_type === 3 && s.getTime() >= n.getTime() - i * 1e3) {
    const o = cu(t.message);
    if (o.badgeUUID === "")
      return null;
    if (o.usable)
      return {
        status: t.message_type,
        timestamp: new Date(t.timestamp),
        message: o
      };
    if (s.getTime() >= n.getTime() - r * 1e3)
      return {
        status: t.message_type,
        timestamp: new Date(t.timestamp),
        message: o
      };
  }
  if (t.message_type === 2 && s.getTime() >= n.getTime() - r * 1e3) {
    const o = cu(t.message);
    return o.badgeUUID === "" ? null : {
      status: t.message_type,
      timestamp: new Date(t.timestamp),
      message: o
    };
  }
  return t.message_type === 4 ? null : a;
}
async function aR(e) {
  const t = `https://${e}/api/onelab/list/equipment/status`, n = await fetch(t);
  if (!n.ok)
    throw new Error(`Failed to fetch status options: ${n.statusText}`);
  return (await n.json())._embedded.items;
}
async function sR(e, t) {
  const n = `https://${e}/api/onelab/list/equipment/module/${t}`;
  return (await (await fetch(n)).json())._embedded.items;
}
const oR = new iI();
function lR(e) {
  return /* @__PURE__ */ l(rI, { client: oR, children: /* @__PURE__ */ l(cR, { ...e }) });
}
function cR({
  userID: e,
  equipmentID: t
}) {
  const [n, r] = B(null), [i, a] = B(null), [s, o] = B(""), [c, u] = B([]), [f, p] = B(!1), { goldsteinData: g } = jl(), h = nn({
    queries: [
      {
        queryKey: ["status", "options"],
        queryFn: () => aR(g.goldsteinFQDN)
      },
      {
        queryKey: ["equipment", "modules", t],
        queryFn: () => sR(g.goldsteinFQDN, t)
      }
    ]
  }), y = h.some((b) => b.isLoading), _ = h.every((b) => b.isSuccess), [S, w] = h;
  return re(() => {
    S.isSuccess && u(S.data || []);
  }, [S.isSuccess, S.data]), re(() => {
    if (_ && w.data) {
      const b = w.data;
      if (b.length === 0) {
        r(null), a(null), o("");
        return;
      }
      const E = b.find((C) => C.type.is_main_tool) || b[0];
      r(E.id), a(E.latest_module_status?.status.id || null), o(E.latest_module_status?.description || "");
    }
  }, [_, w.data]), re(() => {
    if (n && w.data) {
      const b = w.data.find((E) => E.id === n);
      b && (a(b.latest_module_status?.status.id || null), o(b.latest_module_status?.description || ""));
    }
  }, [n, w.data]), /* @__PURE__ */ v("div", { className: "card mb-4", children: [
    /* @__PURE__ */ l("div", { className: "card-header bg-light-subtle", children: "Update Status" }),
    /* @__PURE__ */ v("form", { onSubmit: async (b) => {
      if (b.preventDefault(), !n) {
        alert("Please select a module");
        return;
      }
      if (i === null) {
        alert("Please select a status");
        return;
      }
      p(!0);
      try {
        const E = await fetch(
          `https://${g.goldsteinFQDN}/api/onelab/update/equipment/status`,
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              user: e,
              module: n,
              // Updated to use selected module
              status: i,
              description: s
            })
          }
        );
        if (E.ok)
          alert("Status updated successfully!");
        else {
          const C = await E.json();
          alert(`Failed to update status: ${C.detail || E.statusText}`);
        }
      } catch (E) {
        alert("Error updating status: " + E);
      } finally {
        p(!1);
      }
    }, className: "needs-validation p-3", noValidate: !0, children: [
      /* @__PURE__ */ v("div", { className: "mb-3", children: [
        /* @__PURE__ */ l("label", { htmlFor: "moduleSelect", className: "form-label", children: "Module" }),
        y ? /* @__PURE__ */ l("div", { children: "Loading modules..." }) : w.data?.length === 0 ? /* @__PURE__ */ l("div", { children: "No modules available" }) : /* @__PURE__ */ l(
          "select",
          {
            className: "form-select",
            id: "moduleSelect",
            value: n || "",
            onChange: (b) => r(Number(b.target.value)),
            required: !0,
            disabled: f,
            children: w.data?.map((b) => /* @__PURE__ */ v("option", { value: b.id, children: [
              b.name,
              " (",
              b.type.type,
              ")"
            ] }, b.id))
          }
        )
      ] }),
      /* @__PURE__ */ v("div", { className: "mb-3", children: [
        /* @__PURE__ */ l("label", { htmlFor: "statusSelect", className: "form-label", children: "Status" }),
        y ? /* @__PURE__ */ l("div", { children: "Loading status options..." }) : /* @__PURE__ */ l(
          "select",
          {
            className: "form-select",
            id: "statusSelect",
            value: i ?? "",
            onChange: (b) => a(Number(b.target.value)),
            required: !0,
            disabled: f || !n,
            children: c.map((b) => /* @__PURE__ */ l(
              "option",
              {
                value: b.id,
                style: {
                  color: b.front_color,
                  backgroundColor: b.back_color
                },
                children: b.status
              },
              b.id
            ))
          }
        )
      ] }),
      /* @__PURE__ */ v("div", { className: "mb-3", children: [
        /* @__PURE__ */ l("label", { htmlFor: "description", className: "form-label", children: "Description (optional)" }),
        /* @__PURE__ */ l(
          "textarea",
          {
            id: "description",
            className: "form-control",
            value: s,
            onChange: (b) => o(b.target.value),
            rows: 3,
            placeholder: "Add a description about the status update",
            disabled: f || !n
          }
        )
      ] }),
      /* @__PURE__ */ l(
        "button",
        {
          type: "submit",
          className: "btn btn-primary",
          disabled: f || y || !n,
          children: f ? "Updating..." : "Update Status"
        }
      )
    ] })
  ] });
}
function uR(e) {
  const [t, n] = e.split(":");
  if (!t || !n)
    throw new Error(`Invalid association format: "${e}"`);
  const r = parseInt(n, 10);
  if (isNaN(r))
    throw new Error(`Invalid ID part in association: "${n}"`);
  return [t, r];
}
function dR({
  userName: e,
  userID: t,
  badgeUUID: n,
  clientAssociation: r,
  timeLeft: i
}) {
  const [a, s] = uR(r);
  return /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ v("div", { className: "alert alert-success mb-4", role: "alert", children: [
      /* @__PURE__ */ l("h1", { className: "h4 alert-heading", children: "You can use the equipment" }),
      /* @__PURE__ */ l("hr", {}),
      /* @__PURE__ */ v("p", { className: "mb-0", id: "session-left-time", children: [
        "Session time remaining: ",
        i
      ] })
    ] }),
    /* @__PURE__ */ v("div", { className: "card mb-4", children: [
      /* @__PURE__ */ l("div", { className: "card-header bg-light-sublte", children: "User Information" }),
      /* @__PURE__ */ v("ul", { className: "list-group list-group-flush", children: [
        /* @__PURE__ */ v("li", { className: "list-group-item d-flex justify-content-between align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "User:" }),
          /* @__PURE__ */ l("span", { className: "badge bg-primary", children: e })
        ] }),
        /* @__PURE__ */ v("li", { className: "list-group-item d-flex justify-content-between align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "Badge UUID:" }),
          /* @__PURE__ */ l("code", { children: n })
        ] }),
        /* @__PURE__ */ v("li", { className: "list-group-item d-flex justify-content-between align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "Client Association:" }),
          /* @__PURE__ */ l("span", { className: "badge bg-info text-dark", children: r })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ l(lR, { userID: t, equipmentID: a === "equipment" ? Number(s) : -1 })
  ] });
}
async function fR(e, t) {
  const n = e + "/api/register-badge", r = await fetch(n, {
    method: "POST",
    body: JSON.stringify({
      badge_uid: t
    }),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  });
  if (!r.ok)
    throw new Error(`Response status: ${r.status} with body: ${await r.text()}`);
  return await r.text();
}
function pR({ badgeUID: e }) {
  const [t, n] = B(
    void 0
  ), { goldsteinData: r } = jl(), i = async () => {
    const a = await fR(
      "https://" + r.goldsteinFQDN,
      e
    );
    n(JSON.parse(a).onboarding_word);
  };
  return re(() => {
    n(void 0);
  }, [e]), /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ l("div", { className: "alert alert-warning mb-4", role: "alert", children: /* @__PURE__ */ l("h1", { className: "h4 alert-heading", children: "No user is registered in the card" }) }),
    /* @__PURE__ */ v("div", { className: "card mb-3", children: [
      /* @__PURE__ */ l("div", { className: "card-header bg-light-subtle", children: "Card Information" }),
      /* @__PURE__ */ v("div", { className: "card-body", children: [
        /* @__PURE__ */ v("p", { className: "card-text", children: [
          /* @__PURE__ */ l("strong", { children: "Badge UUID:" }),
          " ",
          /* @__PURE__ */ l("code", { children: e })
        ] }),
        t && /* @__PURE__ */ v("p", { className: "card-text", children: [
          /* @__PURE__ */ l("strong", { children: "Your secret word:" }),
          " ",
          /* @__PURE__ */ l("code", { children: t })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ l(
      "button",
      {
        type: "button",
        className: "btn btn-primary",
        onClick: i,
        children: "Register badge"
      }
    )
  ] });
}
function hR() {
  return /* @__PURE__ */ v("div", { className: "text-center mt-5", children: [
    /* @__PURE__ */ v("div", { className: "alert alert-secondary border rounded-3 shadow-sm p-4 mx-auto", style: { maxWidth: "600px" }, role: "alert", children: [
      /* @__PURE__ */ l("h2", { className: "h5 text-muted mb-3", children: "No Notifications Found" }),
      /* @__PURE__ */ l("p", { className: "text-secondary mb-0", children: "There are currently no Goldstein clients available for this association, or the service might be temporarily down." })
    ] }),
    /* @__PURE__ */ l("div", { className: "d-grid gap-2 col-6 mx-auto mt-3", children: /* @__PURE__ */ l(
      "button",
      {
        className: "btn btn-outline-primary btn-sm",
        type: "button",
        onClick: () => window.location.reload(),
        children: "Refresh Page"
      }
    ) })
  ] });
}
function mR() {
  return /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ v("div", { className: "alert alert-danger mb-4", role: "alert", children: [
      /* @__PURE__ */ l("h1", { className: "h4 alert-heading", children: "Server Error" }),
      /* @__PURE__ */ l("hr", {}),
      /* @__PURE__ */ l("p", { className: "mb-0", children: "Unable to connect to the server. Please check your connection and try again." })
    ] }),
    /* @__PURE__ */ l("div", { className: "d-grid gap-2 col-6 mx-auto", children: /* @__PURE__ */ l("button", { className: "btn btn-outline-secondary", type: "button", onClick: () => window.location.reload(), children: "Refresh Page" }) })
  ] });
}
function gR({ userName: e, badgeUUID: t }) {
  return /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ v("div", { className: "alert alert-danger mb-4", role: "alert", children: [
      /* @__PURE__ */ l("h1", { className: "h4 alert-heading", children: "This user cannot use the equipment" }),
      /* @__PURE__ */ l("hr", {}),
      /* @__PURE__ */ l("p", { className: "mb-0", children: "Access denied due to insufficient permissions" })
    ] }),
    /* @__PURE__ */ v("div", { className: "card mb-3", children: [
      /* @__PURE__ */ l("div", { className: "card-header bg-light-sublte", children: "User Information" }),
      /* @__PURE__ */ v("ul", { className: "list-group list-group-flush", children: [
        /* @__PURE__ */ v("li", { className: "list-group-item d-flex justify-content-between align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "User:" }),
          /* @__PURE__ */ l("span", { className: "badge bg-secondary", children: e })
        ] }),
        /* @__PURE__ */ v("li", { className: "list-group-item d-flex justify-content-between align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "Badge UUID:" }),
          /* @__PURE__ */ l("code", { children: t })
        ] })
      ] })
    ] })
  ] });
}
function vR() {
  return /* @__PURE__ */ v("div", { className: "text-center", children: [
    /* @__PURE__ */ l("h1", { className: "display-4 mb-3", children: "Waiting for card detection" }),
    /* @__PURE__ */ l("div", { className: "spinner-border text-primary", role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading..." }) })
  ] });
}
const yR = "mock-token", bR = 10, Pm = 30;
let Lm = document.getElementById("root")?.dataset.goldsteinEndpoint ?? "";
function xR(e, t) {
  const n = "https://" + t + `/api/onelab/view/user/${e}`;
  return new Promise((r, i) => {
    (async () => {
      try {
        const a = await fetch(n);
        if (!a.ok)
          throw new Error(`Response status: ${a.status} with body: ${await a.text()}`);
        const s = await a.json();
        r(s.full_name);
      } catch (a) {
        i(a);
      }
    })();
  });
}
function wR() {
  const { goldsteinData: e } = jl(), t = Oe(null), [n, r] = B({
    status: 1,
    association: "",
    badgeUUID: "",
    userName: "",
    userID: 0
  }), [i, a] = B(0), s = Oe(null), o = () => {
    r({
      status: 0,
      association: "",
      badgeUUID: "",
      userName: "",
      userID: 0
    });
  };
  function c() {
    s.current && clearInterval(s.current);
  }
  function u(h) {
    c(), a(h), s.current = setInterval(() => {
      a((y) => {
        if (y <= 0) {
          const _ = {
            package_type: Ii.GET_DATA,
            payload: ""
          };
          return _i(t.current, _), clearInterval(s.current), 0;
        }
        return y - 1;
      });
    }, 1e3);
  }
  async function f(h) {
    const y = s0(h.notifications_list, /* @__PURE__ */ new Date(), bR, Pm);
    if (y.size == 0)
      return r({
        status: 1,
        association: "",
        badgeUUID: "",
        userName: "",
        userID: 0
      });
    const _ = `${e.associationType}:${e.associationID}`, S = y.get(_);
    if (!S) {
      o();
      return;
    }
    const w = {
      status: 2,
      association: _,
      badgeUUID: S.message.badgeUUID,
      userName: "",
      userID: S.message.userID
    };
    if (S.status === Ei.CARD_READED)
      return w.status = 3, r(w);
    if (S.status === Ei.USER_AUTHENTICATED) {
      const I = await xR(S.message.userID, e.goldsteinFQDN);
      if (w.userName = I, S.message.usable) {
        w.status = 5;
        const b = ((/* @__PURE__ */ new Date()).getTime() - new Date(S.timestamp).getTime()) / 1e3;
        return u(Math.round(Pm - b)), r(w);
      } else
        return w.status = 4, r(w);
    }
    if (S.status === Ei.CLIENT_CONNECTED)
      return w.status = 2, r(w);
    o();
  }
  async function p() {
    const h = `SELECT * FROM notifications 
                                WHERE association_item = "${e.associationType}" 
                                AND association_id = ${e.associationID}`, y = {
      listening_association: `${e.associationType}:${e.associationID}`,
      sql_statement: h
    };
    let _ = {
      package_type: Ii.UPDATE_LISTENING_DATA,
      payload: JSON.stringify(y)
    };
    _i(t.current, _), _ = {
      package_type: Ii.GET_DATA,
      payload: ""
    }, _i(t.current, _);
  }
  const g = () => {
    a0("wss://" + e.goldsteinFQDN + "/ws", yR).then((h) => {
      t.current !== null && t.current.close(), h.onmessage = (y) => {
        i0(y, f);
      }, h.onclose = () => {
        setTimeout(() => {
          (!t.current || t.current.readyState === WebSocket.CLOSED) && g();
        }, 1e3);
      }, h.onerror = () => o(), t.current = h, p();
    }).catch(() => o());
  };
  return re(() => (e.goldsteinFQDN !== "" && g(), () => {
    t.current && t.current.close();
  }), [e.goldsteinFQDN]), /* @__PURE__ */ l("div", { className: "container mt-4", children: /* @__PURE__ */ l("div", { className: "row justify-content-center", children: /* @__PURE__ */ l("div", { className: "col-md-10 col-lg-8", children: /* @__PURE__ */ l("div", { className: "card shadow", children: /* @__PURE__ */ v("div", { className: "card-body", children: [
    n.status === 0 && /* @__PURE__ */ l(mR, {}),
    n.status === 1 && /* @__PURE__ */ l(hR, {}),
    n.status === 2 && /* @__PURE__ */ l(vR, {}),
    n.status === 3 && /* @__PURE__ */ l(pR, { badgeUID: n.badgeUUID }),
    n.status === 4 && /* @__PURE__ */ l(gR, { badgeUUID: n.badgeUUID, userName: n.userName }),
    n.status === 5 && /* @__PURE__ */ l(
      dR,
      {
        badgeUUID: n.badgeUUID,
        userName: n.userName,
        userID: n.userID,
        clientAssociation: n.association,
        timeLeft: i
      }
    )
  ] }) }) }) }) });
}
function CR() {
  const { id: e } = mt(), { setGoldsteinData: t } = jl();
  return re(() => {
    Lm = document.getElementById("root")?.dataset.goldsteinEndpoint ?? "";
  }, []), re(() => {
    const n = Lm || document.getElementById("root")?.dataset.goldsteinEndpoint || "";
    t({
      goldsteinFQDN: n,
      associationType: "equipment",
      associationID: Number(e)
    });
  }, [e, t]), /* @__PURE__ */ l(wR, {});
}
function qY() {
  return /* @__PURE__ */ l(
    eR,
    {
      defaultData: {
        goldsteinFQDN: "",
        associationType: "",
        associationID: 0
      },
      children: /* @__PURE__ */ l(CR, {})
    }
  );
}
const Ef = vr({
  statusMail: {}
});
function Li(e, t, n, r) {
  function i(a) {
    return a instanceof n ? a : new n(function(s) {
      s(a);
    });
  }
  return new (n || (n = Promise))(function(a, s) {
    function o(f) {
      try {
        u(r.next(f));
      } catch (p) {
        s(p);
      }
    }
    function c(f) {
      try {
        u(r.throw(f));
      } catch (p) {
        s(p);
      }
    }
    function u(f) {
      f.done ? a(f.value) : i(f.value).then(o, c);
    }
    u((r = r.apply(e, t || [])).next());
  });
}
const SR = /* @__PURE__ */ new Map([
  // https://github.com/guzzle/psr7/blob/2d9260799e713f1c475d3c5fdc3d6561ff7441b2/src/MimeType.php
  ["1km", "application/vnd.1000minds.decision-model+xml"],
  ["3dml", "text/vnd.in3d.3dml"],
  ["3ds", "image/x-3ds"],
  ["3g2", "video/3gpp2"],
  ["3gp", "video/3gp"],
  ["3gpp", "video/3gpp"],
  ["3mf", "model/3mf"],
  ["7z", "application/x-7z-compressed"],
  ["7zip", "application/x-7z-compressed"],
  ["123", "application/vnd.lotus-1-2-3"],
  ["aab", "application/x-authorware-bin"],
  ["aac", "audio/x-acc"],
  ["aam", "application/x-authorware-map"],
  ["aas", "application/x-authorware-seg"],
  ["abw", "application/x-abiword"],
  ["ac", "application/vnd.nokia.n-gage.ac+xml"],
  ["ac3", "audio/ac3"],
  ["acc", "application/vnd.americandynamics.acc"],
  ["ace", "application/x-ace-compressed"],
  ["acu", "application/vnd.acucobol"],
  ["acutc", "application/vnd.acucorp"],
  ["adp", "audio/adpcm"],
  ["aep", "application/vnd.audiograph"],
  ["afm", "application/x-font-type1"],
  ["afp", "application/vnd.ibm.modcap"],
  ["ahead", "application/vnd.ahead.space"],
  ["ai", "application/pdf"],
  ["aif", "audio/x-aiff"],
  ["aifc", "audio/x-aiff"],
  ["aiff", "audio/x-aiff"],
  ["air", "application/vnd.adobe.air-application-installer-package+zip"],
  ["ait", "application/vnd.dvb.ait"],
  ["ami", "application/vnd.amiga.ami"],
  ["amr", "audio/amr"],
  ["apk", "application/vnd.android.package-archive"],
  ["apng", "image/apng"],
  ["appcache", "text/cache-manifest"],
  ["application", "application/x-ms-application"],
  ["apr", "application/vnd.lotus-approach"],
  ["arc", "application/x-freearc"],
  ["arj", "application/x-arj"],
  ["asc", "application/pgp-signature"],
  ["asf", "video/x-ms-asf"],
  ["asm", "text/x-asm"],
  ["aso", "application/vnd.accpac.simply.aso"],
  ["asx", "video/x-ms-asf"],
  ["atc", "application/vnd.acucorp"],
  ["atom", "application/atom+xml"],
  ["atomcat", "application/atomcat+xml"],
  ["atomdeleted", "application/atomdeleted+xml"],
  ["atomsvc", "application/atomsvc+xml"],
  ["atx", "application/vnd.antix.game-component"],
  ["au", "audio/x-au"],
  ["avi", "video/x-msvideo"],
  ["avif", "image/avif"],
  ["aw", "application/applixware"],
  ["azf", "application/vnd.airzip.filesecure.azf"],
  ["azs", "application/vnd.airzip.filesecure.azs"],
  ["azv", "image/vnd.airzip.accelerator.azv"],
  ["azw", "application/vnd.amazon.ebook"],
  ["b16", "image/vnd.pco.b16"],
  ["bat", "application/x-msdownload"],
  ["bcpio", "application/x-bcpio"],
  ["bdf", "application/x-font-bdf"],
  ["bdm", "application/vnd.syncml.dm+wbxml"],
  ["bdoc", "application/x-bdoc"],
  ["bed", "application/vnd.realvnc.bed"],
  ["bh2", "application/vnd.fujitsu.oasysprs"],
  ["bin", "application/octet-stream"],
  ["blb", "application/x-blorb"],
  ["blorb", "application/x-blorb"],
  ["bmi", "application/vnd.bmi"],
  ["bmml", "application/vnd.balsamiq.bmml+xml"],
  ["bmp", "image/bmp"],
  ["book", "application/vnd.framemaker"],
  ["box", "application/vnd.previewsystems.box"],
  ["boz", "application/x-bzip2"],
  ["bpk", "application/octet-stream"],
  ["bpmn", "application/octet-stream"],
  ["bsp", "model/vnd.valve.source.compiled-map"],
  ["btif", "image/prs.btif"],
  ["buffer", "application/octet-stream"],
  ["bz", "application/x-bzip"],
  ["bz2", "application/x-bzip2"],
  ["c", "text/x-c"],
  ["c4d", "application/vnd.clonk.c4group"],
  ["c4f", "application/vnd.clonk.c4group"],
  ["c4g", "application/vnd.clonk.c4group"],
  ["c4p", "application/vnd.clonk.c4group"],
  ["c4u", "application/vnd.clonk.c4group"],
  ["c11amc", "application/vnd.cluetrust.cartomobile-config"],
  ["c11amz", "application/vnd.cluetrust.cartomobile-config-pkg"],
  ["cab", "application/vnd.ms-cab-compressed"],
  ["caf", "audio/x-caf"],
  ["cap", "application/vnd.tcpdump.pcap"],
  ["car", "application/vnd.curl.car"],
  ["cat", "application/vnd.ms-pki.seccat"],
  ["cb7", "application/x-cbr"],
  ["cba", "application/x-cbr"],
  ["cbr", "application/x-cbr"],
  ["cbt", "application/x-cbr"],
  ["cbz", "application/x-cbr"],
  ["cc", "text/x-c"],
  ["cco", "application/x-cocoa"],
  ["cct", "application/x-director"],
  ["ccxml", "application/ccxml+xml"],
  ["cdbcmsg", "application/vnd.contact.cmsg"],
  ["cda", "application/x-cdf"],
  ["cdf", "application/x-netcdf"],
  ["cdfx", "application/cdfx+xml"],
  ["cdkey", "application/vnd.mediastation.cdkey"],
  ["cdmia", "application/cdmi-capability"],
  ["cdmic", "application/cdmi-container"],
  ["cdmid", "application/cdmi-domain"],
  ["cdmio", "application/cdmi-object"],
  ["cdmiq", "application/cdmi-queue"],
  ["cdr", "application/cdr"],
  ["cdx", "chemical/x-cdx"],
  ["cdxml", "application/vnd.chemdraw+xml"],
  ["cdy", "application/vnd.cinderella"],
  ["cer", "application/pkix-cert"],
  ["cfs", "application/x-cfs-compressed"],
  ["cgm", "image/cgm"],
  ["chat", "application/x-chat"],
  ["chm", "application/vnd.ms-htmlhelp"],
  ["chrt", "application/vnd.kde.kchart"],
  ["cif", "chemical/x-cif"],
  ["cii", "application/vnd.anser-web-certificate-issue-initiation"],
  ["cil", "application/vnd.ms-artgalry"],
  ["cjs", "application/node"],
  ["cla", "application/vnd.claymore"],
  ["class", "application/octet-stream"],
  ["clkk", "application/vnd.crick.clicker.keyboard"],
  ["clkp", "application/vnd.crick.clicker.palette"],
  ["clkt", "application/vnd.crick.clicker.template"],
  ["clkw", "application/vnd.crick.clicker.wordbank"],
  ["clkx", "application/vnd.crick.clicker"],
  ["clp", "application/x-msclip"],
  ["cmc", "application/vnd.cosmocaller"],
  ["cmdf", "chemical/x-cmdf"],
  ["cml", "chemical/x-cml"],
  ["cmp", "application/vnd.yellowriver-custom-menu"],
  ["cmx", "image/x-cmx"],
  ["cod", "application/vnd.rim.cod"],
  ["coffee", "text/coffeescript"],
  ["com", "application/x-msdownload"],
  ["conf", "text/plain"],
  ["cpio", "application/x-cpio"],
  ["cpp", "text/x-c"],
  ["cpt", "application/mac-compactpro"],
  ["crd", "application/x-mscardfile"],
  ["crl", "application/pkix-crl"],
  ["crt", "application/x-x509-ca-cert"],
  ["crx", "application/x-chrome-extension"],
  ["cryptonote", "application/vnd.rig.cryptonote"],
  ["csh", "application/x-csh"],
  ["csl", "application/vnd.citationstyles.style+xml"],
  ["csml", "chemical/x-csml"],
  ["csp", "application/vnd.commonspace"],
  ["csr", "application/octet-stream"],
  ["css", "text/css"],
  ["cst", "application/x-director"],
  ["csv", "text/csv"],
  ["cu", "application/cu-seeme"],
  ["curl", "text/vnd.curl"],
  ["cww", "application/prs.cww"],
  ["cxt", "application/x-director"],
  ["cxx", "text/x-c"],
  ["dae", "model/vnd.collada+xml"],
  ["daf", "application/vnd.mobius.daf"],
  ["dart", "application/vnd.dart"],
  ["dataless", "application/vnd.fdsn.seed"],
  ["davmount", "application/davmount+xml"],
  ["dbf", "application/vnd.dbf"],
  ["dbk", "application/docbook+xml"],
  ["dcr", "application/x-director"],
  ["dcurl", "text/vnd.curl.dcurl"],
  ["dd2", "application/vnd.oma.dd2+xml"],
  ["ddd", "application/vnd.fujixerox.ddd"],
  ["ddf", "application/vnd.syncml.dmddf+xml"],
  ["dds", "image/vnd.ms-dds"],
  ["deb", "application/x-debian-package"],
  ["def", "text/plain"],
  ["deploy", "application/octet-stream"],
  ["der", "application/x-x509-ca-cert"],
  ["dfac", "application/vnd.dreamfactory"],
  ["dgc", "application/x-dgc-compressed"],
  ["dic", "text/x-c"],
  ["dir", "application/x-director"],
  ["dis", "application/vnd.mobius.dis"],
  ["disposition-notification", "message/disposition-notification"],
  ["dist", "application/octet-stream"],
  ["distz", "application/octet-stream"],
  ["djv", "image/vnd.djvu"],
  ["djvu", "image/vnd.djvu"],
  ["dll", "application/octet-stream"],
  ["dmg", "application/x-apple-diskimage"],
  ["dmn", "application/octet-stream"],
  ["dmp", "application/vnd.tcpdump.pcap"],
  ["dms", "application/octet-stream"],
  ["dna", "application/vnd.dna"],
  ["doc", "application/msword"],
  ["docm", "application/vnd.ms-word.template.macroEnabled.12"],
  ["docx", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"],
  ["dot", "application/msword"],
  ["dotm", "application/vnd.ms-word.template.macroEnabled.12"],
  ["dotx", "application/vnd.openxmlformats-officedocument.wordprocessingml.template"],
  ["dp", "application/vnd.osgi.dp"],
  ["dpg", "application/vnd.dpgraph"],
  ["dra", "audio/vnd.dra"],
  ["drle", "image/dicom-rle"],
  ["dsc", "text/prs.lines.tag"],
  ["dssc", "application/dssc+der"],
  ["dtb", "application/x-dtbook+xml"],
  ["dtd", "application/xml-dtd"],
  ["dts", "audio/vnd.dts"],
  ["dtshd", "audio/vnd.dts.hd"],
  ["dump", "application/octet-stream"],
  ["dvb", "video/vnd.dvb.file"],
  ["dvi", "application/x-dvi"],
  ["dwd", "application/atsc-dwd+xml"],
  ["dwf", "model/vnd.dwf"],
  ["dwg", "image/vnd.dwg"],
  ["dxf", "image/vnd.dxf"],
  ["dxp", "application/vnd.spotfire.dxp"],
  ["dxr", "application/x-director"],
  ["ear", "application/java-archive"],
  ["ecelp4800", "audio/vnd.nuera.ecelp4800"],
  ["ecelp7470", "audio/vnd.nuera.ecelp7470"],
  ["ecelp9600", "audio/vnd.nuera.ecelp9600"],
  ["ecma", "application/ecmascript"],
  ["edm", "application/vnd.novadigm.edm"],
  ["edx", "application/vnd.novadigm.edx"],
  ["efif", "application/vnd.picsel"],
  ["ei6", "application/vnd.pg.osasli"],
  ["elc", "application/octet-stream"],
  ["emf", "image/emf"],
  ["eml", "message/rfc822"],
  ["emma", "application/emma+xml"],
  ["emotionml", "application/emotionml+xml"],
  ["emz", "application/x-msmetafile"],
  ["eol", "audio/vnd.digital-winds"],
  ["eot", "application/vnd.ms-fontobject"],
  ["eps", "application/postscript"],
  ["epub", "application/epub+zip"],
  ["es", "application/ecmascript"],
  ["es3", "application/vnd.eszigno3+xml"],
  ["esa", "application/vnd.osgi.subsystem"],
  ["esf", "application/vnd.epson.esf"],
  ["et3", "application/vnd.eszigno3+xml"],
  ["etx", "text/x-setext"],
  ["eva", "application/x-eva"],
  ["evy", "application/x-envoy"],
  ["exe", "application/octet-stream"],
  ["exi", "application/exi"],
  ["exp", "application/express"],
  ["exr", "image/aces"],
  ["ext", "application/vnd.novadigm.ext"],
  ["ez", "application/andrew-inset"],
  ["ez2", "application/vnd.ezpix-album"],
  ["ez3", "application/vnd.ezpix-package"],
  ["f", "text/x-fortran"],
  ["f4v", "video/mp4"],
  ["f77", "text/x-fortran"],
  ["f90", "text/x-fortran"],
  ["fbs", "image/vnd.fastbidsheet"],
  ["fcdt", "application/vnd.adobe.formscentral.fcdt"],
  ["fcs", "application/vnd.isac.fcs"],
  ["fdf", "application/vnd.fdf"],
  ["fdt", "application/fdt+xml"],
  ["fe_launch", "application/vnd.denovo.fcselayout-link"],
  ["fg5", "application/vnd.fujitsu.oasysgp"],
  ["fgd", "application/x-director"],
  ["fh", "image/x-freehand"],
  ["fh4", "image/x-freehand"],
  ["fh5", "image/x-freehand"],
  ["fh7", "image/x-freehand"],
  ["fhc", "image/x-freehand"],
  ["fig", "application/x-xfig"],
  ["fits", "image/fits"],
  ["flac", "audio/x-flac"],
  ["fli", "video/x-fli"],
  ["flo", "application/vnd.micrografx.flo"],
  ["flv", "video/x-flv"],
  ["flw", "application/vnd.kde.kivio"],
  ["flx", "text/vnd.fmi.flexstor"],
  ["fly", "text/vnd.fly"],
  ["fm", "application/vnd.framemaker"],
  ["fnc", "application/vnd.frogans.fnc"],
  ["fo", "application/vnd.software602.filler.form+xml"],
  ["for", "text/x-fortran"],
  ["fpx", "image/vnd.fpx"],
  ["frame", "application/vnd.framemaker"],
  ["fsc", "application/vnd.fsc.weblaunch"],
  ["fst", "image/vnd.fst"],
  ["ftc", "application/vnd.fluxtime.clip"],
  ["fti", "application/vnd.anser-web-funds-transfer-initiation"],
  ["fvt", "video/vnd.fvt"],
  ["fxp", "application/vnd.adobe.fxp"],
  ["fxpl", "application/vnd.adobe.fxp"],
  ["fzs", "application/vnd.fuzzysheet"],
  ["g2w", "application/vnd.geoplan"],
  ["g3", "image/g3fax"],
  ["g3w", "application/vnd.geospace"],
  ["gac", "application/vnd.groove-account"],
  ["gam", "application/x-tads"],
  ["gbr", "application/rpki-ghostbusters"],
  ["gca", "application/x-gca-compressed"],
  ["gdl", "model/vnd.gdl"],
  ["gdoc", "application/vnd.google-apps.document"],
  ["geo", "application/vnd.dynageo"],
  ["geojson", "application/geo+json"],
  ["gex", "application/vnd.geometry-explorer"],
  ["ggb", "application/vnd.geogebra.file"],
  ["ggt", "application/vnd.geogebra.tool"],
  ["ghf", "application/vnd.groove-help"],
  ["gif", "image/gif"],
  ["gim", "application/vnd.groove-identity-message"],
  ["glb", "model/gltf-binary"],
  ["gltf", "model/gltf+json"],
  ["gml", "application/gml+xml"],
  ["gmx", "application/vnd.gmx"],
  ["gnumeric", "application/x-gnumeric"],
  ["gpg", "application/gpg-keys"],
  ["gph", "application/vnd.flographit"],
  ["gpx", "application/gpx+xml"],
  ["gqf", "application/vnd.grafeq"],
  ["gqs", "application/vnd.grafeq"],
  ["gram", "application/srgs"],
  ["gramps", "application/x-gramps-xml"],
  ["gre", "application/vnd.geometry-explorer"],
  ["grv", "application/vnd.groove-injector"],
  ["grxml", "application/srgs+xml"],
  ["gsf", "application/x-font-ghostscript"],
  ["gsheet", "application/vnd.google-apps.spreadsheet"],
  ["gslides", "application/vnd.google-apps.presentation"],
  ["gtar", "application/x-gtar"],
  ["gtm", "application/vnd.groove-tool-message"],
  ["gtw", "model/vnd.gtw"],
  ["gv", "text/vnd.graphviz"],
  ["gxf", "application/gxf"],
  ["gxt", "application/vnd.geonext"],
  ["gz", "application/gzip"],
  ["gzip", "application/gzip"],
  ["h", "text/x-c"],
  ["h261", "video/h261"],
  ["h263", "video/h263"],
  ["h264", "video/h264"],
  ["hal", "application/vnd.hal+xml"],
  ["hbci", "application/vnd.hbci"],
  ["hbs", "text/x-handlebars-template"],
  ["hdd", "application/x-virtualbox-hdd"],
  ["hdf", "application/x-hdf"],
  ["heic", "image/heic"],
  ["heics", "image/heic-sequence"],
  ["heif", "image/heif"],
  ["heifs", "image/heif-sequence"],
  ["hej2", "image/hej2k"],
  ["held", "application/atsc-held+xml"],
  ["hh", "text/x-c"],
  ["hjson", "application/hjson"],
  ["hlp", "application/winhlp"],
  ["hpgl", "application/vnd.hp-hpgl"],
  ["hpid", "application/vnd.hp-hpid"],
  ["hps", "application/vnd.hp-hps"],
  ["hqx", "application/mac-binhex40"],
  ["hsj2", "image/hsj2"],
  ["htc", "text/x-component"],
  ["htke", "application/vnd.kenameaapp"],
  ["htm", "text/html"],
  ["html", "text/html"],
  ["hvd", "application/vnd.yamaha.hv-dic"],
  ["hvp", "application/vnd.yamaha.hv-voice"],
  ["hvs", "application/vnd.yamaha.hv-script"],
  ["i2g", "application/vnd.intergeo"],
  ["icc", "application/vnd.iccprofile"],
  ["ice", "x-conference/x-cooltalk"],
  ["icm", "application/vnd.iccprofile"],
  ["ico", "image/x-icon"],
  ["ics", "text/calendar"],
  ["ief", "image/ief"],
  ["ifb", "text/calendar"],
  ["ifm", "application/vnd.shana.informed.formdata"],
  ["iges", "model/iges"],
  ["igl", "application/vnd.igloader"],
  ["igm", "application/vnd.insors.igm"],
  ["igs", "model/iges"],
  ["igx", "application/vnd.micrografx.igx"],
  ["iif", "application/vnd.shana.informed.interchange"],
  ["img", "application/octet-stream"],
  ["imp", "application/vnd.accpac.simply.imp"],
  ["ims", "application/vnd.ms-ims"],
  ["in", "text/plain"],
  ["ini", "text/plain"],
  ["ink", "application/inkml+xml"],
  ["inkml", "application/inkml+xml"],
  ["install", "application/x-install-instructions"],
  ["iota", "application/vnd.astraea-software.iota"],
  ["ipfix", "application/ipfix"],
  ["ipk", "application/vnd.shana.informed.package"],
  ["irm", "application/vnd.ibm.rights-management"],
  ["irp", "application/vnd.irepository.package+xml"],
  ["iso", "application/x-iso9660-image"],
  ["itp", "application/vnd.shana.informed.formtemplate"],
  ["its", "application/its+xml"],
  ["ivp", "application/vnd.immervision-ivp"],
  ["ivu", "application/vnd.immervision-ivu"],
  ["jad", "text/vnd.sun.j2me.app-descriptor"],
  ["jade", "text/jade"],
  ["jam", "application/vnd.jam"],
  ["jar", "application/java-archive"],
  ["jardiff", "application/x-java-archive-diff"],
  ["java", "text/x-java-source"],
  ["jhc", "image/jphc"],
  ["jisp", "application/vnd.jisp"],
  ["jls", "image/jls"],
  ["jlt", "application/vnd.hp-jlyt"],
  ["jng", "image/x-jng"],
  ["jnlp", "application/x-java-jnlp-file"],
  ["joda", "application/vnd.joost.joda-archive"],
  ["jp2", "image/jp2"],
  ["jpe", "image/jpeg"],
  ["jpeg", "image/jpeg"],
  ["jpf", "image/jpx"],
  ["jpg", "image/jpeg"],
  ["jpg2", "image/jp2"],
  ["jpgm", "video/jpm"],
  ["jpgv", "video/jpeg"],
  ["jph", "image/jph"],
  ["jpm", "video/jpm"],
  ["jpx", "image/jpx"],
  ["js", "application/javascript"],
  ["json", "application/json"],
  ["json5", "application/json5"],
  ["jsonld", "application/ld+json"],
  // https://jsonlines.org/
  ["jsonl", "application/jsonl"],
  ["jsonml", "application/jsonml+json"],
  ["jsx", "text/jsx"],
  ["jxr", "image/jxr"],
  ["jxra", "image/jxra"],
  ["jxrs", "image/jxrs"],
  ["jxs", "image/jxs"],
  ["jxsc", "image/jxsc"],
  ["jxsi", "image/jxsi"],
  ["jxss", "image/jxss"],
  ["kar", "audio/midi"],
  ["karbon", "application/vnd.kde.karbon"],
  ["kdb", "application/octet-stream"],
  ["kdbx", "application/x-keepass2"],
  ["key", "application/x-iwork-keynote-sffkey"],
  ["kfo", "application/vnd.kde.kformula"],
  ["kia", "application/vnd.kidspiration"],
  ["kml", "application/vnd.google-earth.kml+xml"],
  ["kmz", "application/vnd.google-earth.kmz"],
  ["kne", "application/vnd.kinar"],
  ["knp", "application/vnd.kinar"],
  ["kon", "application/vnd.kde.kontour"],
  ["kpr", "application/vnd.kde.kpresenter"],
  ["kpt", "application/vnd.kde.kpresenter"],
  ["kpxx", "application/vnd.ds-keypoint"],
  ["ksp", "application/vnd.kde.kspread"],
  ["ktr", "application/vnd.kahootz"],
  ["ktx", "image/ktx"],
  ["ktx2", "image/ktx2"],
  ["ktz", "application/vnd.kahootz"],
  ["kwd", "application/vnd.kde.kword"],
  ["kwt", "application/vnd.kde.kword"],
  ["lasxml", "application/vnd.las.las+xml"],
  ["latex", "application/x-latex"],
  ["lbd", "application/vnd.llamagraphics.life-balance.desktop"],
  ["lbe", "application/vnd.llamagraphics.life-balance.exchange+xml"],
  ["les", "application/vnd.hhe.lesson-player"],
  ["less", "text/less"],
  ["lgr", "application/lgr+xml"],
  ["lha", "application/octet-stream"],
  ["link66", "application/vnd.route66.link66+xml"],
  ["list", "text/plain"],
  ["list3820", "application/vnd.ibm.modcap"],
  ["listafp", "application/vnd.ibm.modcap"],
  ["litcoffee", "text/coffeescript"],
  ["lnk", "application/x-ms-shortcut"],
  ["log", "text/plain"],
  ["lostxml", "application/lost+xml"],
  ["lrf", "application/octet-stream"],
  ["lrm", "application/vnd.ms-lrm"],
  ["ltf", "application/vnd.frogans.ltf"],
  ["lua", "text/x-lua"],
  ["luac", "application/x-lua-bytecode"],
  ["lvp", "audio/vnd.lucent.voice"],
  ["lwp", "application/vnd.lotus-wordpro"],
  ["lzh", "application/octet-stream"],
  ["m1v", "video/mpeg"],
  ["m2a", "audio/mpeg"],
  ["m2v", "video/mpeg"],
  ["m3a", "audio/mpeg"],
  ["m3u", "text/plain"],
  ["m3u8", "application/vnd.apple.mpegurl"],
  ["m4a", "audio/x-m4a"],
  ["m4p", "application/mp4"],
  ["m4s", "video/iso.segment"],
  ["m4u", "application/vnd.mpegurl"],
  ["m4v", "video/x-m4v"],
  ["m13", "application/x-msmediaview"],
  ["m14", "application/x-msmediaview"],
  ["m21", "application/mp21"],
  ["ma", "application/mathematica"],
  ["mads", "application/mads+xml"],
  ["maei", "application/mmt-aei+xml"],
  ["mag", "application/vnd.ecowin.chart"],
  ["maker", "application/vnd.framemaker"],
  ["man", "text/troff"],
  ["manifest", "text/cache-manifest"],
  ["map", "application/json"],
  ["mar", "application/octet-stream"],
  ["markdown", "text/markdown"],
  ["mathml", "application/mathml+xml"],
  ["mb", "application/mathematica"],
  ["mbk", "application/vnd.mobius.mbk"],
  ["mbox", "application/mbox"],
  ["mc1", "application/vnd.medcalcdata"],
  ["mcd", "application/vnd.mcd"],
  ["mcurl", "text/vnd.curl.mcurl"],
  ["md", "text/markdown"],
  ["mdb", "application/x-msaccess"],
  ["mdi", "image/vnd.ms-modi"],
  ["mdx", "text/mdx"],
  ["me", "text/troff"],
  ["mesh", "model/mesh"],
  ["meta4", "application/metalink4+xml"],
  ["metalink", "application/metalink+xml"],
  ["mets", "application/mets+xml"],
  ["mfm", "application/vnd.mfmp"],
  ["mft", "application/rpki-manifest"],
  ["mgp", "application/vnd.osgeo.mapguide.package"],
  ["mgz", "application/vnd.proteus.magazine"],
  ["mid", "audio/midi"],
  ["midi", "audio/midi"],
  ["mie", "application/x-mie"],
  ["mif", "application/vnd.mif"],
  ["mime", "message/rfc822"],
  ["mj2", "video/mj2"],
  ["mjp2", "video/mj2"],
  ["mjs", "application/javascript"],
  ["mk3d", "video/x-matroska"],
  ["mka", "audio/x-matroska"],
  ["mkd", "text/x-markdown"],
  ["mks", "video/x-matroska"],
  ["mkv", "video/x-matroska"],
  ["mlp", "application/vnd.dolby.mlp"],
  ["mmd", "application/vnd.chipnuts.karaoke-mmd"],
  ["mmf", "application/vnd.smaf"],
  ["mml", "text/mathml"],
  ["mmr", "image/vnd.fujixerox.edmics-mmr"],
  ["mng", "video/x-mng"],
  ["mny", "application/x-msmoney"],
  ["mobi", "application/x-mobipocket-ebook"],
  ["mods", "application/mods+xml"],
  ["mov", "video/quicktime"],
  ["movie", "video/x-sgi-movie"],
  ["mp2", "audio/mpeg"],
  ["mp2a", "audio/mpeg"],
  ["mp3", "audio/mpeg"],
  ["mp4", "video/mp4"],
  ["mp4a", "audio/mp4"],
  ["mp4s", "application/mp4"],
  ["mp4v", "video/mp4"],
  ["mp21", "application/mp21"],
  ["mpc", "application/vnd.mophun.certificate"],
  ["mpd", "application/dash+xml"],
  ["mpe", "video/mpeg"],
  ["mpeg", "video/mpeg"],
  ["mpg", "video/mpeg"],
  ["mpg4", "video/mp4"],
  ["mpga", "audio/mpeg"],
  ["mpkg", "application/vnd.apple.installer+xml"],
  ["mpm", "application/vnd.blueice.multipass"],
  ["mpn", "application/vnd.mophun.application"],
  ["mpp", "application/vnd.ms-project"],
  ["mpt", "application/vnd.ms-project"],
  ["mpy", "application/vnd.ibm.minipay"],
  ["mqy", "application/vnd.mobius.mqy"],
  ["mrc", "application/marc"],
  ["mrcx", "application/marcxml+xml"],
  ["ms", "text/troff"],
  ["mscml", "application/mediaservercontrol+xml"],
  ["mseed", "application/vnd.fdsn.mseed"],
  ["mseq", "application/vnd.mseq"],
  ["msf", "application/vnd.epson.msf"],
  ["msg", "application/vnd.ms-outlook"],
  ["msh", "model/mesh"],
  ["msi", "application/x-msdownload"],
  ["msl", "application/vnd.mobius.msl"],
  ["msm", "application/octet-stream"],
  ["msp", "application/octet-stream"],
  ["msty", "application/vnd.muvee.style"],
  ["mtl", "model/mtl"],
  ["mts", "model/vnd.mts"],
  ["mus", "application/vnd.musician"],
  ["musd", "application/mmt-usd+xml"],
  ["musicxml", "application/vnd.recordare.musicxml+xml"],
  ["mvb", "application/x-msmediaview"],
  ["mvt", "application/vnd.mapbox-vector-tile"],
  ["mwf", "application/vnd.mfer"],
  ["mxf", "application/mxf"],
  ["mxl", "application/vnd.recordare.musicxml"],
  ["mxmf", "audio/mobile-xmf"],
  ["mxml", "application/xv+xml"],
  ["mxs", "application/vnd.triscape.mxs"],
  ["mxu", "video/vnd.mpegurl"],
  ["n-gage", "application/vnd.nokia.n-gage.symbian.install"],
  ["n3", "text/n3"],
  ["nb", "application/mathematica"],
  ["nbp", "application/vnd.wolfram.player"],
  ["nc", "application/x-netcdf"],
  ["ncx", "application/x-dtbncx+xml"],
  ["nfo", "text/x-nfo"],
  ["ngdat", "application/vnd.nokia.n-gage.data"],
  ["nitf", "application/vnd.nitf"],
  ["nlu", "application/vnd.neurolanguage.nlu"],
  ["nml", "application/vnd.enliven"],
  ["nnd", "application/vnd.noblenet-directory"],
  ["nns", "application/vnd.noblenet-sealer"],
  ["nnw", "application/vnd.noblenet-web"],
  ["npx", "image/vnd.net-fpx"],
  ["nq", "application/n-quads"],
  ["nsc", "application/x-conference"],
  ["nsf", "application/vnd.lotus-notes"],
  ["nt", "application/n-triples"],
  ["ntf", "application/vnd.nitf"],
  ["numbers", "application/x-iwork-numbers-sffnumbers"],
  ["nzb", "application/x-nzb"],
  ["oa2", "application/vnd.fujitsu.oasys2"],
  ["oa3", "application/vnd.fujitsu.oasys3"],
  ["oas", "application/vnd.fujitsu.oasys"],
  ["obd", "application/x-msbinder"],
  ["obgx", "application/vnd.openblox.game+xml"],
  ["obj", "model/obj"],
  ["oda", "application/oda"],
  ["odb", "application/vnd.oasis.opendocument.database"],
  ["odc", "application/vnd.oasis.opendocument.chart"],
  ["odf", "application/vnd.oasis.opendocument.formula"],
  ["odft", "application/vnd.oasis.opendocument.formula-template"],
  ["odg", "application/vnd.oasis.opendocument.graphics"],
  ["odi", "application/vnd.oasis.opendocument.image"],
  ["odm", "application/vnd.oasis.opendocument.text-master"],
  ["odp", "application/vnd.oasis.opendocument.presentation"],
  ["ods", "application/vnd.oasis.opendocument.spreadsheet"],
  ["odt", "application/vnd.oasis.opendocument.text"],
  ["oga", "audio/ogg"],
  ["ogex", "model/vnd.opengex"],
  ["ogg", "audio/ogg"],
  ["ogv", "video/ogg"],
  ["ogx", "application/ogg"],
  ["omdoc", "application/omdoc+xml"],
  ["onepkg", "application/onenote"],
  ["onetmp", "application/onenote"],
  ["onetoc", "application/onenote"],
  ["onetoc2", "application/onenote"],
  ["opf", "application/oebps-package+xml"],
  ["opml", "text/x-opml"],
  ["oprc", "application/vnd.palm"],
  ["opus", "audio/ogg"],
  ["org", "text/x-org"],
  ["osf", "application/vnd.yamaha.openscoreformat"],
  ["osfpvg", "application/vnd.yamaha.openscoreformat.osfpvg+xml"],
  ["osm", "application/vnd.openstreetmap.data+xml"],
  ["otc", "application/vnd.oasis.opendocument.chart-template"],
  ["otf", "font/otf"],
  ["otg", "application/vnd.oasis.opendocument.graphics-template"],
  ["oth", "application/vnd.oasis.opendocument.text-web"],
  ["oti", "application/vnd.oasis.opendocument.image-template"],
  ["otp", "application/vnd.oasis.opendocument.presentation-template"],
  ["ots", "application/vnd.oasis.opendocument.spreadsheet-template"],
  ["ott", "application/vnd.oasis.opendocument.text-template"],
  ["ova", "application/x-virtualbox-ova"],
  ["ovf", "application/x-virtualbox-ovf"],
  ["owl", "application/rdf+xml"],
  ["oxps", "application/oxps"],
  ["oxt", "application/vnd.openofficeorg.extension"],
  ["p", "text/x-pascal"],
  ["p7a", "application/x-pkcs7-signature"],
  ["p7b", "application/x-pkcs7-certificates"],
  ["p7c", "application/pkcs7-mime"],
  ["p7m", "application/pkcs7-mime"],
  ["p7r", "application/x-pkcs7-certreqresp"],
  ["p7s", "application/pkcs7-signature"],
  ["p8", "application/pkcs8"],
  ["p10", "application/x-pkcs10"],
  ["p12", "application/x-pkcs12"],
  ["pac", "application/x-ns-proxy-autoconfig"],
  ["pages", "application/x-iwork-pages-sffpages"],
  ["pas", "text/x-pascal"],
  ["paw", "application/vnd.pawaafile"],
  ["pbd", "application/vnd.powerbuilder6"],
  ["pbm", "image/x-portable-bitmap"],
  ["pcap", "application/vnd.tcpdump.pcap"],
  ["pcf", "application/x-font-pcf"],
  ["pcl", "application/vnd.hp-pcl"],
  ["pclxl", "application/vnd.hp-pclxl"],
  ["pct", "image/x-pict"],
  ["pcurl", "application/vnd.curl.pcurl"],
  ["pcx", "image/x-pcx"],
  ["pdb", "application/x-pilot"],
  ["pde", "text/x-processing"],
  ["pdf", "application/pdf"],
  ["pem", "application/x-x509-user-cert"],
  ["pfa", "application/x-font-type1"],
  ["pfb", "application/x-font-type1"],
  ["pfm", "application/x-font-type1"],
  ["pfr", "application/font-tdpfr"],
  ["pfx", "application/x-pkcs12"],
  ["pgm", "image/x-portable-graymap"],
  ["pgn", "application/x-chess-pgn"],
  ["pgp", "application/pgp"],
  ["php", "application/x-httpd-php"],
  ["php3", "application/x-httpd-php"],
  ["php4", "application/x-httpd-php"],
  ["phps", "application/x-httpd-php-source"],
  ["phtml", "application/x-httpd-php"],
  ["pic", "image/x-pict"],
  ["pkg", "application/octet-stream"],
  ["pki", "application/pkixcmp"],
  ["pkipath", "application/pkix-pkipath"],
  ["pkpass", "application/vnd.apple.pkpass"],
  ["pl", "application/x-perl"],
  ["plb", "application/vnd.3gpp.pic-bw-large"],
  ["plc", "application/vnd.mobius.plc"],
  ["plf", "application/vnd.pocketlearn"],
  ["pls", "application/pls+xml"],
  ["pm", "application/x-perl"],
  ["pml", "application/vnd.ctc-posml"],
  ["png", "image/png"],
  ["pnm", "image/x-portable-anymap"],
  ["portpkg", "application/vnd.macports.portpkg"],
  ["pot", "application/vnd.ms-powerpoint"],
  ["potm", "application/vnd.ms-powerpoint.presentation.macroEnabled.12"],
  ["potx", "application/vnd.openxmlformats-officedocument.presentationml.template"],
  ["ppa", "application/vnd.ms-powerpoint"],
  ["ppam", "application/vnd.ms-powerpoint.addin.macroEnabled.12"],
  ["ppd", "application/vnd.cups-ppd"],
  ["ppm", "image/x-portable-pixmap"],
  ["pps", "application/vnd.ms-powerpoint"],
  ["ppsm", "application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],
  ["ppsx", "application/vnd.openxmlformats-officedocument.presentationml.slideshow"],
  ["ppt", "application/powerpoint"],
  ["pptm", "application/vnd.ms-powerpoint.presentation.macroEnabled.12"],
  ["pptx", "application/vnd.openxmlformats-officedocument.presentationml.presentation"],
  ["pqa", "application/vnd.palm"],
  ["prc", "application/x-pilot"],
  ["pre", "application/vnd.lotus-freelance"],
  ["prf", "application/pics-rules"],
  ["provx", "application/provenance+xml"],
  ["ps", "application/postscript"],
  ["psb", "application/vnd.3gpp.pic-bw-small"],
  ["psd", "application/x-photoshop"],
  ["psf", "application/x-font-linux-psf"],
  ["pskcxml", "application/pskc+xml"],
  ["pti", "image/prs.pti"],
  ["ptid", "application/vnd.pvi.ptid1"],
  ["pub", "application/x-mspublisher"],
  ["pvb", "application/vnd.3gpp.pic-bw-var"],
  ["pwn", "application/vnd.3m.post-it-notes"],
  ["pya", "audio/vnd.ms-playready.media.pya"],
  ["pyv", "video/vnd.ms-playready.media.pyv"],
  ["qam", "application/vnd.epson.quickanime"],
  ["qbo", "application/vnd.intu.qbo"],
  ["qfx", "application/vnd.intu.qfx"],
  ["qps", "application/vnd.publishare-delta-tree"],
  ["qt", "video/quicktime"],
  ["qwd", "application/vnd.quark.quarkxpress"],
  ["qwt", "application/vnd.quark.quarkxpress"],
  ["qxb", "application/vnd.quark.quarkxpress"],
  ["qxd", "application/vnd.quark.quarkxpress"],
  ["qxl", "application/vnd.quark.quarkxpress"],
  ["qxt", "application/vnd.quark.quarkxpress"],
  ["ra", "audio/x-realaudio"],
  ["ram", "audio/x-pn-realaudio"],
  ["raml", "application/raml+yaml"],
  ["rapd", "application/route-apd+xml"],
  ["rar", "application/x-rar"],
  ["ras", "image/x-cmu-raster"],
  ["rcprofile", "application/vnd.ipunplugged.rcprofile"],
  ["rdf", "application/rdf+xml"],
  ["rdz", "application/vnd.data-vision.rdz"],
  ["relo", "application/p2p-overlay+xml"],
  ["rep", "application/vnd.businessobjects"],
  ["res", "application/x-dtbresource+xml"],
  ["rgb", "image/x-rgb"],
  ["rif", "application/reginfo+xml"],
  ["rip", "audio/vnd.rip"],
  ["ris", "application/x-research-info-systems"],
  ["rl", "application/resource-lists+xml"],
  ["rlc", "image/vnd.fujixerox.edmics-rlc"],
  ["rld", "application/resource-lists-diff+xml"],
  ["rm", "audio/x-pn-realaudio"],
  ["rmi", "audio/midi"],
  ["rmp", "audio/x-pn-realaudio-plugin"],
  ["rms", "application/vnd.jcp.javame.midlet-rms"],
  ["rmvb", "application/vnd.rn-realmedia-vbr"],
  ["rnc", "application/relax-ng-compact-syntax"],
  ["rng", "application/xml"],
  ["roa", "application/rpki-roa"],
  ["roff", "text/troff"],
  ["rp9", "application/vnd.cloanto.rp9"],
  ["rpm", "audio/x-pn-realaudio-plugin"],
  ["rpss", "application/vnd.nokia.radio-presets"],
  ["rpst", "application/vnd.nokia.radio-preset"],
  ["rq", "application/sparql-query"],
  ["rs", "application/rls-services+xml"],
  ["rsa", "application/x-pkcs7"],
  ["rsat", "application/atsc-rsat+xml"],
  ["rsd", "application/rsd+xml"],
  ["rsheet", "application/urc-ressheet+xml"],
  ["rss", "application/rss+xml"],
  ["rtf", "text/rtf"],
  ["rtx", "text/richtext"],
  ["run", "application/x-makeself"],
  ["rusd", "application/route-usd+xml"],
  ["rv", "video/vnd.rn-realvideo"],
  ["s", "text/x-asm"],
  ["s3m", "audio/s3m"],
  ["saf", "application/vnd.yamaha.smaf-audio"],
  ["sass", "text/x-sass"],
  ["sbml", "application/sbml+xml"],
  ["sc", "application/vnd.ibm.secure-container"],
  ["scd", "application/x-msschedule"],
  ["scm", "application/vnd.lotus-screencam"],
  ["scq", "application/scvp-cv-request"],
  ["scs", "application/scvp-cv-response"],
  ["scss", "text/x-scss"],
  ["scurl", "text/vnd.curl.scurl"],
  ["sda", "application/vnd.stardivision.draw"],
  ["sdc", "application/vnd.stardivision.calc"],
  ["sdd", "application/vnd.stardivision.impress"],
  ["sdkd", "application/vnd.solent.sdkm+xml"],
  ["sdkm", "application/vnd.solent.sdkm+xml"],
  ["sdp", "application/sdp"],
  ["sdw", "application/vnd.stardivision.writer"],
  ["sea", "application/octet-stream"],
  ["see", "application/vnd.seemail"],
  ["seed", "application/vnd.fdsn.seed"],
  ["sema", "application/vnd.sema"],
  ["semd", "application/vnd.semd"],
  ["semf", "application/vnd.semf"],
  ["senmlx", "application/senml+xml"],
  ["sensmlx", "application/sensml+xml"],
  ["ser", "application/java-serialized-object"],
  ["setpay", "application/set-payment-initiation"],
  ["setreg", "application/set-registration-initiation"],
  ["sfd-hdstx", "application/vnd.hydrostatix.sof-data"],
  ["sfs", "application/vnd.spotfire.sfs"],
  ["sfv", "text/x-sfv"],
  ["sgi", "image/sgi"],
  ["sgl", "application/vnd.stardivision.writer-global"],
  ["sgm", "text/sgml"],
  ["sgml", "text/sgml"],
  ["sh", "application/x-sh"],
  ["shar", "application/x-shar"],
  ["shex", "text/shex"],
  ["shf", "application/shf+xml"],
  ["shtml", "text/html"],
  ["sid", "image/x-mrsid-image"],
  ["sieve", "application/sieve"],
  ["sig", "application/pgp-signature"],
  ["sil", "audio/silk"],
  ["silo", "model/mesh"],
  ["sis", "application/vnd.symbian.install"],
  ["sisx", "application/vnd.symbian.install"],
  ["sit", "application/x-stuffit"],
  ["sitx", "application/x-stuffitx"],
  ["siv", "application/sieve"],
  ["skd", "application/vnd.koan"],
  ["skm", "application/vnd.koan"],
  ["skp", "application/vnd.koan"],
  ["skt", "application/vnd.koan"],
  ["sldm", "application/vnd.ms-powerpoint.slide.macroenabled.12"],
  ["sldx", "application/vnd.openxmlformats-officedocument.presentationml.slide"],
  ["slim", "text/slim"],
  ["slm", "text/slim"],
  ["sls", "application/route-s-tsid+xml"],
  ["slt", "application/vnd.epson.salt"],
  ["sm", "application/vnd.stepmania.stepchart"],
  ["smf", "application/vnd.stardivision.math"],
  ["smi", "application/smil"],
  ["smil", "application/smil"],
  ["smv", "video/x-smv"],
  ["smzip", "application/vnd.stepmania.package"],
  ["snd", "audio/basic"],
  ["snf", "application/x-font-snf"],
  ["so", "application/octet-stream"],
  ["spc", "application/x-pkcs7-certificates"],
  ["spdx", "text/spdx"],
  ["spf", "application/vnd.yamaha.smaf-phrase"],
  ["spl", "application/x-futuresplash"],
  ["spot", "text/vnd.in3d.spot"],
  ["spp", "application/scvp-vp-response"],
  ["spq", "application/scvp-vp-request"],
  ["spx", "audio/ogg"],
  ["sql", "application/x-sql"],
  ["src", "application/x-wais-source"],
  ["srt", "application/x-subrip"],
  ["sru", "application/sru+xml"],
  ["srx", "application/sparql-results+xml"],
  ["ssdl", "application/ssdl+xml"],
  ["sse", "application/vnd.kodak-descriptor"],
  ["ssf", "application/vnd.epson.ssf"],
  ["ssml", "application/ssml+xml"],
  ["sst", "application/octet-stream"],
  ["st", "application/vnd.sailingtracker.track"],
  ["stc", "application/vnd.sun.xml.calc.template"],
  ["std", "application/vnd.sun.xml.draw.template"],
  ["stf", "application/vnd.wt.stf"],
  ["sti", "application/vnd.sun.xml.impress.template"],
  ["stk", "application/hyperstudio"],
  ["stl", "model/stl"],
  ["stpx", "model/step+xml"],
  ["stpxz", "model/step-xml+zip"],
  ["stpz", "model/step+zip"],
  ["str", "application/vnd.pg.format"],
  ["stw", "application/vnd.sun.xml.writer.template"],
  ["styl", "text/stylus"],
  ["stylus", "text/stylus"],
  ["sub", "text/vnd.dvb.subtitle"],
  ["sus", "application/vnd.sus-calendar"],
  ["susp", "application/vnd.sus-calendar"],
  ["sv4cpio", "application/x-sv4cpio"],
  ["sv4crc", "application/x-sv4crc"],
  ["svc", "application/vnd.dvb.service"],
  ["svd", "application/vnd.svd"],
  ["svg", "image/svg+xml"],
  ["svgz", "image/svg+xml"],
  ["swa", "application/x-director"],
  ["swf", "application/x-shockwave-flash"],
  ["swi", "application/vnd.aristanetworks.swi"],
  ["swidtag", "application/swid+xml"],
  ["sxc", "application/vnd.sun.xml.calc"],
  ["sxd", "application/vnd.sun.xml.draw"],
  ["sxg", "application/vnd.sun.xml.writer.global"],
  ["sxi", "application/vnd.sun.xml.impress"],
  ["sxm", "application/vnd.sun.xml.math"],
  ["sxw", "application/vnd.sun.xml.writer"],
  ["t", "text/troff"],
  ["t3", "application/x-t3vm-image"],
  ["t38", "image/t38"],
  ["taglet", "application/vnd.mynfc"],
  ["tao", "application/vnd.tao.intent-module-archive"],
  ["tap", "image/vnd.tencent.tap"],
  ["tar", "application/x-tar"],
  ["tcap", "application/vnd.3gpp2.tcap"],
  ["tcl", "application/x-tcl"],
  ["td", "application/urc-targetdesc+xml"],
  ["teacher", "application/vnd.smart.teacher"],
  ["tei", "application/tei+xml"],
  ["teicorpus", "application/tei+xml"],
  ["tex", "application/x-tex"],
  ["texi", "application/x-texinfo"],
  ["texinfo", "application/x-texinfo"],
  ["text", "text/plain"],
  ["tfi", "application/thraud+xml"],
  ["tfm", "application/x-tex-tfm"],
  ["tfx", "image/tiff-fx"],
  ["tga", "image/x-tga"],
  ["tgz", "application/x-tar"],
  ["thmx", "application/vnd.ms-officetheme"],
  ["tif", "image/tiff"],
  ["tiff", "image/tiff"],
  ["tk", "application/x-tcl"],
  ["tmo", "application/vnd.tmobile-livetv"],
  ["toml", "application/toml"],
  ["torrent", "application/x-bittorrent"],
  ["tpl", "application/vnd.groove-tool-template"],
  ["tpt", "application/vnd.trid.tpt"],
  ["tr", "text/troff"],
  ["tra", "application/vnd.trueapp"],
  ["trig", "application/trig"],
  ["trm", "application/x-msterminal"],
  ["ts", "video/mp2t"],
  ["tsd", "application/timestamped-data"],
  ["tsv", "text/tab-separated-values"],
  ["ttc", "font/collection"],
  ["ttf", "font/ttf"],
  ["ttl", "text/turtle"],
  ["ttml", "application/ttml+xml"],
  ["twd", "application/vnd.simtech-mindmapper"],
  ["twds", "application/vnd.simtech-mindmapper"],
  ["txd", "application/vnd.genomatix.tuxedo"],
  ["txf", "application/vnd.mobius.txf"],
  ["txt", "text/plain"],
  ["u8dsn", "message/global-delivery-status"],
  ["u8hdr", "message/global-headers"],
  ["u8mdn", "message/global-disposition-notification"],
  ["u8msg", "message/global"],
  ["u32", "application/x-authorware-bin"],
  ["ubj", "application/ubjson"],
  ["udeb", "application/x-debian-package"],
  ["ufd", "application/vnd.ufdl"],
  ["ufdl", "application/vnd.ufdl"],
  ["ulx", "application/x-glulx"],
  ["umj", "application/vnd.umajin"],
  ["unityweb", "application/vnd.unity"],
  ["uoml", "application/vnd.uoml+xml"],
  ["uri", "text/uri-list"],
  ["uris", "text/uri-list"],
  ["urls", "text/uri-list"],
  ["usdz", "model/vnd.usdz+zip"],
  ["ustar", "application/x-ustar"],
  ["utz", "application/vnd.uiq.theme"],
  ["uu", "text/x-uuencode"],
  ["uva", "audio/vnd.dece.audio"],
  ["uvd", "application/vnd.dece.data"],
  ["uvf", "application/vnd.dece.data"],
  ["uvg", "image/vnd.dece.graphic"],
  ["uvh", "video/vnd.dece.hd"],
  ["uvi", "image/vnd.dece.graphic"],
  ["uvm", "video/vnd.dece.mobile"],
  ["uvp", "video/vnd.dece.pd"],
  ["uvs", "video/vnd.dece.sd"],
  ["uvt", "application/vnd.dece.ttml+xml"],
  ["uvu", "video/vnd.uvvu.mp4"],
  ["uvv", "video/vnd.dece.video"],
  ["uvva", "audio/vnd.dece.audio"],
  ["uvvd", "application/vnd.dece.data"],
  ["uvvf", "application/vnd.dece.data"],
  ["uvvg", "image/vnd.dece.graphic"],
  ["uvvh", "video/vnd.dece.hd"],
  ["uvvi", "image/vnd.dece.graphic"],
  ["uvvm", "video/vnd.dece.mobile"],
  ["uvvp", "video/vnd.dece.pd"],
  ["uvvs", "video/vnd.dece.sd"],
  ["uvvt", "application/vnd.dece.ttml+xml"],
  ["uvvu", "video/vnd.uvvu.mp4"],
  ["uvvv", "video/vnd.dece.video"],
  ["uvvx", "application/vnd.dece.unspecified"],
  ["uvvz", "application/vnd.dece.zip"],
  ["uvx", "application/vnd.dece.unspecified"],
  ["uvz", "application/vnd.dece.zip"],
  ["vbox", "application/x-virtualbox-vbox"],
  ["vbox-extpack", "application/x-virtualbox-vbox-extpack"],
  ["vcard", "text/vcard"],
  ["vcd", "application/x-cdlink"],
  ["vcf", "text/x-vcard"],
  ["vcg", "application/vnd.groove-vcard"],
  ["vcs", "text/x-vcalendar"],
  ["vcx", "application/vnd.vcx"],
  ["vdi", "application/x-virtualbox-vdi"],
  ["vds", "model/vnd.sap.vds"],
  ["vhd", "application/x-virtualbox-vhd"],
  ["vis", "application/vnd.visionary"],
  ["viv", "video/vnd.vivo"],
  ["vlc", "application/videolan"],
  ["vmdk", "application/x-virtualbox-vmdk"],
  ["vob", "video/x-ms-vob"],
  ["vor", "application/vnd.stardivision.writer"],
  ["vox", "application/x-authorware-bin"],
  ["vrml", "model/vrml"],
  ["vsd", "application/vnd.visio"],
  ["vsf", "application/vnd.vsf"],
  ["vss", "application/vnd.visio"],
  ["vst", "application/vnd.visio"],
  ["vsw", "application/vnd.visio"],
  ["vtf", "image/vnd.valve.source.texture"],
  ["vtt", "text/vtt"],
  ["vtu", "model/vnd.vtu"],
  ["vxml", "application/voicexml+xml"],
  ["w3d", "application/x-director"],
  ["wad", "application/x-doom"],
  ["wadl", "application/vnd.sun.wadl+xml"],
  ["war", "application/java-archive"],
  ["wasm", "application/wasm"],
  ["wav", "audio/x-wav"],
  ["wax", "audio/x-ms-wax"],
  ["wbmp", "image/vnd.wap.wbmp"],
  ["wbs", "application/vnd.criticaltools.wbs+xml"],
  ["wbxml", "application/wbxml"],
  ["wcm", "application/vnd.ms-works"],
  ["wdb", "application/vnd.ms-works"],
  ["wdp", "image/vnd.ms-photo"],
  ["weba", "audio/webm"],
  ["webapp", "application/x-web-app-manifest+json"],
  ["webm", "video/webm"],
  ["webmanifest", "application/manifest+json"],
  ["webp", "image/webp"],
  ["wg", "application/vnd.pmi.widget"],
  ["wgt", "application/widget"],
  ["wks", "application/vnd.ms-works"],
  ["wm", "video/x-ms-wm"],
  ["wma", "audio/x-ms-wma"],
  ["wmd", "application/x-ms-wmd"],
  ["wmf", "image/wmf"],
  ["wml", "text/vnd.wap.wml"],
  ["wmlc", "application/wmlc"],
  ["wmls", "text/vnd.wap.wmlscript"],
  ["wmlsc", "application/vnd.wap.wmlscriptc"],
  ["wmv", "video/x-ms-wmv"],
  ["wmx", "video/x-ms-wmx"],
  ["wmz", "application/x-msmetafile"],
  ["woff", "font/woff"],
  ["woff2", "font/woff2"],
  ["word", "application/msword"],
  ["wpd", "application/vnd.wordperfect"],
  ["wpl", "application/vnd.ms-wpl"],
  ["wps", "application/vnd.ms-works"],
  ["wqd", "application/vnd.wqd"],
  ["wri", "application/x-mswrite"],
  ["wrl", "model/vrml"],
  ["wsc", "message/vnd.wfa.wsc"],
  ["wsdl", "application/wsdl+xml"],
  ["wspolicy", "application/wspolicy+xml"],
  ["wtb", "application/vnd.webturbo"],
  ["wvx", "video/x-ms-wvx"],
  ["x3d", "model/x3d+xml"],
  ["x3db", "model/x3d+fastinfoset"],
  ["x3dbz", "model/x3d+binary"],
  ["x3dv", "model/x3d-vrml"],
  ["x3dvz", "model/x3d+vrml"],
  ["x3dz", "model/x3d+xml"],
  ["x32", "application/x-authorware-bin"],
  ["x_b", "model/vnd.parasolid.transmit.binary"],
  ["x_t", "model/vnd.parasolid.transmit.text"],
  ["xaml", "application/xaml+xml"],
  ["xap", "application/x-silverlight-app"],
  ["xar", "application/vnd.xara"],
  ["xav", "application/xcap-att+xml"],
  ["xbap", "application/x-ms-xbap"],
  ["xbd", "application/vnd.fujixerox.docuworks.binder"],
  ["xbm", "image/x-xbitmap"],
  ["xca", "application/xcap-caps+xml"],
  ["xcs", "application/calendar+xml"],
  ["xdf", "application/xcap-diff+xml"],
  ["xdm", "application/vnd.syncml.dm+xml"],
  ["xdp", "application/vnd.adobe.xdp+xml"],
  ["xdssc", "application/dssc+xml"],
  ["xdw", "application/vnd.fujixerox.docuworks"],
  ["xel", "application/xcap-el+xml"],
  ["xenc", "application/xenc+xml"],
  ["xer", "application/patch-ops-error+xml"],
  ["xfdf", "application/vnd.adobe.xfdf"],
  ["xfdl", "application/vnd.xfdl"],
  ["xht", "application/xhtml+xml"],
  ["xhtml", "application/xhtml+xml"],
  ["xhvml", "application/xv+xml"],
  ["xif", "image/vnd.xiff"],
  ["xl", "application/excel"],
  ["xla", "application/vnd.ms-excel"],
  ["xlam", "application/vnd.ms-excel.addin.macroEnabled.12"],
  ["xlc", "application/vnd.ms-excel"],
  ["xlf", "application/xliff+xml"],
  ["xlm", "application/vnd.ms-excel"],
  ["xls", "application/vnd.ms-excel"],
  ["xlsb", "application/vnd.ms-excel.sheet.binary.macroEnabled.12"],
  ["xlsm", "application/vnd.ms-excel.sheet.macroEnabled.12"],
  ["xlsx", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],
  ["xlt", "application/vnd.ms-excel"],
  ["xltm", "application/vnd.ms-excel.template.macroEnabled.12"],
  ["xltx", "application/vnd.openxmlformats-officedocument.spreadsheetml.template"],
  ["xlw", "application/vnd.ms-excel"],
  ["xm", "audio/xm"],
  ["xml", "application/xml"],
  ["xns", "application/xcap-ns+xml"],
  ["xo", "application/vnd.olpc-sugar"],
  ["xop", "application/xop+xml"],
  ["xpi", "application/x-xpinstall"],
  ["xpl", "application/xproc+xml"],
  ["xpm", "image/x-xpixmap"],
  ["xpr", "application/vnd.is-xpr"],
  ["xps", "application/vnd.ms-xpsdocument"],
  ["xpw", "application/vnd.intercon.formnet"],
  ["xpx", "application/vnd.intercon.formnet"],
  ["xsd", "application/xml"],
  ["xsl", "application/xml"],
  ["xslt", "application/xslt+xml"],
  ["xsm", "application/vnd.syncml+xml"],
  ["xspf", "application/xspf+xml"],
  ["xul", "application/vnd.mozilla.xul+xml"],
  ["xvm", "application/xv+xml"],
  ["xvml", "application/xv+xml"],
  ["xwd", "image/x-xwindowdump"],
  ["xyz", "chemical/x-xyz"],
  ["xz", "application/x-xz"],
  ["yaml", "text/yaml"],
  ["yang", "application/yang"],
  ["yin", "application/yin+xml"],
  ["yml", "text/yaml"],
  ["ymp", "text/x-suse-ymp"],
  ["z", "application/x-compress"],
  ["z1", "application/x-zmachine"],
  ["z2", "application/x-zmachine"],
  ["z3", "application/x-zmachine"],
  ["z4", "application/x-zmachine"],
  ["z5", "application/x-zmachine"],
  ["z6", "application/x-zmachine"],
  ["z7", "application/x-zmachine"],
  ["z8", "application/x-zmachine"],
  ["zaz", "application/vnd.zzazz.deck+xml"],
  ["zip", "application/zip"],
  ["zir", "application/vnd.zul"],
  ["zirz", "application/vnd.zul"],
  ["zmm", "application/vnd.handheld-entertainment+xml"],
  ["zsh", "text/x-scriptzsh"]
]);
function Sa(e, t, n) {
  const r = IR(e), { webkitRelativePath: i } = e, a = typeof t == "string" ? t : typeof i == "string" && i.length > 0 ? i : `./${e.name}`;
  return typeof r.path != "string" && Vm(r, "path", a), Vm(r, "relativePath", a), r;
}
function IR(e) {
  const { name: t } = e;
  if (t && t.lastIndexOf(".") !== -1 && !e.type) {
    const r = t.split(".").pop().toLowerCase(), i = SR.get(r);
    i && Object.defineProperty(e, "type", {
      value: i,
      writable: !1,
      configurable: !1,
      enumerable: !0
    });
  }
  return e;
}
function Vm(e, t, n) {
  Object.defineProperty(e, t, {
    value: n,
    writable: !1,
    configurable: !1,
    enumerable: !0
  });
}
const _R = [
  // Thumbnail cache files for macOS and Windows
  ".DS_Store",
  // macOs
  "Thumbs.db"
  // Windows
];
function ER(e) {
  return Li(this, void 0, void 0, function* () {
    return ul(e) && kR(e.dataTransfer) ? OR(e.dataTransfer, e.type) : NR(e) ? AR(e) : Array.isArray(e) && e.every((t) => "getFile" in t && typeof t.getFile == "function") ? DR(e) : [];
  });
}
function kR(e) {
  return ul(e);
}
function NR(e) {
  return ul(e) && ul(e.target);
}
function ul(e) {
  return typeof e == "object" && e !== null;
}
function AR(e) {
  return nd(e.target.files).map((t) => Sa(t));
}
function DR(e) {
  return Li(this, void 0, void 0, function* () {
    return (yield Promise.all(e.map((n) => n.getFile()))).map((n) => Sa(n));
  });
}
function OR(e, t) {
  return Li(this, void 0, void 0, function* () {
    if (e.items) {
      const n = nd(e.items).filter((i) => i.kind === "file");
      if (t !== "drop")
        return n;
      const r = yield Promise.all(n.map(MR));
      return Bm(o0(r));
    }
    return Bm(nd(e.files).map((n) => Sa(n)));
  });
}
function Bm(e) {
  return e.filter((t) => _R.indexOf(t.name) === -1);
}
function nd(e) {
  if (e === null)
    return [];
  const t = [];
  for (let n = 0; n < e.length; n++) {
    const r = e[n];
    t.push(r);
  }
  return t;
}
function MR(e) {
  if (typeof e.webkitGetAsEntry != "function")
    return Gm(e);
  const t = e.webkitGetAsEntry();
  return t && t.isDirectory ? l0(t) : Gm(e, t);
}
function o0(e) {
  return e.reduce((t, n) => [
    ...t,
    ...Array.isArray(n) ? o0(n) : [n]
  ], []);
}
function Gm(e, t) {
  return Li(this, void 0, void 0, function* () {
    var n;
    if (globalThis.isSecureContext && typeof e.getAsFileSystemHandle == "function") {
      const a = yield e.getAsFileSystemHandle();
      if (a === null)
        throw new Error(`${e} is not a File`);
      if (a !== void 0) {
        const s = yield a.getFile();
        return s.handle = a, Sa(s);
      }
    }
    const r = e.getAsFile();
    if (!r)
      throw new Error(`${e} is not a File`);
    return Sa(r, (n = t?.fullPath) !== null && n !== void 0 ? n : void 0);
  });
}
function RR(e) {
  return Li(this, void 0, void 0, function* () {
    return e.isDirectory ? l0(e) : TR(e);
  });
}
function l0(e) {
  const t = e.createReader();
  return new Promise((n, r) => {
    const i = [];
    function a() {
      t.readEntries((s) => Li(this, void 0, void 0, function* () {
        if (s.length) {
          const o = Promise.all(s.map(RR));
          i.push(o), a();
        } else
          try {
            const o = yield Promise.all(i);
            n(o);
          } catch (o) {
            r(o);
          }
      }), (s) => {
        r(s);
      });
    }
    a();
  });
}
function TR(e) {
  return Li(this, void 0, void 0, function* () {
    return new Promise((t, n) => {
      e.file((r) => {
        const i = Sa(r, e.fullPath);
        t(i);
      }, (r) => {
        n(r);
      });
    });
  });
}
var So = {}, Ym;
function FR() {
  return Ym || (Ym = 1, So.__esModule = !0, So.default = function(e, t) {
    if (e && t) {
      var n = Array.isArray(t) ? t : t.split(",");
      if (n.length === 0)
        return !0;
      var r = e.name || "", i = (e.type || "").toLowerCase(), a = i.replace(/\/.*$/, "");
      return n.some(function(s) {
        var o = s.trim().toLowerCase();
        return o.charAt(0) === "." ? r.toLowerCase().endsWith(o) : o.endsWith("/*") ? a === o.replace(/\/.*$/, "") : i === o;
      });
    }
    return !0;
  }), So;
}
var PR = FR();
const uu = /* @__PURE__ */ li(PR);
function Wm(e) {
  return BR(e) || VR(e) || u0(e) || LR();
}
function LR() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function VR(e) {
  if (typeof Symbol < "u" && e[Symbol.iterator] != null || e["@@iterator"] != null) return Array.from(e);
}
function BR(e) {
  if (Array.isArray(e)) return rd(e);
}
function zm(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e, i).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Hm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? zm(Object(n), !0).forEach(function(r) {
      c0(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : zm(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function c0(e, t, n) {
  return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e;
}
function bs(e, t) {
  return WR(e) || YR(e, t) || u0(e, t) || GR();
}
function GR() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function u0(e, t) {
  if (e) {
    if (typeof e == "string") return rd(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if (n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set") return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return rd(e, t);
  }
}
function rd(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function YR(e, t) {
  var n = e == null ? null : typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n != null) {
    var r = [], i = !0, a = !1, s, o;
    try {
      for (n = n.call(e); !(i = (s = n.next()).done) && (r.push(s.value), !(t && r.length === t)); i = !0)
        ;
    } catch (c) {
      a = !0, o = c;
    } finally {
      try {
        !i && n.return != null && n.return();
      } finally {
        if (a) throw o;
      }
    }
    return r;
  }
}
function WR(e) {
  if (Array.isArray(e)) return e;
}
var zR = typeof uu == "function" ? uu : uu.default, HR = "file-invalid-type", jR = "file-too-large", $R = "file-too-small", UR = "too-many-files", XR = function() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "", n = t.split(","), r = n.length > 1 ? "one of ".concat(n.join(", ")) : n[0];
  return {
    code: HR,
    message: "File type must be ".concat(r)
  };
}, jm = function(t) {
  return {
    code: jR,
    message: "File is larger than ".concat(t, " ").concat(t === 1 ? "byte" : "bytes")
  };
}, $m = function(t) {
  return {
    code: $R,
    message: "File is smaller than ".concat(t, " ").concat(t === 1 ? "byte" : "bytes")
  };
}, ZR = {
  code: UR,
  message: "Too many files"
};
function d0(e, t) {
  var n = e.type === "application/x-moz-file" || zR(e, t);
  return [n, n ? null : XR(t)];
}
function f0(e, t, n) {
  if (yi(e.size))
    if (yi(t) && yi(n)) {
      if (e.size > n) return [!1, jm(n)];
      if (e.size < t) return [!1, $m(t)];
    } else {
      if (yi(t) && e.size < t) return [!1, $m(t)];
      if (yi(n) && e.size > n) return [!1, jm(n)];
    }
  return [!0, null];
}
function yi(e) {
  return e != null;
}
function qR(e) {
  var t = e.files, n = e.accept, r = e.minSize, i = e.maxSize, a = e.multiple, s = e.maxFiles, o = e.validator;
  return !a && t.length > 1 || a && s >= 1 && t.length > s ? !1 : t.every(function(c) {
    var u = d0(c, n), f = bs(u, 1), p = f[0], g = f0(c, r, i), h = bs(g, 1), y = h[0], _ = o ? o(c) : null;
    return p && y && !_;
  });
}
function dl(e) {
  return typeof e.isPropagationStopped == "function" ? e.isPropagationStopped() : typeof e.cancelBubble < "u" ? e.cancelBubble : !1;
}
function Io(e) {
  return e.dataTransfer ? Array.prototype.some.call(e.dataTransfer.types, function(t) {
    return t === "Files" || t === "application/x-moz-file";
  }) : !!e.target && !!e.target.files;
}
function Um(e) {
  e.preventDefault();
}
function JR(e) {
  return e.indexOf("MSIE") !== -1 || e.indexOf("Trident/") !== -1;
}
function QR(e) {
  return e.indexOf("Edge/") !== -1;
}
function KR() {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.navigator.userAgent;
  return JR(e) || QR(e);
}
function ar() {
  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
    t[n] = arguments[n];
  return function(r) {
    for (var i = arguments.length, a = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++)
      a[s - 1] = arguments[s];
    return t.some(function(o) {
      return !dl(r) && o && o.apply(void 0, [r].concat(a)), dl(r);
    });
  };
}
function eT() {
  return "showOpenFilePicker" in window;
}
function tT(e) {
  if (yi(e)) {
    var t = Object.entries(e).filter(function(n) {
      var r = bs(n, 2), i = r[0], a = r[1], s = !0;
      return p0(i) || (console.warn('Skipped "'.concat(i, '" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')), s = !1), (!Array.isArray(a) || !a.every(h0)) && (console.warn('Skipped "'.concat(i, '" because an invalid file extension was provided.')), s = !1), s;
    }).reduce(function(n, r) {
      var i = bs(r, 2), a = i[0], s = i[1];
      return Hm(Hm({}, n), {}, c0({}, a, s));
    }, {});
    return [{
      // description is required due to https://crbug.com/1264708
      description: "Files",
      accept: t
    }];
  }
  return e;
}
function nT(e) {
  if (yi(e))
    return Object.entries(e).reduce(function(t, n) {
      var r = bs(n, 2), i = r[0], a = r[1];
      return [].concat(Wm(t), [i], Wm(a));
    }, []).filter(function(t) {
      return p0(t) || h0(t);
    }).join(",");
}
function rT(e) {
  return e instanceof DOMException && (e.name === "AbortError" || e.code === e.ABORT_ERR);
}
function iT(e) {
  return e instanceof DOMException && (e.name === "SecurityError" || e.code === e.SECURITY_ERR);
}
function p0(e) {
  return e === "audio/*" || e === "video/*" || e === "image/*" || e === "text/*" || e === "application/*" || /\w+\/[-+.\w]+/g.test(e);
}
function h0(e) {
  return /^.*\.[\w]+$/.test(e);
}
var aT = ["children"], sT = ["open"], oT = ["refKey", "role", "onKeyDown", "onFocus", "onBlur", "onClick", "onDragEnter", "onDragOver", "onDragLeave", "onDrop"], lT = ["refKey", "onChange", "onClick"];
function cT(e) {
  return fT(e) || dT(e) || m0(e) || uT();
}
function uT() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function dT(e) {
  if (typeof Symbol < "u" && e[Symbol.iterator] != null || e["@@iterator"] != null) return Array.from(e);
}
function fT(e) {
  if (Array.isArray(e)) return id(e);
}
function du(e, t) {
  return mT(e) || hT(e, t) || m0(e, t) || pT();
}
function pT() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function m0(e, t) {
  if (e) {
    if (typeof e == "string") return id(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if (n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set") return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return id(e, t);
  }
}
function id(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++)
    r[n] = e[n];
  return r;
}
function hT(e, t) {
  var n = e == null ? null : typeof Symbol < "u" && e[Symbol.iterator] || e["@@iterator"];
  if (n != null) {
    var r = [], i = !0, a = !1, s, o;
    try {
      for (n = n.call(e); !(i = (s = n.next()).done) && (r.push(s.value), !(t && r.length === t)); i = !0)
        ;
    } catch (c) {
      a = !0, o = c;
    } finally {
      try {
        !i && n.return != null && n.return();
      } finally {
        if (a) throw o;
      }
    }
    return r;
  }
}
function mT(e) {
  if (Array.isArray(e)) return e;
}
function Xm(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(e);
    t && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e, i).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function Dt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2 ? Xm(Object(n), !0).forEach(function(r) {
      ad(e, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Xm(Object(n)).forEach(function(r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return e;
}
function ad(e, t, n) {
  return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e;
}
function fl(e, t) {
  if (e == null) return {};
  var n = gT(e, t), r, i;
  if (Object.getOwnPropertySymbols) {
    var a = Object.getOwnPropertySymbols(e);
    for (i = 0; i < a.length; i++)
      r = a[i], !(t.indexOf(r) >= 0) && Object.prototype.propertyIsEnumerable.call(e, r) && (n[r] = e[r]);
  }
  return n;
}
function gT(e, t) {
  if (e == null) return {};
  var n = {}, r = Object.keys(e), i, a;
  for (a = 0; a < r.length; a++)
    i = r[a], !(t.indexOf(i) >= 0) && (n[i] = e[i]);
  return n;
}
var kf = /* @__PURE__ */ _s(function(e, t) {
  var n = e.children, r = fl(e, aT), i = zs(r), a = i.open, s = fl(i, sT);
  return qg(t, function() {
    return {
      open: a
    };
  }, [a]), /* @__PURE__ */ ne.createElement(zo, null, n(Dt(Dt({}, s), {}, {
    open: a
  })));
});
kf.displayName = "Dropzone";
var g0 = {
  disabled: !1,
  getFilesFromEvent: ER,
  maxSize: 1 / 0,
  minSize: 0,
  multiple: !0,
  maxFiles: 0,
  preventDropOnDocument: !0,
  noClick: !1,
  noKeyboard: !1,
  noDrag: !1,
  noDragEventsBubbling: !1,
  validator: null,
  useFsAccessApi: !1,
  autoFocus: !1
};
kf.defaultProps = g0;
kf.propTypes = {
  /**
   * Render function that exposes the dropzone state and prop getter fns
   *
   * @param {object} params
   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render
   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render
   * @param {Function} params.open Open the native file selection dialog
   * @param {boolean} params.isFocused Dropzone area is in focus
   * @param {boolean} params.isFileDialogActive File dialog is opened
   * @param {boolean} params.isDragActive Active drag is in progress
   * @param {boolean} params.isDragAccept Dragged files are accepted
   * @param {boolean} params.isDragReject Some dragged files are rejected
   * @param {File[]} params.acceptedFiles Accepted files
   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected
   */
  children: de.func,
  /**
   * Set accepted file types.
   * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.
   * Keep in mind that mime type determination is not reliable across platforms. CSV files,
   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under
   * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).
   */
  accept: de.objectOf(de.arrayOf(de.string)),
  /**
   * Allow drag 'n' drop (or selection from the file dialog) of multiple files
   */
  multiple: de.bool,
  /**
   * If false, allow dropped items to take over the current browser window
   */
  preventDropOnDocument: de.bool,
  /**
   * If true, disables click to open the native file selection dialog
   */
  noClick: de.bool,
  /**
   * If true, disables SPACE/ENTER to open the native file selection dialog.
   * Note that it also stops tracking the focus state.
   */
  noKeyboard: de.bool,
  /**
   * If true, disables drag 'n' drop
   */
  noDrag: de.bool,
  /**
   * If true, stops drag event propagation to parents
   */
  noDragEventsBubbling: de.bool,
  /**
   * Minimum file size (in bytes)
   */
  minSize: de.number,
  /**
   * Maximum file size (in bytes)
   */
  maxSize: de.number,
  /**
   * Maximum accepted number of files
   * The default value is 0 which means there is no limitation to how many files are accepted.
   */
  maxFiles: de.number,
  /**
   * Enable/disable the dropzone
   */
  disabled: de.bool,
  /**
   * Use this to provide a custom file aggregator
   *
   * @param {(DragEvent|Event|Array<FileSystemFileHandle>)} event A drag event or input change event (if files were selected via the file dialog)
   */
  getFilesFromEvent: de.func,
  /**
   * Cb for when closing the file dialog with no selection
   */
  onFileDialogCancel: de.func,
  /**
   * Cb for when opening the file dialog
   */
  onFileDialogOpen: de.func,
  /**
   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API
   * to open the file picker instead of using an `<input type="file">` click event.
   */
  useFsAccessApi: de.bool,
  /**
   * Set to true to focus the root element on render
   */
  autoFocus: de.bool,
  /**
   * Cb for when the `dragenter` event occurs.
   *
   * @param {DragEvent} event
   */
  onDragEnter: de.func,
  /**
   * Cb for when the `dragleave` event occurs
   *
   * @param {DragEvent} event
   */
  onDragLeave: de.func,
  /**
   * Cb for when the `dragover` event occurs
   *
   * @param {DragEvent} event
   */
  onDragOver: de.func,
  /**
   * Cb for when the `drop` event occurs.
   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.
   *
   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.
   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.
   * If `multiple` is set to false and additional files are dropped,
   * all files besides the first will be rejected.
   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.
   *
   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.
   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.
   *
   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.
   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:
   *
   * ```js
   * function onDrop(acceptedFiles) {
   *   const req = request.post('/upload')
   *   acceptedFiles.forEach(file => {
   *     req.attach(file.name, file)
   *   })
   *   req.end(callback)
   * }
   * ```
   *
   * @param {File[]} acceptedFiles
   * @param {FileRejection[]} fileRejections
   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)
   */
  onDrop: de.func,
  /**
   * Cb for when the `drop` event occurs.
   * Note that if no files are accepted, this callback is not invoked.
   *
   * @param {File[]} files
   * @param {(DragEvent|Event)} event
   */
  onDropAccepted: de.func,
  /**
   * Cb for when the `drop` event occurs.
   * Note that if no files are rejected, this callback is not invoked.
   *
   * @param {FileRejection[]} fileRejections
   * @param {(DragEvent|Event)} event
   */
  onDropRejected: de.func,
  /**
   * Cb for when there's some error from any of the promises.
   *
   * @param {Error} error
   */
  onError: de.func,
  /**
   * Custom validation function. It must return null if there's no errors.
   * @param {File} file
   * @returns {FileError|FileError[]|null}
   */
  validator: de.func
};
var sd = {
  isFocused: !1,
  isFileDialogActive: !1,
  isDragActive: !1,
  isDragAccept: !1,
  isDragReject: !1,
  acceptedFiles: [],
  fileRejections: []
};
function zs() {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t = Dt(Dt({}, g0), e), n = t.accept, r = t.disabled, i = t.getFilesFromEvent, a = t.maxSize, s = t.minSize, o = t.multiple, c = t.maxFiles, u = t.onDragEnter, f = t.onDragLeave, p = t.onDragOver, g = t.onDrop, h = t.onDropAccepted, y = t.onDropRejected, _ = t.onFileDialogCancel, S = t.onFileDialogOpen, w = t.useFsAccessApi, I = t.autoFocus, b = t.preventDropOnDocument, E = t.noClick, C = t.noKeyboard, A = t.noDrag, N = t.noDragEventsBubbling, D = t.onError, F = t.validator, P = Xe(function() {
    return nT(n);
  }, [n]), G = Xe(function() {
    return tT(n);
  }, [n]), Y = Xe(function() {
    return typeof S == "function" ? S : Zm;
  }, [S]), z = Xe(function() {
    return typeof _ == "function" ? _ : Zm;
  }, [_]), H = Oe(null), L = Oe(null), q = Zg(vT, sd), te = du(q, 2), ge = te[0], Ce = te[1], O = ge.isFocused, ie = ge.isFileDialogActive, se = Oe(typeof window < "u" && window.isSecureContext && w && eT()), R = function() {
    !se.current && ie && setTimeout(function() {
      if (L.current) {
        var J = L.current.files;
        J.length || (Ce({
          type: "closeDialog"
        }), z());
      }
    }, 300);
  };
  re(function() {
    return window.addEventListener("focus", R, !1), function() {
      window.removeEventListener("focus", R, !1);
    };
  }, [L, ie, z, se]);
  var oe = Oe([]), K = function(J) {
    H.current && H.current.contains(J.target) || (J.preventDefault(), oe.current = []);
  };
  re(function() {
    return b && (document.addEventListener("dragover", Um, !1), document.addEventListener("drop", K, !1)), function() {
      b && (document.removeEventListener("dragover", Um), document.removeEventListener("drop", K));
    };
  }, [H, b]), re(function() {
    return !r && I && H.current && H.current.focus(), function() {
    };
  }, [H, I, r]);
  var fe = _e(function(Z) {
    D ? D(Z) : console.error(Z);
  }, [D]), Ne = _e(function(Z) {
    Z.preventDefault(), Z.persist(), qe(Z), oe.current = [].concat(cT(oe.current), [Z.target]), Io(Z) && Promise.resolve(i(Z)).then(function(J) {
      if (!(dl(Z) && !N)) {
        var T = J.length, X = T > 0 && qR({
          files: J,
          accept: P,
          minSize: s,
          maxSize: a,
          multiple: o,
          maxFiles: c,
          validator: F
        }), le = T > 0 && !X;
        Ce({
          isDragAccept: X,
          isDragReject: le,
          isDragActive: !0,
          type: "setDraggedFiles"
        }), u && u(Z);
      }
    }).catch(function(J) {
      return fe(J);
    });
  }, [i, u, fe, N, P, s, a, o, c, F]), we = _e(function(Z) {
    Z.preventDefault(), Z.persist(), qe(Z);
    var J = Io(Z);
    if (J && Z.dataTransfer)
      try {
        Z.dataTransfer.dropEffect = "copy";
      } catch {
      }
    return J && p && p(Z), !1;
  }, [p, N]), Fe = _e(function(Z) {
    Z.preventDefault(), Z.persist(), qe(Z);
    var J = oe.current.filter(function(X) {
      return H.current && H.current.contains(X);
    }), T = J.indexOf(Z.target);
    T !== -1 && J.splice(T, 1), oe.current = J, !(J.length > 0) && (Ce({
      type: "setDraggedFiles",
      isDragActive: !1,
      isDragAccept: !1,
      isDragReject: !1
    }), Io(Z) && f && f(Z));
  }, [H, f, N]), Te = _e(function(Z, J) {
    var T = [], X = [];
    Z.forEach(function(le) {
      var Se = d0(le, P), Ie = du(Se, 2), yt = Ie[0], At = Ie[1], Gt = f0(le, s, a), Xt = du(Gt, 2), Zt = Xt[0], bt = Xt[1], qt = F ? F(le) : null;
      if (yt && Zt && !qt)
        T.push(le);
      else {
        var Kt = [At, bt];
        qt && (Kt = Kt.concat(qt)), X.push({
          file: le,
          errors: Kt.filter(function(wr) {
            return wr;
          })
        });
      }
    }), (!o && T.length > 1 || o && c >= 1 && T.length > c) && (T.forEach(function(le) {
      X.push({
        file: le,
        errors: [ZR]
      });
    }), T.splice(0)), Ce({
      acceptedFiles: T,
      fileRejections: X,
      isDragReject: X.length > 0,
      type: "setFiles"
    }), g && g(T, X, J), X.length > 0 && y && y(X, J), T.length > 0 && h && h(T, J);
  }, [Ce, o, P, s, a, c, g, h, y, F]), He = _e(function(Z) {
    Z.preventDefault(), Z.persist(), qe(Z), oe.current = [], Io(Z) && Promise.resolve(i(Z)).then(function(J) {
      dl(Z) && !N || Te(J, Z);
    }).catch(function(J) {
      return fe(J);
    }), Ce({
      type: "reset"
    });
  }, [i, Te, fe, N]), ue = _e(function() {
    if (se.current) {
      Ce({
        type: "openDialog"
      }), Y();
      var Z = {
        multiple: o,
        types: G
      };
      window.showOpenFilePicker(Z).then(function(J) {
        return i(J);
      }).then(function(J) {
        Te(J, null), Ce({
          type: "closeDialog"
        });
      }).catch(function(J) {
        rT(J) ? (z(J), Ce({
          type: "closeDialog"
        })) : iT(J) ? (se.current = !1, L.current ? (L.current.value = null, L.current.click()) : fe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))) : fe(J);
      });
      return;
    }
    L.current && (Ce({
      type: "openDialog"
    }), Y(), L.current.value = null, L.current.click());
  }, [Ce, Y, z, w, Te, fe, G, o]), rt = _e(function(Z) {
    !H.current || !H.current.isEqualNode(Z.target) || (Z.key === " " || Z.key === "Enter" || Z.keyCode === 32 || Z.keyCode === 13) && (Z.preventDefault(), ue());
  }, [H, ue]), vt = _e(function() {
    Ce({
      type: "focus"
    });
  }, []), We = _e(function() {
    Ce({
      type: "blur"
    });
  }, []), Bt = _e(function() {
    E || (KR() ? setTimeout(ue, 0) : ue());
  }, [E, ue]), Et = function(J) {
    return r ? null : J;
  }, jt = function(J) {
    return C ? null : Et(J);
  }, Ft = function(J) {
    return A ? null : Et(J);
  }, qe = function(J) {
    N && J.stopPropagation();
  }, V = Xe(function() {
    return function() {
      var Z = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, J = Z.refKey, T = J === void 0 ? "ref" : J, X = Z.role, le = Z.onKeyDown, Se = Z.onFocus, Ie = Z.onBlur, yt = Z.onClick, At = Z.onDragEnter, Gt = Z.onDragOver, Xt = Z.onDragLeave, Zt = Z.onDrop, bt = fl(Z, oT);
      return Dt(Dt(ad({
        onKeyDown: jt(ar(le, rt)),
        onFocus: jt(ar(Se, vt)),
        onBlur: jt(ar(Ie, We)),
        onClick: Et(ar(yt, Bt)),
        onDragEnter: Ft(ar(At, Ne)),
        onDragOver: Ft(ar(Gt, we)),
        onDragLeave: Ft(ar(Xt, Fe)),
        onDrop: Ft(ar(Zt, He)),
        role: typeof X == "string" && X !== "" ? X : "presentation"
      }, T, H), !r && !C ? {
        tabIndex: 0
      } : {}), bt);
    };
  }, [H, rt, vt, We, Bt, Ne, we, Fe, He, C, A, r]), $ = _e(function(Z) {
    Z.stopPropagation();
  }, []), Q = Xe(function() {
    return function() {
      var Z = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, J = Z.refKey, T = J === void 0 ? "ref" : J, X = Z.onChange, le = Z.onClick, Se = fl(Z, lT), Ie = ad({
        accept: P,
        multiple: o,
        type: "file",
        style: {
          border: 0,
          clip: "rect(0, 0, 0, 0)",
          clipPath: "inset(50%)",
          height: "1px",
          margin: "0 -1px -1px 0",
          overflow: "hidden",
          padding: 0,
          position: "absolute",
          width: "1px",
          whiteSpace: "nowrap"
        },
        onChange: Et(ar(X, He)),
        onClick: Et(ar(le, $)),
        tabIndex: -1
      }, T, L);
      return Dt(Dt({}, Ie), Se);
    };
  }, [L, n, o, He, r]);
  return Dt(Dt({}, ge), {}, {
    isFocused: O && !r,
    getRootProps: V,
    getInputProps: Q,
    rootRef: H,
    inputRef: L,
    open: Et(ue)
  });
}
function vT(e, t) {
  switch (t.type) {
    case "focus":
      return Dt(Dt({}, e), {}, {
        isFocused: !0
      });
    case "blur":
      return Dt(Dt({}, e), {}, {
        isFocused: !1
      });
    case "openDialog":
      return Dt(Dt({}, sd), {}, {
        isFileDialogActive: !0
      });
    case "closeDialog":
      return Dt(Dt({}, e), {}, {
        isFileDialogActive: !1
      });
    case "setDraggedFiles":
      return Dt(Dt({}, e), {}, {
        isDragActive: t.isDragActive,
        isDragAccept: t.isDragAccept,
        isDragReject: t.isDragReject
      });
    case "setFiles":
      return Dt(Dt({}, e), {}, {
        acceptedFiles: t.acceptedFiles,
        fileRejections: t.fileRejections,
        isDragReject: t.isDragReject
      });
    case "reset":
      return Dt({}, sd);
    default:
      return e;
  }
}
function Zm() {
}
var yT = ["defaultOptions", "cacheOptions", "loadOptions", "options", "isLoading", "onInputChange", "filterOption"];
function bT(e) {
  var t = e.defaultOptions, n = t === void 0 ? !1 : t, r = e.cacheOptions, i = r === void 0 ? !1 : r, a = e.loadOptions;
  e.options;
  var s = e.isLoading, o = s === void 0 ? !1 : s, c = e.onInputChange, u = e.filterOption, f = u === void 0 ? null : u, p = yr(e, yT), g = p.inputValue, h = Oe(void 0), y = Oe(!1), _ = B(Array.isArray(n) ? n : void 0), S = Jt(_, 2), w = S[0], I = S[1], b = B(typeof g < "u" ? g : ""), E = Jt(b, 2), C = E[0], A = E[1], N = B(n === !0), D = Jt(N, 2), F = D[0], P = D[1], G = B(void 0), Y = Jt(G, 2), z = Y[0], H = Y[1], L = B([]), q = Jt(L, 2), te = q[0], ge = q[1], Ce = B(!1), O = Jt(Ce, 2), ie = O[0], se = O[1], R = B({}), oe = Jt(R, 2), K = oe[0], fe = oe[1], Ne = B(void 0), we = Jt(Ne, 2), Fe = we[0], Te = we[1], He = B(void 0), ue = Jt(He, 2), rt = ue[0], vt = ue[1];
  i !== rt && (fe({}), vt(i)), n !== Fe && (I(Array.isArray(n) ? n : void 0), Te(n)), re(function() {
    return y.current = !0, function() {
      y.current = !1;
    };
  }, []);
  var We = _e(function(jt, Ft) {
    if (!a) return Ft();
    var qe = a(jt, Ft);
    qe && typeof qe.then == "function" && qe.then(Ft, function() {
      return Ft();
    });
  }, [a]);
  re(function() {
    n === !0 && We(C, function(jt) {
      y.current && (I(jt || []), P(!!h.current));
    });
  }, []);
  var Bt = _e(function(jt, Ft) {
    var qe = ND(jt, Ft, c);
    if (!qe) {
      h.current = void 0, A(""), H(""), ge([]), P(!1), se(!1);
      return;
    }
    if (i && K[qe])
      A(qe), H(qe), ge(K[qe]), P(!1), se(!1);
    else {
      var V = h.current = {};
      A(qe), P(!0), se(!z), We(qe, function($) {
        y && V === h.current && (h.current = void 0, P(!1), H(qe), ge($ || []), se(!1), fe($ ? Pe(Pe({}, K), {}, aa({}, qe, $)) : K));
      });
    }
  }, [i, We, z, K, c]), Et = ie ? [] : C && z ? te : w || [];
  return Pe(Pe({}, p), {}, {
    options: Et,
    isLoading: F || o,
    onInputChange: Bt,
    filterOption: f
  });
}
var xT = /* @__PURE__ */ _s(function(e, t) {
  var n = bT(e), r = vb(n);
  return /* @__PURE__ */ U.createElement(_f, Be({
    ref: t
  }, r));
}), $l = xT;
const Qn = () => document.documentElement.getAttribute("data-bs-theme") === "dark", Nf = {
  control: (e) => ({
    ...e,
    backgroundColor: Qn() ? "#212529" : "#ffffff",
    // Dark/Light background color for the input
    color: Qn() ? "#fff" : "#000000",
    // White/Black text
    borderColor: Qn() ? "#495057" : "#cccccc",
    // Dark/Light gray border
    boxShadow: "none",
    // Avoid dark shadow styles
    "&:hover": {
      borderColor: Qn() ? "#6c757d" : "#aaaaaa"
      // Darker gray on hover
    }
  }),
  menu: (e) => ({
    ...e,
    backgroundColor: Qn() ? "#212529" : "#ffffff",
    // Dark/Light background for the dropdown menu
    color: Qn() ? "#fff" : "#000000"
    // White/Black text for the dropdown
  }),
  option: (e, t) => ({
    ...e,
    backgroundColor: Qn() ? t.isSelected ? "#0d6efd" : t.isFocused ? "#343a40" : "#212529" : t.isSelected ? "#e6f7ff" : t.isFocused ? "#f5f5f5" : "#ffffff",
    // Default light background for options
    color: Qn() ? "#fff" : "#000000"
    // White/Black text for options
  }),
  singleValue: (e) => ({
    ...e,
    color: Qn() ? "#fff" : "#000000"
    // White/Black text for selected value
  }),
  placeholder: (e) => ({
    ...e,
    color: Qn() ? "#6c757d" : "#aaaaaa"
    // Dark/Light gray placeholder text
  }),
  input: (e) => ({
    ...e,
    color: Qn() ? "#fff" : "#000000"
    // White/Black text for input
  })
}, Hs = ({ control: e, name: t }) => {
  const n = (r) => hI({ query: r }).then((i) => i.items.map((a) => ({
    value: a.id,
    label: `${a.full_name} (${a.email})`
  })));
  return /* @__PURE__ */ l(
    jn,
    {
      name: t,
      control: e,
      render: ({ field: r, fieldState: i }) => /* @__PURE__ */ v("div", { children: [
        /* @__PURE__ */ l(
          $l,
          {
            ...r,
            defaultValue: r.value?.id,
            defaultInputValue: r.value?.full_name,
            isClearable: !0,
            placeholder: "â€” select a user",
            className: "w-100",
            defaultOptions: !0,
            loadOptions: n,
            styles: Nf
          }
        ),
        i.error && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: i.error.message || "This field is required" })
      ] })
    }
  );
}, Ul = ({ equipment: e, showModal: t, onClose: n, ecn: r, attachments: i }) => {
  const [a, s] = B([]), [o, c] = B([]), { user: u } = ke(ks), [f, p] = B(i), { register: g, handleSubmit: h, reset: y, control: _ } = rn({
    defaultValues: {
      ecn: r?.ecn || "",
      description: r?.description || "",
      module_id: r?.module_id || e?.main_tool_module_id || 0,
      owner: r?.owner || {}
    }
  });
  re(() => {
    r && y({
      ecn: r?.ecn || "",
      description: r?.description || "",
      module_id: r?.module_id || e?.main_tool_module_id || 0,
      owner: r?.owner || {}
    });
  }, []);
  const { getRootProps: S, getInputProps: w, isDragActive: I } = zs({
    accept: { "application/*": [], "image/*": [] },
    onDrop: (D) => {
      s((F) => [...F, ...D]);
    }
  });
  re(() => {
    t && (async () => {
      if (e?.id)
        try {
          const F = await Ni({
            equipment: e
          });
          c(F.items || []);
        } catch (F) {
          console.error("Error fetching modules:", F);
        }
    })();
  }, [e, t]);
  const b = (D, F) => new Promise(async (P, G) => {
    try {
      if (f && i && i != f)
        for (let Y = 0; Y < i.length; Y++) {
          const z = i[Y].id;
          let H = !1;
          for (let L = 0; L < f.length; L++) {
            const q = f[L].id;
            if (z == q) {
              H = !0;
              break;
            }
          }
          H || await ae.delete(`/delete/equipment/module/ecn/attachment/${i[Y].id}`);
        }
      D.length > 0 && F && await Promise.all(
        D.map(async (Y) => {
          const z = await Qg(Y), H = {
            ecn_id: F,
            filename: Y.name,
            type: Y.type,
            content: z
          };
          await ae.post("/create/equipment/module/ecn/attachment", H);
        })
      ), P();
    } catch (Y) {
      G(Y);
    }
  }), E = async (D) => {
    try {
      let F;
      const P = {
        module_id: D.module_id,
        ecn: D.ecn,
        description: D.description,
        owner: D?.owner.value || r?.owner
      };
      r ? (await b(a, r.id), F = (await ae.patch(`/update/equipment/module/ecn/${r?.id}`, P)).data) : (F = (await ae.post("/create/equipment/module/ecn", P)).data, b(a, F.id), F.attachments = a.length), n(F);
    } catch (F) {
      console.error("Error submitting the form:", F);
    }
  };
  async function C() {
    await ae.delete(`/delete/equipment/module/ecn/${r?.id}`);
    const D = {
      ...r,
      date_closed: (/* @__PURE__ */ new Date()).toISOString(),
      last_update: (/* @__PURE__ */ new Date()).toISOString(),
      updated_by: u?.full_name
    };
    n(D);
  }
  const A = (D) => {
    s((F) => F.filter((P, G) => G !== D));
  }, N = (D) => {
    f && p((F) => F?.filter((P, G) => G !== D));
  };
  return /* @__PURE__ */ l(be, { show: t, size: "lg", centered: !0, onHide: n, children: /* @__PURE__ */ v(j, { onSubmit: h(E), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: r ? `Edit ECN for ${e.name}` : `Create New ECN for ${e.name}` }) }),
    /* @__PURE__ */ v(be.Body, { children: [
      !r && /* @__PURE__ */ v(j.Group, { controlId: "module", className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Module" }),
        /* @__PURE__ */ v(
          j.Select,
          {
            ...g("module_id", {
              required: "Module is required"
            }),
            children: [
              /* @__PURE__ */ l("option", { value: "", children: "â€” Select a module" }),
              o.map((D) => /* @__PURE__ */ l("option", { value: D.id, children: D.name }, D.id))
            ]
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "ecn", className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "ECN" }),
        /* @__PURE__ */ l(
          j.Control,
          {
            type: "text",
            placeholder: "Enter ECN",
            ...g("ecn", {
              required: "ECN is required"
            })
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Description" }),
        /* @__PURE__ */ l(
          j.Control,
          {
            as: "textarea",
            rows: 3,
            placeholder: "Enter ECN description",
            ...g("description", {
              required: "Description is required"
            })
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Owner" }),
        /* @__PURE__ */ l(
          Hs,
          {
            control: _,
            ...g("owner", {
              required: "Owner is required"
            }),
            name: "owner"
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { children: [
        /* @__PURE__ */ l(j.Label, { children: "Attachments" }),
        /* @__PURE__ */ v(
          "div",
          {
            ...S({
              className: `dropzone ${I ? "active" : ""}`,
              style: {
                border: "2px dashed #007bff",
                padding: "10px",
                textAlign: "center"
              }
            }),
            children: [
              /* @__PURE__ */ l("input", { ...w() }),
              I ? /* @__PURE__ */ l("p", { children: "Drop the files here..." }) : /* @__PURE__ */ l("p", { children: "Drag & drop files here, or click to select files" })
            ]
          }
        ),
        a.length > 0 && /* @__PURE__ */ l("ul", { children: a.map((D, F) => /* @__PURE__ */ v("li", { children: [
          D.name,
          " ",
          /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => A(F), children: "cancel" })
        ] }, F)) })
      ] }),
      f && f.length > 0 && /* @__PURE__ */ v(j.Group, { controlId: "uploaded_files", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Uploaded files" }),
        /* @__PURE__ */ l("ul", { children: f.map((D, F) => /* @__PURE__ */ v("li", { children: [
          D.filename,
          " ",
          /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => N(F), children: "delete" })
        ] }, F)) })
      ] })
    ] }),
    /* @__PURE__ */ v(be.Footer, { children: [
      /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => n(r), children: "Cancel" }),
      /* @__PURE__ */ l(ce, { variant: "primary", type: "submit", children: r ? "Update ECN" : "Create ECN" }),
      r && /* @__PURE__ */ l(ce, { variant: "danger", onClick: () => C(), children: "Close ECN" })
    ] })
  ] }) });
};
var v0;
function xe() {
  return v0.apply(null, arguments);
}
function wT(e) {
  v0 = e;
}
function tr(e) {
  return e instanceof Array || Object.prototype.toString.call(e) === "[object Array]";
}
function ki(e) {
  return e != null && Object.prototype.toString.call(e) === "[object Object]";
}
function at(e, t) {
  return Object.prototype.hasOwnProperty.call(e, t);
}
function Af(e) {
  if (Object.getOwnPropertyNames)
    return Object.getOwnPropertyNames(e).length === 0;
  var t;
  for (t in e)
    if (at(e, t))
      return !1;
  return !0;
}
function gn(e) {
  return e === void 0;
}
function jr(e) {
  return typeof e == "number" || Object.prototype.toString.call(e) === "[object Number]";
}
function js(e) {
  return e instanceof Date || Object.prototype.toString.call(e) === "[object Date]";
}
function y0(e, t) {
  var n = [], r, i = e.length;
  for (r = 0; r < i; ++r)
    n.push(t(e[r], r));
  return n;
}
function ei(e, t) {
  for (var n in t)
    at(t, n) && (e[n] = t[n]);
  return at(t, "toString") && (e.toString = t.toString), at(t, "valueOf") && (e.valueOf = t.valueOf), e;
}
function br(e, t, n, r) {
  return Y0(e, t, n, r, !0).utc();
}
function CT() {
  return {
    empty: !1,
    unusedTokens: [],
    unusedInput: [],
    overflow: -2,
    charsLeftOver: 0,
    nullInput: !1,
    invalidEra: null,
    invalidMonth: null,
    invalidFormat: !1,
    userInvalidated: !1,
    iso: !1,
    parsedDateParts: [],
    era: null,
    meridiem: null,
    rfc2822: !1,
    weekdayMismatch: !1
  };
}
function Ue(e) {
  return e._pf == null && (e._pf = CT()), e._pf;
}
var od;
Array.prototype.some ? od = Array.prototype.some : od = function(e) {
  var t = Object(this), n = t.length >>> 0, r;
  for (r = 0; r < n; r++)
    if (r in t && e.call(this, t[r], r, t))
      return !0;
  return !1;
};
function Df(e) {
  var t = null, n = !1, r = e._d && !isNaN(e._d.getTime());
  if (r && (t = Ue(e), n = od.call(t.parsedDateParts, function(i) {
    return i != null;
  }), r = t.overflow < 0 && !t.empty && !t.invalidEra && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n), e._strict && (r = r && t.charsLeftOver === 0 && t.unusedTokens.length === 0 && t.bigHour === void 0)), Object.isFrozen == null || !Object.isFrozen(e))
    e._isValid = r;
  else
    return r;
  return e._isValid;
}
function Xl(e) {
  var t = br(NaN);
  return e != null ? ei(Ue(t), e) : Ue(t).userInvalidated = !0, t;
}
var qm = xe.momentProperties = [], fu = !1;
function Of(e, t) {
  var n, r, i, a = qm.length;
  if (gn(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), gn(t._i) || (e._i = t._i), gn(t._f) || (e._f = t._f), gn(t._l) || (e._l = t._l), gn(t._strict) || (e._strict = t._strict), gn(t._tzm) || (e._tzm = t._tzm), gn(t._isUTC) || (e._isUTC = t._isUTC), gn(t._offset) || (e._offset = t._offset), gn(t._pf) || (e._pf = Ue(t)), gn(t._locale) || (e._locale = t._locale), a > 0)
    for (n = 0; n < a; n++)
      r = qm[n], i = t[r], gn(i) || (e[r] = i);
  return e;
}
function $s(e) {
  Of(this, e), this._d = new Date(e._d != null ? e._d.getTime() : NaN), this.isValid() || (this._d = /* @__PURE__ */ new Date(NaN)), fu === !1 && (fu = !0, xe.updateOffset(this), fu = !1);
}
function nr(e) {
  return e instanceof $s || e != null && e._isAMomentObject != null;
}
function b0(e) {
  xe.suppressDeprecationWarnings === !1 && typeof console < "u" && console.warn && console.warn("Deprecation warning: " + e);
}
function Un(e, t) {
  var n = !0;
  return ei(function() {
    if (xe.deprecationHandler != null && xe.deprecationHandler(null, e), n) {
      var r = [], i, a, s, o = arguments.length;
      for (a = 0; a < o; a++) {
        if (i = "", typeof arguments[a] == "object") {
          i += `
[` + a + "] ";
          for (s in arguments[0])
            at(arguments[0], s) && (i += s + ": " + arguments[0][s] + ", ");
          i = i.slice(0, -2);
        } else
          i = arguments[a];
        r.push(i);
      }
      b0(
        e + `
Arguments: ` + Array.prototype.slice.call(r).join("") + `
` + new Error().stack
      ), n = !1;
    }
    return t.apply(this, arguments);
  }, t);
}
var Jm = {};
function x0(e, t) {
  xe.deprecationHandler != null && xe.deprecationHandler(e, t), Jm[e] || (b0(t), Jm[e] = !0);
}
xe.suppressDeprecationWarnings = !1;
xe.deprecationHandler = null;
function xr(e) {
  return typeof Function < "u" && e instanceof Function || Object.prototype.toString.call(e) === "[object Function]";
}
function ST(e) {
  var t, n;
  for (n in e)
    at(e, n) && (t = e[n], xr(t) ? this[n] = t : this["_" + n] = t);
  this._config = e, this._dayOfMonthOrdinalParseLenient = new RegExp(
    (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source
  );
}
function ld(e, t) {
  var n = ei({}, e), r;
  for (r in t)
    at(t, r) && (ki(e[r]) && ki(t[r]) ? (n[r] = {}, ei(n[r], e[r]), ei(n[r], t[r])) : t[r] != null ? n[r] = t[r] : delete n[r]);
  for (r in e)
    at(e, r) && !at(t, r) && ki(e[r]) && (n[r] = ei({}, n[r]));
  return n;
}
function Mf(e) {
  e != null && this.set(e);
}
var cd;
Object.keys ? cd = Object.keys : cd = function(e) {
  var t, n = [];
  for (t in e)
    at(e, t) && n.push(t);
  return n;
};
var IT = {
  sameDay: "[Today at] LT",
  nextDay: "[Tomorrow at] LT",
  nextWeek: "dddd [at] LT",
  lastDay: "[Yesterday at] LT",
  lastWeek: "[Last] dddd [at] LT",
  sameElse: "L"
};
function _T(e, t, n) {
  var r = this._calendar[e] || this._calendar.sameElse;
  return xr(r) ? r.call(t, n) : r;
}
function mr(e, t, n) {
  var r = "" + Math.abs(e), i = t - r.length, a = e >= 0;
  return (a ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, i)).toString().substr(1) + r;
}
var Rf = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, _o = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, pu = {}, ua = {};
function Ve(e, t, n, r) {
  var i = r;
  typeof r == "string" && (i = function() {
    return this[r]();
  }), e && (ua[e] = i), t && (ua[t[0]] = function() {
    return mr(i.apply(this, arguments), t[1], t[2]);
  }), n && (ua[n] = function() {
    return this.localeData().ordinal(
      i.apply(this, arguments),
      e
    );
  });
}
function ET(e) {
  return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "");
}
function kT(e) {
  var t = e.match(Rf), n, r;
  for (n = 0, r = t.length; n < r; n++)
    ua[t[n]] ? t[n] = ua[t[n]] : t[n] = ET(t[n]);
  return function(i) {
    var a = "", s;
    for (s = 0; s < r; s++)
      a += xr(t[s]) ? t[s].call(i, e) : t[s];
    return a;
  };
}
function Vo(e, t) {
  return e.isValid() ? (t = w0(t, e.localeData()), pu[t] = pu[t] || kT(t), pu[t](e)) : e.localeData().invalidDate();
}
function w0(e, t) {
  var n = 5;
  function r(i) {
    return t.longDateFormat(i) || i;
  }
  for (_o.lastIndex = 0; n >= 0 && _o.test(e); )
    e = e.replace(
      _o,
      r
    ), _o.lastIndex = 0, n -= 1;
  return e;
}
var NT = {
  LTS: "h:mm:ss A",
  LT: "h:mm A",
  L: "MM/DD/YYYY",
  LL: "MMMM D, YYYY",
  LLL: "MMMM D, YYYY h:mm A",
  LLLL: "dddd, MMMM D, YYYY h:mm A"
};
function AT(e) {
  var t = this._longDateFormat[e], n = this._longDateFormat[e.toUpperCase()];
  return t || !n ? t : (this._longDateFormat[e] = n.match(Rf).map(function(r) {
    return r === "MMMM" || r === "MM" || r === "DD" || r === "dddd" ? r.slice(1) : r;
  }).join(""), this._longDateFormat[e]);
}
var DT = "Invalid date";
function OT() {
  return this._invalidDate;
}
var MT = "%d", RT = /\d{1,2}/;
function TT(e) {
  return this._ordinal.replace("%d", e);
}
var FT = {
  future: "in %s",
  past: "%s ago",
  s: "a few seconds",
  ss: "%d seconds",
  m: "a minute",
  mm: "%d minutes",
  h: "an hour",
  hh: "%d hours",
  d: "a day",
  dd: "%d days",
  w: "a week",
  ww: "%d weeks",
  M: "a month",
  MM: "%d months",
  y: "a year",
  yy: "%d years"
};
function PT(e, t, n, r) {
  var i = this._relativeTime[n];
  return xr(i) ? i(e, t, n, r) : i.replace(/%d/i, e);
}
function LT(e, t) {
  var n = this._relativeTime[e > 0 ? "future" : "past"];
  return xr(n) ? n(t) : n.replace(/%s/i, t);
}
var Qm = {
  D: "date",
  dates: "date",
  date: "date",
  d: "day",
  days: "day",
  day: "day",
  e: "weekday",
  weekdays: "weekday",
  weekday: "weekday",
  E: "isoWeekday",
  isoweekdays: "isoWeekday",
  isoweekday: "isoWeekday",
  DDD: "dayOfYear",
  dayofyears: "dayOfYear",
  dayofyear: "dayOfYear",
  h: "hour",
  hours: "hour",
  hour: "hour",
  ms: "millisecond",
  milliseconds: "millisecond",
  millisecond: "millisecond",
  m: "minute",
  minutes: "minute",
  minute: "minute",
  M: "month",
  months: "month",
  month: "month",
  Q: "quarter",
  quarters: "quarter",
  quarter: "quarter",
  s: "second",
  seconds: "second",
  second: "second",
  gg: "weekYear",
  weekyears: "weekYear",
  weekyear: "weekYear",
  GG: "isoWeekYear",
  isoweekyears: "isoWeekYear",
  isoweekyear: "isoWeekYear",
  w: "week",
  weeks: "week",
  week: "week",
  W: "isoWeek",
  isoweeks: "isoWeek",
  isoweek: "isoWeek",
  y: "year",
  years: "year",
  year: "year"
};
function Xn(e) {
  return typeof e == "string" ? Qm[e] || Qm[e.toLowerCase()] : void 0;
}
function Tf(e) {
  var t = {}, n, r;
  for (r in e)
    at(e, r) && (n = Xn(r), n && (t[n] = e[r]));
  return t;
}
var VT = {
  date: 9,
  day: 11,
  weekday: 11,
  isoWeekday: 11,
  dayOfYear: 4,
  hour: 13,
  millisecond: 16,
  minute: 14,
  month: 8,
  quarter: 7,
  second: 15,
  weekYear: 1,
  isoWeekYear: 1,
  week: 5,
  isoWeek: 5,
  year: 1
};
function BT(e) {
  var t = [], n;
  for (n in e)
    at(e, n) && t.push({ unit: n, priority: VT[n] });
  return t.sort(function(r, i) {
    return r.priority - i.priority;
  }), t;
}
var C0 = /\d/, Mn = /\d\d/, S0 = /\d{3}/, Ff = /\d{4}/, Zl = /[+-]?\d{6}/, _t = /\d\d?/, I0 = /\d\d\d\d?/, _0 = /\d\d\d\d\d\d?/, ql = /\d{1,3}/, Pf = /\d{1,4}/, Jl = /[+-]?\d{1,6}/, Aa = /\d+/, Ql = /[+-]?\d+/, GT = /Z|[+-]\d\d:?\d\d/gi, Kl = /Z|[+-]\d\d(?::?\d\d)?/gi, YT = /[+-]?\d+(\.\d{1,3})?/, Us = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, Da = /^[1-9]\d?/, Lf = /^([1-9]\d|\d)/, pl;
pl = {};
function Me(e, t, n) {
  pl[e] = xr(t) ? t : function(r, i) {
    return r && n ? n : t;
  };
}
function WT(e, t) {
  return at(pl, e) ? pl[e](t._strict, t._locale) : new RegExp(zT(e));
}
function zT(e) {
  return Gr(
    e.replace("\\", "").replace(
      /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
      function(t, n, r, i, a) {
        return n || r || i || a;
      }
    )
  );
}
function Gr(e) {
  return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
}
function Pn(e) {
  return e < 0 ? Math.ceil(e) || 0 : Math.floor(e);
}
function Ke(e) {
  var t = +e, n = 0;
  return t !== 0 && isFinite(t) && (n = Pn(t)), n;
}
var ud = {};
function gt(e, t) {
  var n, r = t, i;
  for (typeof e == "string" && (e = [e]), jr(t) && (r = function(a, s) {
    s[t] = Ke(a);
  }), i = e.length, n = 0; n < i; n++)
    ud[e[n]] = r;
}
function Xs(e, t) {
  gt(e, function(n, r, i, a) {
    i._w = i._w || {}, t(n, i._w, i, a);
  });
}
function HT(e, t, n) {
  t != null && at(ud, e) && ud[e](t, n._a, n, e);
}
function ec(e) {
  return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0;
}
var cn = 0, Vr = 1, ur = 2, Ut = 3, er = 4, Br = 5, wi = 6, jT = 7, $T = 8;
Ve("Y", 0, 0, function() {
  var e = this.year();
  return e <= 9999 ? mr(e, 4) : "+" + e;
});
Ve(0, ["YY", 2], 0, function() {
  return this.year() % 100;
});
Ve(0, ["YYYY", 4], 0, "year");
Ve(0, ["YYYYY", 5], 0, "year");
Ve(0, ["YYYYYY", 6, !0], 0, "year");
Me("Y", Ql);
Me("YY", _t, Mn);
Me("YYYY", Pf, Ff);
Me("YYYYY", Jl, Zl);
Me("YYYYYY", Jl, Zl);
gt(["YYYYY", "YYYYYY"], cn);
gt("YYYY", function(e, t) {
  t[cn] = e.length === 2 ? xe.parseTwoDigitYear(e) : Ke(e);
});
gt("YY", function(e, t) {
  t[cn] = xe.parseTwoDigitYear(e);
});
gt("Y", function(e, t) {
  t[cn] = parseInt(e, 10);
});
function ss(e) {
  return ec(e) ? 366 : 365;
}
xe.parseTwoDigitYear = function(e) {
  return Ke(e) + (Ke(e) > 68 ? 1900 : 2e3);
};
var E0 = Oa("FullYear", !0);
function UT() {
  return ec(this.year());
}
function Oa(e, t) {
  return function(n) {
    return n != null ? (k0(this, e, n), xe.updateOffset(this, t), this) : xs(this, e);
  };
}
function xs(e, t) {
  if (!e.isValid())
    return NaN;
  var n = e._d, r = e._isUTC;
  switch (t) {
    case "Milliseconds":
      return r ? n.getUTCMilliseconds() : n.getMilliseconds();
    case "Seconds":
      return r ? n.getUTCSeconds() : n.getSeconds();
    case "Minutes":
      return r ? n.getUTCMinutes() : n.getMinutes();
    case "Hours":
      return r ? n.getUTCHours() : n.getHours();
    case "Date":
      return r ? n.getUTCDate() : n.getDate();
    case "Day":
      return r ? n.getUTCDay() : n.getDay();
    case "Month":
      return r ? n.getUTCMonth() : n.getMonth();
    case "FullYear":
      return r ? n.getUTCFullYear() : n.getFullYear();
    default:
      return NaN;
  }
}
function k0(e, t, n) {
  var r, i, a, s, o;
  if (!(!e.isValid() || isNaN(n))) {
    switch (r = e._d, i = e._isUTC, t) {
      case "Milliseconds":
        return void (i ? r.setUTCMilliseconds(n) : r.setMilliseconds(n));
      case "Seconds":
        return void (i ? r.setUTCSeconds(n) : r.setSeconds(n));
      case "Minutes":
        return void (i ? r.setUTCMinutes(n) : r.setMinutes(n));
      case "Hours":
        return void (i ? r.setUTCHours(n) : r.setHours(n));
      case "Date":
        return void (i ? r.setUTCDate(n) : r.setDate(n));
      // case 'Day': // Not real
      //    return void (isUTC ? d.setUTCDay(value) : d.setDay(value));
      // case 'Month': // Not used because we need to pass two variables
      //     return void (isUTC ? d.setUTCMonth(value) : d.setMonth(value));
      case "FullYear":
        break;
      // See below ...
      default:
        return;
    }
    a = n, s = e.month(), o = e.date(), o = o === 29 && s === 1 && !ec(a) ? 28 : o, i ? r.setUTCFullYear(a, s, o) : r.setFullYear(a, s, o);
  }
}
function XT(e) {
  return e = Xn(e), xr(this[e]) ? this[e]() : this;
}
function ZT(e, t) {
  if (typeof e == "object") {
    e = Tf(e);
    var n = BT(e), r, i = n.length;
    for (r = 0; r < i; r++)
      this[n[r].unit](e[n[r].unit]);
  } else if (e = Xn(e), xr(this[e]))
    return this[e](t);
  return this;
}
function qT(e, t) {
  return (e % t + t) % t;
}
var Vt;
Array.prototype.indexOf ? Vt = Array.prototype.indexOf : Vt = function(e) {
  var t;
  for (t = 0; t < this.length; ++t)
    if (this[t] === e)
      return t;
  return -1;
};
function Vf(e, t) {
  if (isNaN(e) || isNaN(t))
    return NaN;
  var n = qT(t, 12);
  return e += (t - n) / 12, n === 1 ? ec(e) ? 29 : 28 : 31 - n % 7 % 2;
}
Ve("M", ["MM", 2], "Mo", function() {
  return this.month() + 1;
});
Ve("MMM", 0, 0, function(e) {
  return this.localeData().monthsShort(this, e);
});
Ve("MMMM", 0, 0, function(e) {
  return this.localeData().months(this, e);
});
Me("M", _t, Da);
Me("MM", _t, Mn);
Me("MMM", function(e, t) {
  return t.monthsShortRegex(e);
});
Me("MMMM", function(e, t) {
  return t.monthsRegex(e);
});
gt(["M", "MM"], function(e, t) {
  t[Vr] = Ke(e) - 1;
});
gt(["MMM", "MMMM"], function(e, t, n, r) {
  var i = n._locale.monthsParse(e, r, n._strict);
  i != null ? t[Vr] = i : Ue(n).invalidMonth = e;
});
var JT = "January_February_March_April_May_June_July_August_September_October_November_December".split(
  "_"
), N0 = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), A0 = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, QT = Us, KT = Us;
function e2(e, t) {
  return e ? tr(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || A0).test(t) ? "format" : "standalone"][e.month()] : tr(this._months) ? this._months : this._months.standalone;
}
function t2(e, t) {
  return e ? tr(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[A0.test(t) ? "format" : "standalone"][e.month()] : tr(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
}
function n2(e, t, n) {
  var r, i, a, s = e.toLocaleLowerCase();
  if (!this._monthsParse)
    for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], r = 0; r < 12; ++r)
      a = br([2e3, r]), this._shortMonthsParse[r] = this.monthsShort(
        a,
        ""
      ).toLocaleLowerCase(), this._longMonthsParse[r] = this.months(a, "").toLocaleLowerCase();
  return n ? t === "MMM" ? (i = Vt.call(this._shortMonthsParse, s), i !== -1 ? i : null) : (i = Vt.call(this._longMonthsParse, s), i !== -1 ? i : null) : t === "MMM" ? (i = Vt.call(this._shortMonthsParse, s), i !== -1 ? i : (i = Vt.call(this._longMonthsParse, s), i !== -1 ? i : null)) : (i = Vt.call(this._longMonthsParse, s), i !== -1 ? i : (i = Vt.call(this._shortMonthsParse, s), i !== -1 ? i : null));
}
function r2(e, t, n) {
  var r, i, a;
  if (this._monthsParseExact)
    return n2.call(this, e, t, n);
  for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), r = 0; r < 12; r++) {
    if (i = br([2e3, r]), n && !this._longMonthsParse[r] && (this._longMonthsParse[r] = new RegExp(
      "^" + this.months(i, "").replace(".", "") + "$",
      "i"
    ), this._shortMonthsParse[r] = new RegExp(
      "^" + this.monthsShort(i, "").replace(".", "") + "$",
      "i"
    )), !n && !this._monthsParse[r] && (a = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""), this._monthsParse[r] = new RegExp(a.replace(".", ""), "i")), n && t === "MMMM" && this._longMonthsParse[r].test(e))
      return r;
    if (n && t === "MMM" && this._shortMonthsParse[r].test(e))
      return r;
    if (!n && this._monthsParse[r].test(e))
      return r;
  }
}
function D0(e, t) {
  if (!e.isValid())
    return e;
  if (typeof t == "string") {
    if (/^\d+$/.test(t))
      t = Ke(t);
    else if (t = e.localeData().monthsParse(t), !jr(t))
      return e;
  }
  var n = t, r = e.date();
  return r = r < 29 ? r : Math.min(r, Vf(e.year(), n)), e._isUTC ? e._d.setUTCMonth(n, r) : e._d.setMonth(n, r), e;
}
function O0(e) {
  return e != null ? (D0(this, e), xe.updateOffset(this, !0), this) : xs(this, "Month");
}
function i2() {
  return Vf(this.year(), this.month());
}
function a2(e) {
  return this._monthsParseExact ? (at(this, "_monthsRegex") || M0.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (at(this, "_monthsShortRegex") || (this._monthsShortRegex = QT), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex);
}
function s2(e) {
  return this._monthsParseExact ? (at(this, "_monthsRegex") || M0.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (at(this, "_monthsRegex") || (this._monthsRegex = KT), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex);
}
function M0() {
  function e(c, u) {
    return u.length - c.length;
  }
  var t = [], n = [], r = [], i, a, s, o;
  for (i = 0; i < 12; i++)
    a = br([2e3, i]), s = Gr(this.monthsShort(a, "")), o = Gr(this.months(a, "")), t.push(s), n.push(o), r.push(o), r.push(s);
  t.sort(e), n.sort(e), r.sort(e), this._monthsRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp(
    "^(" + n.join("|") + ")",
    "i"
  ), this._monthsShortStrictRegex = new RegExp(
    "^(" + t.join("|") + ")",
    "i"
  );
}
function o2(e, t, n, r, i, a, s) {
  var o;
  return e < 100 && e >= 0 ? (o = new Date(e + 400, t, n, r, i, a, s), isFinite(o.getFullYear()) && o.setFullYear(e)) : o = new Date(e, t, n, r, i, a, s), o;
}
function ws(e) {
  var t, n;
  return e < 100 && e >= 0 ? (n = Array.prototype.slice.call(arguments), n[0] = e + 400, t = new Date(Date.UTC.apply(null, n)), isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e)) : t = new Date(Date.UTC.apply(null, arguments)), t;
}
function hl(e, t, n) {
  var r = 7 + t - n, i = (7 + ws(e, 0, r).getUTCDay() - t) % 7;
  return -i + r - 1;
}
function R0(e, t, n, r, i) {
  var a = (7 + n - r) % 7, s = hl(e, r, i), o = 1 + 7 * (t - 1) + a + s, c, u;
  return o <= 0 ? (c = e - 1, u = ss(c) + o) : o > ss(e) ? (c = e + 1, u = o - ss(e)) : (c = e, u = o), {
    year: c,
    dayOfYear: u
  };
}
function Cs(e, t, n) {
  var r = hl(e.year(), t, n), i = Math.floor((e.dayOfYear() - r - 1) / 7) + 1, a, s;
  return i < 1 ? (s = e.year() - 1, a = i + Yr(s, t, n)) : i > Yr(e.year(), t, n) ? (a = i - Yr(e.year(), t, n), s = e.year() + 1) : (s = e.year(), a = i), {
    week: a,
    year: s
  };
}
function Yr(e, t, n) {
  var r = hl(e, t, n), i = hl(e + 1, t, n);
  return (ss(e) - r + i) / 7;
}
Ve("w", ["ww", 2], "wo", "week");
Ve("W", ["WW", 2], "Wo", "isoWeek");
Me("w", _t, Da);
Me("ww", _t, Mn);
Me("W", _t, Da);
Me("WW", _t, Mn);
Xs(
  ["w", "ww", "W", "WW"],
  function(e, t, n, r) {
    t[r.substr(0, 1)] = Ke(e);
  }
);
function l2(e) {
  return Cs(e, this._week.dow, this._week.doy).week;
}
var c2 = {
  dow: 0,
  // Sunday is the first day of the week.
  doy: 6
  // The week that contains Jan 6th is the first week of the year.
};
function u2() {
  return this._week.dow;
}
function d2() {
  return this._week.doy;
}
function f2(e) {
  var t = this.localeData().week(this);
  return e == null ? t : this.add((e - t) * 7, "d");
}
function p2(e) {
  var t = Cs(this, 1, 4).week;
  return e == null ? t : this.add((e - t) * 7, "d");
}
Ve("d", 0, "do", "day");
Ve("dd", 0, 0, function(e) {
  return this.localeData().weekdaysMin(this, e);
});
Ve("ddd", 0, 0, function(e) {
  return this.localeData().weekdaysShort(this, e);
});
Ve("dddd", 0, 0, function(e) {
  return this.localeData().weekdays(this, e);
});
Ve("e", 0, 0, "weekday");
Ve("E", 0, 0, "isoWeekday");
Me("d", _t);
Me("e", _t);
Me("E", _t);
Me("dd", function(e, t) {
  return t.weekdaysMinRegex(e);
});
Me("ddd", function(e, t) {
  return t.weekdaysShortRegex(e);
});
Me("dddd", function(e, t) {
  return t.weekdaysRegex(e);
});
Xs(["dd", "ddd", "dddd"], function(e, t, n, r) {
  var i = n._locale.weekdaysParse(e, r, n._strict);
  i != null ? t.d = i : Ue(n).invalidWeekday = e;
});
Xs(["d", "e", "E"], function(e, t, n, r) {
  t[r] = Ke(e);
});
function h2(e, t) {
  return typeof e != "string" ? e : isNaN(e) ? (e = t.weekdaysParse(e), typeof e == "number" ? e : null) : parseInt(e, 10);
}
function m2(e, t) {
  return typeof e == "string" ? t.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e;
}
function Bf(e, t) {
  return e.slice(t, 7).concat(e.slice(0, t));
}
var g2 = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), T0 = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), v2 = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), y2 = Us, b2 = Us, x2 = Us;
function w2(e, t) {
  var n = tr(this._weekdays) ? this._weekdays : this._weekdays[e && e !== !0 && this._weekdays.isFormat.test(t) ? "format" : "standalone"];
  return e === !0 ? Bf(n, this._week.dow) : e ? n[e.day()] : n;
}
function C2(e) {
  return e === !0 ? Bf(this._weekdaysShort, this._week.dow) : e ? this._weekdaysShort[e.day()] : this._weekdaysShort;
}
function S2(e) {
  return e === !0 ? Bf(this._weekdaysMin, this._week.dow) : e ? this._weekdaysMin[e.day()] : this._weekdaysMin;
}
function I2(e, t, n) {
  var r, i, a, s = e.toLocaleLowerCase();
  if (!this._weekdaysParse)
    for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], r = 0; r < 7; ++r)
      a = br([2e3, 1]).day(r), this._minWeekdaysParse[r] = this.weekdaysMin(
        a,
        ""
      ).toLocaleLowerCase(), this._shortWeekdaysParse[r] = this.weekdaysShort(
        a,
        ""
      ).toLocaleLowerCase(), this._weekdaysParse[r] = this.weekdays(a, "").toLocaleLowerCase();
  return n ? t === "dddd" ? (i = Vt.call(this._weekdaysParse, s), i !== -1 ? i : null) : t === "ddd" ? (i = Vt.call(this._shortWeekdaysParse, s), i !== -1 ? i : null) : (i = Vt.call(this._minWeekdaysParse, s), i !== -1 ? i : null) : t === "dddd" ? (i = Vt.call(this._weekdaysParse, s), i !== -1 || (i = Vt.call(this._shortWeekdaysParse, s), i !== -1) ? i : (i = Vt.call(this._minWeekdaysParse, s), i !== -1 ? i : null)) : t === "ddd" ? (i = Vt.call(this._shortWeekdaysParse, s), i !== -1 || (i = Vt.call(this._weekdaysParse, s), i !== -1) ? i : (i = Vt.call(this._minWeekdaysParse, s), i !== -1 ? i : null)) : (i = Vt.call(this._minWeekdaysParse, s), i !== -1 || (i = Vt.call(this._weekdaysParse, s), i !== -1) ? i : (i = Vt.call(this._shortWeekdaysParse, s), i !== -1 ? i : null));
}
function _2(e, t, n) {
  var r, i, a;
  if (this._weekdaysParseExact)
    return I2.call(this, e, t, n);
  for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), r = 0; r < 7; r++) {
    if (i = br([2e3, 1]).day(r), n && !this._fullWeekdaysParse[r] && (this._fullWeekdaysParse[r] = new RegExp(
      "^" + this.weekdays(i, "").replace(".", "\\.?") + "$",
      "i"
    ), this._shortWeekdaysParse[r] = new RegExp(
      "^" + this.weekdaysShort(i, "").replace(".", "\\.?") + "$",
      "i"
    ), this._minWeekdaysParse[r] = new RegExp(
      "^" + this.weekdaysMin(i, "").replace(".", "\\.?") + "$",
      "i"
    )), this._weekdaysParse[r] || (a = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[r] = new RegExp(a.replace(".", ""), "i")), n && t === "dddd" && this._fullWeekdaysParse[r].test(e))
      return r;
    if (n && t === "ddd" && this._shortWeekdaysParse[r].test(e))
      return r;
    if (n && t === "dd" && this._minWeekdaysParse[r].test(e))
      return r;
    if (!n && this._weekdaysParse[r].test(e))
      return r;
  }
}
function E2(e) {
  if (!this.isValid())
    return e != null ? this : NaN;
  var t = xs(this, "Day");
  return e != null ? (e = h2(e, this.localeData()), this.add(e - t, "d")) : t;
}
function k2(e) {
  if (!this.isValid())
    return e != null ? this : NaN;
  var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
  return e == null ? t : this.add(e - t, "d");
}
function N2(e) {
  if (!this.isValid())
    return e != null ? this : NaN;
  if (e != null) {
    var t = m2(e, this.localeData());
    return this.day(this.day() % 7 ? t : t - 7);
  } else
    return this.day() || 7;
}
function A2(e) {
  return this._weekdaysParseExact ? (at(this, "_weekdaysRegex") || Gf.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (at(this, "_weekdaysRegex") || (this._weekdaysRegex = y2), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex);
}
function D2(e) {
  return this._weekdaysParseExact ? (at(this, "_weekdaysRegex") || Gf.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (at(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = b2), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
}
function O2(e) {
  return this._weekdaysParseExact ? (at(this, "_weekdaysRegex") || Gf.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (at(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = x2), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
}
function Gf() {
  function e(f, p) {
    return p.length - f.length;
  }
  var t = [], n = [], r = [], i = [], a, s, o, c, u;
  for (a = 0; a < 7; a++)
    s = br([2e3, 1]).day(a), o = Gr(this.weekdaysMin(s, "")), c = Gr(this.weekdaysShort(s, "")), u = Gr(this.weekdays(s, "")), t.push(o), n.push(c), r.push(u), i.push(o), i.push(c), i.push(u);
  t.sort(e), n.sort(e), r.sort(e), i.sort(e), this._weekdaysRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp(
    "^(" + r.join("|") + ")",
    "i"
  ), this._weekdaysShortStrictRegex = new RegExp(
    "^(" + n.join("|") + ")",
    "i"
  ), this._weekdaysMinStrictRegex = new RegExp(
    "^(" + t.join("|") + ")",
    "i"
  );
}
function Yf() {
  return this.hours() % 12 || 12;
}
function M2() {
  return this.hours() || 24;
}
Ve("H", ["HH", 2], 0, "hour");
Ve("h", ["hh", 2], 0, Yf);
Ve("k", ["kk", 2], 0, M2);
Ve("hmm", 0, 0, function() {
  return "" + Yf.apply(this) + mr(this.minutes(), 2);
});
Ve("hmmss", 0, 0, function() {
  return "" + Yf.apply(this) + mr(this.minutes(), 2) + mr(this.seconds(), 2);
});
Ve("Hmm", 0, 0, function() {
  return "" + this.hours() + mr(this.minutes(), 2);
});
Ve("Hmmss", 0, 0, function() {
  return "" + this.hours() + mr(this.minutes(), 2) + mr(this.seconds(), 2);
});
function F0(e, t) {
  Ve(e, 0, 0, function() {
    return this.localeData().meridiem(
      this.hours(),
      this.minutes(),
      t
    );
  });
}
F0("a", !0);
F0("A", !1);
function P0(e, t) {
  return t._meridiemParse;
}
Me("a", P0);
Me("A", P0);
Me("H", _t, Lf);
Me("h", _t, Da);
Me("k", _t, Da);
Me("HH", _t, Mn);
Me("hh", _t, Mn);
Me("kk", _t, Mn);
Me("hmm", I0);
Me("hmmss", _0);
Me("Hmm", I0);
Me("Hmmss", _0);
gt(["H", "HH"], Ut);
gt(["k", "kk"], function(e, t, n) {
  var r = Ke(e);
  t[Ut] = r === 24 ? 0 : r;
});
gt(["a", "A"], function(e, t, n) {
  n._isPm = n._locale.isPM(e), n._meridiem = e;
});
gt(["h", "hh"], function(e, t, n) {
  t[Ut] = Ke(e), Ue(n).bigHour = !0;
});
gt("hmm", function(e, t, n) {
  var r = e.length - 2;
  t[Ut] = Ke(e.substr(0, r)), t[er] = Ke(e.substr(r)), Ue(n).bigHour = !0;
});
gt("hmmss", function(e, t, n) {
  var r = e.length - 4, i = e.length - 2;
  t[Ut] = Ke(e.substr(0, r)), t[er] = Ke(e.substr(r, 2)), t[Br] = Ke(e.substr(i)), Ue(n).bigHour = !0;
});
gt("Hmm", function(e, t, n) {
  var r = e.length - 2;
  t[Ut] = Ke(e.substr(0, r)), t[er] = Ke(e.substr(r));
});
gt("Hmmss", function(e, t, n) {
  var r = e.length - 4, i = e.length - 2;
  t[Ut] = Ke(e.substr(0, r)), t[er] = Ke(e.substr(r, 2)), t[Br] = Ke(e.substr(i));
});
function R2(e) {
  return (e + "").toLowerCase().charAt(0) === "p";
}
var T2 = /[ap]\.?m?\.?/i, F2 = Oa("Hours", !0);
function P2(e, t, n) {
  return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM";
}
var L0 = {
  calendar: IT,
  longDateFormat: NT,
  invalidDate: DT,
  ordinal: MT,
  dayOfMonthOrdinalParse: RT,
  relativeTime: FT,
  months: JT,
  monthsShort: N0,
  week: c2,
  weekdays: g2,
  weekdaysMin: v2,
  weekdaysShort: T0,
  meridiemParse: T2
}, Nt = {}, Xa = {}, Ss;
function L2(e, t) {
  var n, r = Math.min(e.length, t.length);
  for (n = 0; n < r; n += 1)
    if (e[n] !== t[n])
      return n;
  return r;
}
function Km(e) {
  return e && e.toLowerCase().replace("_", "-");
}
function V2(e) {
  for (var t = 0, n, r, i, a; t < e.length; ) {
    for (a = Km(e[t]).split("-"), n = a.length, r = Km(e[t + 1]), r = r ? r.split("-") : null; n > 0; ) {
      if (i = tc(a.slice(0, n).join("-")), i)
        return i;
      if (r && r.length >= n && L2(a, r) >= n - 1)
        break;
      n--;
    }
    t++;
  }
  return Ss;
}
function B2(e) {
  return !!(e && e.match("^[^/\\\\]*$"));
}
function tc(e) {
  var t = null, n;
  if (Nt[e] === void 0 && typeof module < "u" && module && module.exports && B2(e))
    try {
      t = Ss._abbr, n = require, n("./locale/" + e), ni(t);
    } catch {
      Nt[e] = null;
    }
  return Nt[e];
}
function ni(e, t) {
  var n;
  return e && (gn(t) ? n = Ur(e) : n = Wf(e, t), n ? Ss = n : typeof console < "u" && console.warn && console.warn(
    "Locale " + e + " not found. Did you forget to load it?"
  )), Ss._abbr;
}
function Wf(e, t) {
  if (t !== null) {
    var n, r = L0;
    if (t.abbr = e, Nt[e] != null)
      x0(
        "defineLocaleOverride",
        "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."
      ), r = Nt[e]._config;
    else if (t.parentLocale != null)
      if (Nt[t.parentLocale] != null)
        r = Nt[t.parentLocale]._config;
      else if (n = tc(t.parentLocale), n != null)
        r = n._config;
      else
        return Xa[t.parentLocale] || (Xa[t.parentLocale] = []), Xa[t.parentLocale].push({
          name: e,
          config: t
        }), null;
    return Nt[e] = new Mf(ld(r, t)), Xa[e] && Xa[e].forEach(function(i) {
      Wf(i.name, i.config);
    }), ni(e), Nt[e];
  } else
    return delete Nt[e], null;
}
function G2(e, t) {
  if (t != null) {
    var n, r, i = L0;
    Nt[e] != null && Nt[e].parentLocale != null ? Nt[e].set(ld(Nt[e]._config, t)) : (r = tc(e), r != null && (i = r._config), t = ld(i, t), r == null && (t.abbr = e), n = new Mf(t), n.parentLocale = Nt[e], Nt[e] = n), ni(e);
  } else
    Nt[e] != null && (Nt[e].parentLocale != null ? (Nt[e] = Nt[e].parentLocale, e === ni() && ni(e)) : Nt[e] != null && delete Nt[e]);
  return Nt[e];
}
function Ur(e) {
  var t;
  if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e)
    return Ss;
  if (!tr(e)) {
    if (t = tc(e), t)
      return t;
    e = [e];
  }
  return V2(e);
}
function Y2() {
  return cd(Nt);
}
function zf(e) {
  var t, n = e._a;
  return n && Ue(e).overflow === -2 && (t = n[Vr] < 0 || n[Vr] > 11 ? Vr : n[ur] < 1 || n[ur] > Vf(n[cn], n[Vr]) ? ur : n[Ut] < 0 || n[Ut] > 24 || n[Ut] === 24 && (n[er] !== 0 || n[Br] !== 0 || n[wi] !== 0) ? Ut : n[er] < 0 || n[er] > 59 ? er : n[Br] < 0 || n[Br] > 59 ? Br : n[wi] < 0 || n[wi] > 999 ? wi : -1, Ue(e)._overflowDayOfYear && (t < cn || t > ur) && (t = ur), Ue(e)._overflowWeeks && t === -1 && (t = jT), Ue(e)._overflowWeekday && t === -1 && (t = $T), Ue(e).overflow = t), e;
}
var W2 = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, z2 = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, H2 = /Z|[+-]\d\d(?::?\d\d)?/, Eo = [
  ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
  ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
  ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
  ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
  ["YYYY-DDD", /\d{4}-\d{3}/],
  ["YYYY-MM", /\d{4}-\d\d/, !1],
  ["YYYYYYMMDD", /[+-]\d{10}/],
  ["YYYYMMDD", /\d{8}/],
  ["GGGG[W]WWE", /\d{4}W\d{3}/],
  ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
  ["YYYYDDD", /\d{7}/],
  ["YYYYMM", /\d{6}/, !1],
  ["YYYY", /\d{4}/, !1]
], hu = [
  ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
  ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
  ["HH:mm:ss", /\d\d:\d\d:\d\d/],
  ["HH:mm", /\d\d:\d\d/],
  ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
  ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
  ["HHmmss", /\d\d\d\d\d\d/],
  ["HHmm", /\d\d\d\d/],
  ["HH", /\d\d/]
], j2 = /^\/?Date\((-?\d+)/i, $2 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, U2 = {
  UT: 0,
  GMT: 0,
  EDT: -240,
  EST: -300,
  CDT: -300,
  CST: -360,
  MDT: -360,
  MST: -420,
  PDT: -420,
  PST: -480
};
function V0(e) {
  var t, n, r = e._i, i = W2.exec(r) || z2.exec(r), a, s, o, c, u = Eo.length, f = hu.length;
  if (i) {
    for (Ue(e).iso = !0, t = 0, n = u; t < n; t++)
      if (Eo[t][1].exec(i[1])) {
        s = Eo[t][0], a = Eo[t][2] !== !1;
        break;
      }
    if (s == null) {
      e._isValid = !1;
      return;
    }
    if (i[3]) {
      for (t = 0, n = f; t < n; t++)
        if (hu[t][1].exec(i[3])) {
          o = (i[2] || " ") + hu[t][0];
          break;
        }
      if (o == null) {
        e._isValid = !1;
        return;
      }
    }
    if (!a && o != null) {
      e._isValid = !1;
      return;
    }
    if (i[4])
      if (H2.exec(i[4]))
        c = "Z";
      else {
        e._isValid = !1;
        return;
      }
    e._f = s + (o || "") + (c || ""), jf(e);
  } else
    e._isValid = !1;
}
function X2(e, t, n, r, i, a) {
  var s = [
    Z2(e),
    N0.indexOf(t),
    parseInt(n, 10),
    parseInt(r, 10),
    parseInt(i, 10)
  ];
  return a && s.push(parseInt(a, 10)), s;
}
function Z2(e) {
  var t = parseInt(e, 10);
  return t <= 49 ? 2e3 + t : t <= 999 ? 1900 + t : t;
}
function q2(e) {
  return e.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
}
function J2(e, t, n) {
  if (e) {
    var r = T0.indexOf(e), i = new Date(
      t[0],
      t[1],
      t[2]
    ).getDay();
    if (r !== i)
      return Ue(n).weekdayMismatch = !0, n._isValid = !1, !1;
  }
  return !0;
}
function Q2(e, t, n) {
  if (e)
    return U2[e];
  if (t)
    return 0;
  var r = parseInt(n, 10), i = r % 100, a = (r - i) / 100;
  return a * 60 + i;
}
function B0(e) {
  var t = $2.exec(q2(e._i)), n;
  if (t) {
    if (n = X2(
      t[4],
      t[3],
      t[2],
      t[5],
      t[6],
      t[7]
    ), !J2(t[1], n, e))
      return;
    e._a = n, e._tzm = Q2(t[8], t[9], t[10]), e._d = ws.apply(null, e._a), e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), Ue(e).rfc2822 = !0;
  } else
    e._isValid = !1;
}
function K2(e) {
  var t = j2.exec(e._i);
  if (t !== null) {
    e._d = /* @__PURE__ */ new Date(+t[1]);
    return;
  }
  if (V0(e), e._isValid === !1)
    delete e._isValid;
  else
    return;
  if (B0(e), e._isValid === !1)
    delete e._isValid;
  else
    return;
  e._strict ? e._isValid = !1 : xe.createFromInputFallback(e);
}
xe.createFromInputFallback = Un(
  "value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
  function(e) {
    e._d = /* @__PURE__ */ new Date(e._i + (e._useUTC ? " UTC" : ""));
  }
);
function ra(e, t, n) {
  return e ?? t ?? n;
}
function eF(e) {
  var t = new Date(xe.now());
  return e._useUTC ? [
    t.getUTCFullYear(),
    t.getUTCMonth(),
    t.getUTCDate()
  ] : [t.getFullYear(), t.getMonth(), t.getDate()];
}
function Hf(e) {
  var t, n, r = [], i, a, s;
  if (!e._d) {
    for (i = eF(e), e._w && e._a[ur] == null && e._a[Vr] == null && tF(e), e._dayOfYear != null && (s = ra(e._a[cn], i[cn]), (e._dayOfYear > ss(s) || e._dayOfYear === 0) && (Ue(e)._overflowDayOfYear = !0), n = ws(s, 0, e._dayOfYear), e._a[Vr] = n.getUTCMonth(), e._a[ur] = n.getUTCDate()), t = 0; t < 3 && e._a[t] == null; ++t)
      e._a[t] = r[t] = i[t];
    for (; t < 7; t++)
      e._a[t] = r[t] = e._a[t] == null ? t === 2 ? 1 : 0 : e._a[t];
    e._a[Ut] === 24 && e._a[er] === 0 && e._a[Br] === 0 && e._a[wi] === 0 && (e._nextDay = !0, e._a[Ut] = 0), e._d = (e._useUTC ? ws : o2).apply(
      null,
      r
    ), a = e._useUTC ? e._d.getUTCDay() : e._d.getDay(), e._tzm != null && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[Ut] = 24), e._w && typeof e._w.d < "u" && e._w.d !== a && (Ue(e).weekdayMismatch = !0);
  }
}
function tF(e) {
  var t, n, r, i, a, s, o, c, u;
  t = e._w, t.GG != null || t.W != null || t.E != null ? (a = 1, s = 4, n = ra(
    t.GG,
    e._a[cn],
    Cs(It(), 1, 4).year
  ), r = ra(t.W, 1), i = ra(t.E, 1), (i < 1 || i > 7) && (c = !0)) : (a = e._locale._week.dow, s = e._locale._week.doy, u = Cs(It(), a, s), n = ra(t.gg, e._a[cn], u.year), r = ra(t.w, u.week), t.d != null ? (i = t.d, (i < 0 || i > 6) && (c = !0)) : t.e != null ? (i = t.e + a, (t.e < 0 || t.e > 6) && (c = !0)) : i = a), r < 1 || r > Yr(n, a, s) ? Ue(e)._overflowWeeks = !0 : c != null ? Ue(e)._overflowWeekday = !0 : (o = R0(n, r, i, a, s), e._a[cn] = o.year, e._dayOfYear = o.dayOfYear);
}
xe.ISO_8601 = function() {
};
xe.RFC_2822 = function() {
};
function jf(e) {
  if (e._f === xe.ISO_8601) {
    V0(e);
    return;
  }
  if (e._f === xe.RFC_2822) {
    B0(e);
    return;
  }
  e._a = [], Ue(e).empty = !0;
  var t = "" + e._i, n, r, i, a, s, o = t.length, c = 0, u, f;
  for (i = w0(e._f, e._locale).match(Rf) || [], f = i.length, n = 0; n < f; n++)
    a = i[n], r = (t.match(WT(a, e)) || [])[0], r && (s = t.substr(0, t.indexOf(r)), s.length > 0 && Ue(e).unusedInput.push(s), t = t.slice(
      t.indexOf(r) + r.length
    ), c += r.length), ua[a] ? (r ? Ue(e).empty = !1 : Ue(e).unusedTokens.push(a), HT(a, r, e)) : e._strict && !r && Ue(e).unusedTokens.push(a);
  Ue(e).charsLeftOver = o - c, t.length > 0 && Ue(e).unusedInput.push(t), e._a[Ut] <= 12 && Ue(e).bigHour === !0 && e._a[Ut] > 0 && (Ue(e).bigHour = void 0), Ue(e).parsedDateParts = e._a.slice(0), Ue(e).meridiem = e._meridiem, e._a[Ut] = nF(
    e._locale,
    e._a[Ut],
    e._meridiem
  ), u = Ue(e).era, u !== null && (e._a[cn] = e._locale.erasConvertYear(u, e._a[cn])), Hf(e), zf(e);
}
function nF(e, t, n) {
  var r;
  return n == null ? t : e.meridiemHour != null ? e.meridiemHour(t, n) : (e.isPM != null && (r = e.isPM(n), r && t < 12 && (t += 12), !r && t === 12 && (t = 0)), t);
}
function rF(e) {
  var t, n, r, i, a, s, o = !1, c = e._f.length;
  if (c === 0) {
    Ue(e).invalidFormat = !0, e._d = /* @__PURE__ */ new Date(NaN);
    return;
  }
  for (i = 0; i < c; i++)
    a = 0, s = !1, t = Of({}, e), e._useUTC != null && (t._useUTC = e._useUTC), t._f = e._f[i], jf(t), Df(t) && (s = !0), a += Ue(t).charsLeftOver, a += Ue(t).unusedTokens.length * 10, Ue(t).score = a, o ? a < r && (r = a, n = t) : (r == null || a < r || s) && (r = a, n = t, s && (o = !0));
  ei(e, n || t);
}
function iF(e) {
  if (!e._d) {
    var t = Tf(e._i), n = t.day === void 0 ? t.date : t.day;
    e._a = y0(
      [t.year, t.month, n, t.hour, t.minute, t.second, t.millisecond],
      function(r) {
        return r && parseInt(r, 10);
      }
    ), Hf(e);
  }
}
function aF(e) {
  var t = new $s(zf(G0(e)));
  return t._nextDay && (t.add(1, "d"), t._nextDay = void 0), t;
}
function G0(e) {
  var t = e._i, n = e._f;
  return e._locale = e._locale || Ur(e._l), t === null || n === void 0 && t === "" ? Xl({ nullInput: !0 }) : (typeof t == "string" && (e._i = t = e._locale.preparse(t)), nr(t) ? new $s(zf(t)) : (js(t) ? e._d = t : tr(n) ? rF(e) : n ? jf(e) : sF(e), Df(e) || (e._d = null), e));
}
function sF(e) {
  var t = e._i;
  gn(t) ? e._d = new Date(xe.now()) : js(t) ? e._d = new Date(t.valueOf()) : typeof t == "string" ? K2(e) : tr(t) ? (e._a = y0(t.slice(0), function(n) {
    return parseInt(n, 10);
  }), Hf(e)) : ki(t) ? iF(e) : jr(t) ? e._d = new Date(t) : xe.createFromInputFallback(e);
}
function Y0(e, t, n, r, i) {
  var a = {};
  return (t === !0 || t === !1) && (r = t, t = void 0), (n === !0 || n === !1) && (r = n, n = void 0), (ki(e) && Af(e) || tr(e) && e.length === 0) && (e = void 0), a._isAMomentObject = !0, a._useUTC = a._isUTC = i, a._l = n, a._i = e, a._f = t, a._strict = r, aF(a);
}
function It(e, t, n, r) {
  return Y0(e, t, n, r, !1);
}
var oF = Un(
  "moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",
  function() {
    var e = It.apply(null, arguments);
    return this.isValid() && e.isValid() ? e < this ? this : e : Xl();
  }
), lF = Un(
  "moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",
  function() {
    var e = It.apply(null, arguments);
    return this.isValid() && e.isValid() ? e > this ? this : e : Xl();
  }
);
function W0(e, t) {
  var n, r;
  if (t.length === 1 && tr(t[0]) && (t = t[0]), !t.length)
    return It();
  for (n = t[0], r = 1; r < t.length; ++r)
    (!t[r].isValid() || t[r][e](n)) && (n = t[r]);
  return n;
}
function cF() {
  var e = [].slice.call(arguments, 0);
  return W0("isBefore", e);
}
function uF() {
  var e = [].slice.call(arguments, 0);
  return W0("isAfter", e);
}
var dF = function() {
  return Date.now ? Date.now() : +/* @__PURE__ */ new Date();
}, Za = [
  "year",
  "quarter",
  "month",
  "week",
  "day",
  "hour",
  "minute",
  "second",
  "millisecond"
];
function fF(e) {
  var t, n = !1, r, i = Za.length;
  for (t in e)
    if (at(e, t) && !(Vt.call(Za, t) !== -1 && (e[t] == null || !isNaN(e[t]))))
      return !1;
  for (r = 0; r < i; ++r)
    if (e[Za[r]]) {
      if (n)
        return !1;
      parseFloat(e[Za[r]]) !== Ke(e[Za[r]]) && (n = !0);
    }
  return !0;
}
function pF() {
  return this._isValid;
}
function hF() {
  return rr(NaN);
}
function nc(e) {
  var t = Tf(e), n = t.year || 0, r = t.quarter || 0, i = t.month || 0, a = t.week || t.isoWeek || 0, s = t.day || 0, o = t.hour || 0, c = t.minute || 0, u = t.second || 0, f = t.millisecond || 0;
  this._isValid = fF(t), this._milliseconds = +f + u * 1e3 + // 1000
  c * 6e4 + // 1000 * 60
  o * 1e3 * 60 * 60, this._days = +s + a * 7, this._months = +i + r * 3 + n * 12, this._data = {}, this._locale = Ur(), this._bubble();
}
function Bo(e) {
  return e instanceof nc;
}
function dd(e) {
  return e < 0 ? Math.round(-1 * e) * -1 : Math.round(e);
}
function mF(e, t, n) {
  var r = Math.min(e.length, t.length), i = Math.abs(e.length - t.length), a = 0, s;
  for (s = 0; s < r; s++)
    Ke(e[s]) !== Ke(t[s]) && a++;
  return a + i;
}
function z0(e, t) {
  Ve(e, 0, 0, function() {
    var n = this.utcOffset(), r = "+";
    return n < 0 && (n = -n, r = "-"), r + mr(~~(n / 60), 2) + t + mr(~~n % 60, 2);
  });
}
z0("Z", ":");
z0("ZZ", "");
Me("Z", Kl);
Me("ZZ", Kl);
gt(["Z", "ZZ"], function(e, t, n) {
  n._useUTC = !0, n._tzm = $f(Kl, e);
});
var gF = /([\+\-]|\d\d)/gi;
function $f(e, t) {
  var n = (t || "").match(e), r, i, a;
  return n === null ? null : (r = n[n.length - 1] || [], i = (r + "").match(gF) || ["-", 0, 0], a = +(i[1] * 60) + Ke(i[2]), a === 0 ? 0 : i[0] === "+" ? a : -a);
}
function Uf(e, t) {
  var n, r;
  return t._isUTC ? (n = t.clone(), r = (nr(e) || js(e) ? e.valueOf() : It(e).valueOf()) - n.valueOf(), n._d.setTime(n._d.valueOf() + r), xe.updateOffset(n, !1), n) : It(e).local();
}
function fd(e) {
  return -Math.round(e._d.getTimezoneOffset());
}
xe.updateOffset = function() {
};
function vF(e, t, n) {
  var r = this._offset || 0, i;
  if (!this.isValid())
    return e != null ? this : NaN;
  if (e != null) {
    if (typeof e == "string") {
      if (e = $f(Kl, e), e === null)
        return this;
    } else Math.abs(e) < 16 && !n && (e = e * 60);
    return !this._isUTC && t && (i = fd(this)), this._offset = e, this._isUTC = !0, i != null && this.add(i, "m"), r !== e && (!t || this._changeInProgress ? $0(
      this,
      rr(e - r, "m"),
      1,
      !1
    ) : this._changeInProgress || (this._changeInProgress = !0, xe.updateOffset(this, !0), this._changeInProgress = null)), this;
  } else
    return this._isUTC ? r : fd(this);
}
function yF(e, t) {
  return e != null ? (typeof e != "string" && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset();
}
function bF(e) {
  return this.utcOffset(0, e);
}
function xF(e) {
  return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(fd(this), "m")), this;
}
function wF() {
  if (this._tzm != null)
    this.utcOffset(this._tzm, !1, !0);
  else if (typeof this._i == "string") {
    var e = $f(GT, this._i);
    e != null ? this.utcOffset(e) : this.utcOffset(0, !0);
  }
  return this;
}
function CF(e) {
  return this.isValid() ? (e = e ? It(e).utcOffset() : 0, (this.utcOffset() - e) % 60 === 0) : !1;
}
function SF() {
  return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
}
function IF() {
  if (!gn(this._isDSTShifted))
    return this._isDSTShifted;
  var e = {}, t;
  return Of(e, this), e = G0(e), e._a ? (t = e._isUTC ? br(e._a) : It(e._a), this._isDSTShifted = this.isValid() && mF(e._a, t.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted;
}
function _F() {
  return this.isValid() ? !this._isUTC : !1;
}
function EF() {
  return this.isValid() ? this._isUTC : !1;
}
function H0() {
  return this.isValid() ? this._isUTC && this._offset === 0 : !1;
}
var kF = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, NF = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
function rr(e, t) {
  var n = e, r = null, i, a, s;
  return Bo(e) ? n = {
    ms: e._milliseconds,
    d: e._days,
    M: e._months
  } : jr(e) || !isNaN(+e) ? (n = {}, t ? n[t] = +e : n.milliseconds = +e) : (r = kF.exec(e)) ? (i = r[1] === "-" ? -1 : 1, n = {
    y: 0,
    d: Ke(r[ur]) * i,
    h: Ke(r[Ut]) * i,
    m: Ke(r[er]) * i,
    s: Ke(r[Br]) * i,
    ms: Ke(dd(r[wi] * 1e3)) * i
    // the millisecond decimal point is included in the match
  }) : (r = NF.exec(e)) ? (i = r[1] === "-" ? -1 : 1, n = {
    y: hi(r[2], i),
    M: hi(r[3], i),
    w: hi(r[4], i),
    d: hi(r[5], i),
    h: hi(r[6], i),
    m: hi(r[7], i),
    s: hi(r[8], i)
  }) : n == null ? n = {} : typeof n == "object" && ("from" in n || "to" in n) && (s = AF(
    It(n.from),
    It(n.to)
  ), n = {}, n.ms = s.milliseconds, n.M = s.months), a = new nc(n), Bo(e) && at(e, "_locale") && (a._locale = e._locale), Bo(e) && at(e, "_isValid") && (a._isValid = e._isValid), a;
}
rr.fn = nc.prototype;
rr.invalid = hF;
function hi(e, t) {
  var n = e && parseFloat(e.replace(",", "."));
  return (isNaN(n) ? 0 : n) * t;
}
function eg(e, t) {
  var n = {};
  return n.months = t.month() - e.month() + (t.year() - e.year()) * 12, e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n;
}
function AF(e, t) {
  var n;
  return e.isValid() && t.isValid() ? (t = Uf(t, e), e.isBefore(t) ? n = eg(e, t) : (n = eg(t, e), n.milliseconds = -n.milliseconds, n.months = -n.months), n) : { milliseconds: 0, months: 0 };
}
function j0(e, t) {
  return function(n, r) {
    var i, a;
    return r !== null && !isNaN(+r) && (x0(
      t,
      "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."
    ), a = n, n = r, r = a), i = rr(n, r), $0(this, i, e), this;
  };
}
function $0(e, t, n, r) {
  var i = t._milliseconds, a = dd(t._days), s = dd(t._months);
  e.isValid() && (r = r ?? !0, s && D0(e, xs(e, "Month") + s * n), a && k0(e, "Date", xs(e, "Date") + a * n), i && e._d.setTime(e._d.valueOf() + i * n), r && xe.updateOffset(e, a || s));
}
var DF = j0(1, "add"), OF = j0(-1, "subtract");
function U0(e) {
  return typeof e == "string" || e instanceof String;
}
function MF(e) {
  return nr(e) || js(e) || U0(e) || jr(e) || TF(e) || RF(e) || e === null || e === void 0;
}
function RF(e) {
  var t = ki(e) && !Af(e), n = !1, r = [
    "years",
    "year",
    "y",
    "months",
    "month",
    "M",
    "days",
    "day",
    "d",
    "dates",
    "date",
    "D",
    "hours",
    "hour",
    "h",
    "minutes",
    "minute",
    "m",
    "seconds",
    "second",
    "s",
    "milliseconds",
    "millisecond",
    "ms"
  ], i, a, s = r.length;
  for (i = 0; i < s; i += 1)
    a = r[i], n = n || at(e, a);
  return t && n;
}
function TF(e) {
  var t = tr(e), n = !1;
  return t && (n = e.filter(function(r) {
    return !jr(r) && U0(e);
  }).length === 0), t && n;
}
function FF(e) {
  var t = ki(e) && !Af(e), n = !1, r = [
    "sameDay",
    "nextDay",
    "lastDay",
    "nextWeek",
    "lastWeek",
    "sameElse"
  ], i, a;
  for (i = 0; i < r.length; i += 1)
    a = r[i], n = n || at(e, a);
  return t && n;
}
function PF(e, t) {
  var n = e.diff(t, "days", !0);
  return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse";
}
function LF(e, t) {
  arguments.length === 1 && (arguments[0] ? MF(arguments[0]) ? (e = arguments[0], t = void 0) : FF(arguments[0]) && (t = arguments[0], e = void 0) : (e = void 0, t = void 0));
  var n = e || It(), r = Uf(n, this).startOf("day"), i = xe.calendarFormat(this, r) || "sameElse", a = t && (xr(t[i]) ? t[i].call(this, n) : t[i]);
  return this.format(
    a || this.localeData().calendar(i, this, It(n))
  );
}
function VF() {
  return new $s(this);
}
function BF(e, t) {
  var n = nr(e) ? e : It(e);
  return this.isValid() && n.isValid() ? (t = Xn(t) || "millisecond", t === "millisecond" ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(t).valueOf()) : !1;
}
function GF(e, t) {
  var n = nr(e) ? e : It(e);
  return this.isValid() && n.isValid() ? (t = Xn(t) || "millisecond", t === "millisecond" ? this.valueOf() < n.valueOf() : this.clone().endOf(t).valueOf() < n.valueOf()) : !1;
}
function YF(e, t, n, r) {
  var i = nr(e) ? e : It(e), a = nr(t) ? t : It(t);
  return this.isValid() && i.isValid() && a.isValid() ? (r = r || "()", (r[0] === "(" ? this.isAfter(i, n) : !this.isBefore(i, n)) && (r[1] === ")" ? this.isBefore(a, n) : !this.isAfter(a, n))) : !1;
}
function WF(e, t) {
  var n = nr(e) ? e : It(e), r;
  return this.isValid() && n.isValid() ? (t = Xn(t) || "millisecond", t === "millisecond" ? this.valueOf() === n.valueOf() : (r = n.valueOf(), this.clone().startOf(t).valueOf() <= r && r <= this.clone().endOf(t).valueOf())) : !1;
}
function zF(e, t) {
  return this.isSame(e, t) || this.isAfter(e, t);
}
function HF(e, t) {
  return this.isSame(e, t) || this.isBefore(e, t);
}
function jF(e, t, n) {
  var r, i, a;
  if (!this.isValid())
    return NaN;
  if (r = Uf(e, this), !r.isValid())
    return NaN;
  switch (i = (r.utcOffset() - this.utcOffset()) * 6e4, t = Xn(t), t) {
    case "year":
      a = Go(this, r) / 12;
      break;
    case "month":
      a = Go(this, r);
      break;
    case "quarter":
      a = Go(this, r) / 3;
      break;
    case "second":
      a = (this - r) / 1e3;
      break;
    // 1000
    case "minute":
      a = (this - r) / 6e4;
      break;
    // 1000 * 60
    case "hour":
      a = (this - r) / 36e5;
      break;
    // 1000 * 60 * 60
    case "day":
      a = (this - r - i) / 864e5;
      break;
    // 1000 * 60 * 60 * 24, negate dst
    case "week":
      a = (this - r - i) / 6048e5;
      break;
    // 1000 * 60 * 60 * 24 * 7, negate dst
    default:
      a = this - r;
  }
  return n ? a : Pn(a);
}
function Go(e, t) {
  if (e.date() < t.date())
    return -Go(t, e);
  var n = (t.year() - e.year()) * 12 + (t.month() - e.month()), r = e.clone().add(n, "months"), i, a;
  return t - r < 0 ? (i = e.clone().add(n - 1, "months"), a = (t - r) / (r - i)) : (i = e.clone().add(n + 1, "months"), a = (t - r) / (i - r)), -(n + a) || 0;
}
xe.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
xe.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
function $F() {
  return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
}
function UF(e) {
  if (!this.isValid())
    return null;
  var t = e !== !0, n = t ? this.clone().utc() : this;
  return n.year() < 0 || n.year() > 9999 ? Vo(
    n,
    t ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"
  ) : xr(Date.prototype.toISOString) ? t ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", Vo(n, "Z")) : Vo(
    n,
    t ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ"
  );
}
function XF() {
  if (!this.isValid())
    return "moment.invalid(/* " + this._i + " */)";
  var e = "moment", t = "", n, r, i, a;
  return this.isLocal() || (e = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", t = "Z"), n = "[" + e + '("]', r = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", i = "-MM-DD[T]HH:mm:ss.SSS", a = t + '[")]', this.format(n + r + i + a);
}
function ZF(e) {
  e || (e = this.isUtc() ? xe.defaultFormatUtc : xe.defaultFormat);
  var t = Vo(this, e);
  return this.localeData().postformat(t);
}
function qF(e, t) {
  return this.isValid() && (nr(e) && e.isValid() || It(e).isValid()) ? rr({ to: this, from: e }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}
function JF(e) {
  return this.from(It(), e);
}
function QF(e, t) {
  return this.isValid() && (nr(e) && e.isValid() || It(e).isValid()) ? rr({ from: this, to: e }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
}
function KF(e) {
  return this.to(It(), e);
}
function X0(e) {
  var t;
  return e === void 0 ? this._locale._abbr : (t = Ur(e), t != null && (this._locale = t), this);
}
var Z0 = Un(
  "moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
  function(e) {
    return e === void 0 ? this.localeData() : this.locale(e);
  }
);
function q0() {
  return this._locale;
}
var ml = 1e3, da = 60 * ml, gl = 60 * da, J0 = (365 * 400 + 97) * 24 * gl;
function fa(e, t) {
  return (e % t + t) % t;
}
function Q0(e, t, n) {
  return e < 100 && e >= 0 ? new Date(e + 400, t, n) - J0 : new Date(e, t, n).valueOf();
}
function K0(e, t, n) {
  return e < 100 && e >= 0 ? Date.UTC(e + 400, t, n) - J0 : Date.UTC(e, t, n);
}
function eP(e) {
  var t, n;
  if (e = Xn(e), e === void 0 || e === "millisecond" || !this.isValid())
    return this;
  switch (n = this._isUTC ? K0 : Q0, e) {
    case "year":
      t = n(this.year(), 0, 1);
      break;
    case "quarter":
      t = n(
        this.year(),
        this.month() - this.month() % 3,
        1
      );
      break;
    case "month":
      t = n(this.year(), this.month(), 1);
      break;
    case "week":
      t = n(
        this.year(),
        this.month(),
        this.date() - this.weekday()
      );
      break;
    case "isoWeek":
      t = n(
        this.year(),
        this.month(),
        this.date() - (this.isoWeekday() - 1)
      );
      break;
    case "day":
    case "date":
      t = n(this.year(), this.month(), this.date());
      break;
    case "hour":
      t = this._d.valueOf(), t -= fa(
        t + (this._isUTC ? 0 : this.utcOffset() * da),
        gl
      );
      break;
    case "minute":
      t = this._d.valueOf(), t -= fa(t, da);
      break;
    case "second":
      t = this._d.valueOf(), t -= fa(t, ml);
      break;
  }
  return this._d.setTime(t), xe.updateOffset(this, !0), this;
}
function tP(e) {
  var t, n;
  if (e = Xn(e), e === void 0 || e === "millisecond" || !this.isValid())
    return this;
  switch (n = this._isUTC ? K0 : Q0, e) {
    case "year":
      t = n(this.year() + 1, 0, 1) - 1;
      break;
    case "quarter":
      t = n(
        this.year(),
        this.month() - this.month() % 3 + 3,
        1
      ) - 1;
      break;
    case "month":
      t = n(this.year(), this.month() + 1, 1) - 1;
      break;
    case "week":
      t = n(
        this.year(),
        this.month(),
        this.date() - this.weekday() + 7
      ) - 1;
      break;
    case "isoWeek":
      t = n(
        this.year(),
        this.month(),
        this.date() - (this.isoWeekday() - 1) + 7
      ) - 1;
      break;
    case "day":
    case "date":
      t = n(this.year(), this.month(), this.date() + 1) - 1;
      break;
    case "hour":
      t = this._d.valueOf(), t += gl - fa(
        t + (this._isUTC ? 0 : this.utcOffset() * da),
        gl
      ) - 1;
      break;
    case "minute":
      t = this._d.valueOf(), t += da - fa(t, da) - 1;
      break;
    case "second":
      t = this._d.valueOf(), t += ml - fa(t, ml) - 1;
      break;
  }
  return this._d.setTime(t), xe.updateOffset(this, !0), this;
}
function nP() {
  return this._d.valueOf() - (this._offset || 0) * 6e4;
}
function rP() {
  return Math.floor(this.valueOf() / 1e3);
}
function iP() {
  return new Date(this.valueOf());
}
function aP() {
  var e = this;
  return [
    e.year(),
    e.month(),
    e.date(),
    e.hour(),
    e.minute(),
    e.second(),
    e.millisecond()
  ];
}
function sP() {
  var e = this;
  return {
    years: e.year(),
    months: e.month(),
    date: e.date(),
    hours: e.hours(),
    minutes: e.minutes(),
    seconds: e.seconds(),
    milliseconds: e.milliseconds()
  };
}
function oP() {
  return this.isValid() ? this.toISOString() : null;
}
function lP() {
  return Df(this);
}
function cP() {
  return ei({}, Ue(this));
}
function uP() {
  return Ue(this).overflow;
}
function dP() {
  return {
    input: this._i,
    format: this._f,
    locale: this._locale,
    isUTC: this._isUTC,
    strict: this._strict
  };
}
Ve("N", 0, 0, "eraAbbr");
Ve("NN", 0, 0, "eraAbbr");
Ve("NNN", 0, 0, "eraAbbr");
Ve("NNNN", 0, 0, "eraName");
Ve("NNNNN", 0, 0, "eraNarrow");
Ve("y", ["y", 1], "yo", "eraYear");
Ve("y", ["yy", 2], 0, "eraYear");
Ve("y", ["yyy", 3], 0, "eraYear");
Ve("y", ["yyyy", 4], 0, "eraYear");
Me("N", Xf);
Me("NN", Xf);
Me("NNN", Xf);
Me("NNNN", CP);
Me("NNNNN", SP);
gt(
  ["N", "NN", "NNN", "NNNN", "NNNNN"],
  function(e, t, n, r) {
    var i = n._locale.erasParse(e, r, n._strict);
    i ? Ue(n).era = i : Ue(n).invalidEra = e;
  }
);
Me("y", Aa);
Me("yy", Aa);
Me("yyy", Aa);
Me("yyyy", Aa);
Me("yo", IP);
gt(["y", "yy", "yyy", "yyyy"], cn);
gt(["yo"], function(e, t, n, r) {
  var i;
  n._locale._eraYearOrdinalRegex && (i = e.match(n._locale._eraYearOrdinalRegex)), n._locale.eraYearOrdinalParse ? t[cn] = n._locale.eraYearOrdinalParse(e, i) : t[cn] = parseInt(e, 10);
});
function fP(e, t) {
  var n, r, i, a = this._eras || Ur("en")._eras;
  for (n = 0, r = a.length; n < r; ++n)
    switch (typeof a[n].since === "string" && (i = xe(a[n].since).startOf("day"), a[n].since = i.valueOf()), typeof a[n].until) {
      case "undefined":
        a[n].until = 1 / 0;
        break;
      case "string":
        i = xe(a[n].until).startOf("day").valueOf(), a[n].until = i.valueOf();
        break;
    }
  return a;
}
function pP(e, t, n) {
  var r, i, a = this.eras(), s, o, c;
  for (e = e.toUpperCase(), r = 0, i = a.length; r < i; ++r)
    if (s = a[r].name.toUpperCase(), o = a[r].abbr.toUpperCase(), c = a[r].narrow.toUpperCase(), n)
      switch (t) {
        case "N":
        case "NN":
        case "NNN":
          if (o === e)
            return a[r];
          break;
        case "NNNN":
          if (s === e)
            return a[r];
          break;
        case "NNNNN":
          if (c === e)
            return a[r];
          break;
      }
    else if ([s, o, c].indexOf(e) >= 0)
      return a[r];
}
function hP(e, t) {
  var n = e.since <= e.until ? 1 : -1;
  return t === void 0 ? xe(e.since).year() : xe(e.since).year() + (t - e.offset) * n;
}
function mP() {
  var e, t, n, r = this.localeData().eras();
  for (e = 0, t = r.length; e < t; ++e)
    if (n = this.clone().startOf("day").valueOf(), r[e].since <= n && n <= r[e].until || r[e].until <= n && n <= r[e].since)
      return r[e].name;
  return "";
}
function gP() {
  var e, t, n, r = this.localeData().eras();
  for (e = 0, t = r.length; e < t; ++e)
    if (n = this.clone().startOf("day").valueOf(), r[e].since <= n && n <= r[e].until || r[e].until <= n && n <= r[e].since)
      return r[e].narrow;
  return "";
}
function vP() {
  var e, t, n, r = this.localeData().eras();
  for (e = 0, t = r.length; e < t; ++e)
    if (n = this.clone().startOf("day").valueOf(), r[e].since <= n && n <= r[e].until || r[e].until <= n && n <= r[e].since)
      return r[e].abbr;
  return "";
}
function yP() {
  var e, t, n, r, i = this.localeData().eras();
  for (e = 0, t = i.length; e < t; ++e)
    if (n = i[e].since <= i[e].until ? 1 : -1, r = this.clone().startOf("day").valueOf(), i[e].since <= r && r <= i[e].until || i[e].until <= r && r <= i[e].since)
      return (this.year() - xe(i[e].since).year()) * n + i[e].offset;
  return this.year();
}
function bP(e) {
  return at(this, "_erasNameRegex") || Zf.call(this), e ? this._erasNameRegex : this._erasRegex;
}
function xP(e) {
  return at(this, "_erasAbbrRegex") || Zf.call(this), e ? this._erasAbbrRegex : this._erasRegex;
}
function wP(e) {
  return at(this, "_erasNarrowRegex") || Zf.call(this), e ? this._erasNarrowRegex : this._erasRegex;
}
function Xf(e, t) {
  return t.erasAbbrRegex(e);
}
function CP(e, t) {
  return t.erasNameRegex(e);
}
function SP(e, t) {
  return t.erasNarrowRegex(e);
}
function IP(e, t) {
  return t._eraYearOrdinalRegex || Aa;
}
function Zf() {
  var e = [], t = [], n = [], r = [], i, a, s, o, c, u = this.eras();
  for (i = 0, a = u.length; i < a; ++i)
    s = Gr(u[i].name), o = Gr(u[i].abbr), c = Gr(u[i].narrow), t.push(s), e.push(o), n.push(c), r.push(s), r.push(o), r.push(c);
  this._erasRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + t.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp(
    "^(" + n.join("|") + ")",
    "i"
  );
}
Ve(0, ["gg", 2], 0, function() {
  return this.weekYear() % 100;
});
Ve(0, ["GG", 2], 0, function() {
  return this.isoWeekYear() % 100;
});
function rc(e, t) {
  Ve(0, [e, e.length], 0, t);
}
rc("gggg", "weekYear");
rc("ggggg", "weekYear");
rc("GGGG", "isoWeekYear");
rc("GGGGG", "isoWeekYear");
Me("G", Ql);
Me("g", Ql);
Me("GG", _t, Mn);
Me("gg", _t, Mn);
Me("GGGG", Pf, Ff);
Me("gggg", Pf, Ff);
Me("GGGGG", Jl, Zl);
Me("ggggg", Jl, Zl);
Xs(
  ["gggg", "ggggg", "GGGG", "GGGGG"],
  function(e, t, n, r) {
    t[r.substr(0, 2)] = Ke(e);
  }
);
Xs(["gg", "GG"], function(e, t, n, r) {
  t[r] = xe.parseTwoDigitYear(e);
});
function _P(e) {
  return ex.call(
    this,
    e,
    this.week(),
    this.weekday() + this.localeData()._week.dow,
    this.localeData()._week.dow,
    this.localeData()._week.doy
  );
}
function EP(e) {
  return ex.call(
    this,
    e,
    this.isoWeek(),
    this.isoWeekday(),
    1,
    4
  );
}
function kP() {
  return Yr(this.year(), 1, 4);
}
function NP() {
  return Yr(this.isoWeekYear(), 1, 4);
}
function AP() {
  var e = this.localeData()._week;
  return Yr(this.year(), e.dow, e.doy);
}
function DP() {
  var e = this.localeData()._week;
  return Yr(this.weekYear(), e.dow, e.doy);
}
function ex(e, t, n, r, i) {
  var a;
  return e == null ? Cs(this, r, i).year : (a = Yr(e, r, i), t > a && (t = a), OP.call(this, e, t, n, r, i));
}
function OP(e, t, n, r, i) {
  var a = R0(e, t, n, r, i), s = ws(a.year, 0, a.dayOfYear);
  return this.year(s.getUTCFullYear()), this.month(s.getUTCMonth()), this.date(s.getUTCDate()), this;
}
Ve("Q", 0, "Qo", "quarter");
Me("Q", C0);
gt("Q", function(e, t) {
  t[Vr] = (Ke(e) - 1) * 3;
});
function MP(e) {
  return e == null ? Math.ceil((this.month() + 1) / 3) : this.month((e - 1) * 3 + this.month() % 3);
}
Ve("D", ["DD", 2], "Do", "date");
Me("D", _t, Da);
Me("DD", _t, Mn);
Me("Do", function(e, t) {
  return e ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient;
});
gt(["D", "DD"], ur);
gt("Do", function(e, t) {
  t[ur] = Ke(e.match(_t)[0]);
});
var tx = Oa("Date", !0);
Ve("DDD", ["DDDD", 3], "DDDo", "dayOfYear");
Me("DDD", ql);
Me("DDDD", S0);
gt(["DDD", "DDDD"], function(e, t, n) {
  n._dayOfYear = Ke(e);
});
function RP(e) {
  var t = Math.round(
    (this.clone().startOf("day") - this.clone().startOf("year")) / 864e5
  ) + 1;
  return e == null ? t : this.add(e - t, "d");
}
Ve("m", ["mm", 2], 0, "minute");
Me("m", _t, Lf);
Me("mm", _t, Mn);
gt(["m", "mm"], er);
var TP = Oa("Minutes", !1);
Ve("s", ["ss", 2], 0, "second");
Me("s", _t, Lf);
Me("ss", _t, Mn);
gt(["s", "ss"], Br);
var FP = Oa("Seconds", !1);
Ve("S", 0, 0, function() {
  return ~~(this.millisecond() / 100);
});
Ve(0, ["SS", 2], 0, function() {
  return ~~(this.millisecond() / 10);
});
Ve(0, ["SSS", 3], 0, "millisecond");
Ve(0, ["SSSS", 4], 0, function() {
  return this.millisecond() * 10;
});
Ve(0, ["SSSSS", 5], 0, function() {
  return this.millisecond() * 100;
});
Ve(0, ["SSSSSS", 6], 0, function() {
  return this.millisecond() * 1e3;
});
Ve(0, ["SSSSSSS", 7], 0, function() {
  return this.millisecond() * 1e4;
});
Ve(0, ["SSSSSSSS", 8], 0, function() {
  return this.millisecond() * 1e5;
});
Ve(0, ["SSSSSSSSS", 9], 0, function() {
  return this.millisecond() * 1e6;
});
Me("S", ql, C0);
Me("SS", ql, Mn);
Me("SSS", ql, S0);
var ti, nx;
for (ti = "SSSS"; ti.length <= 9; ti += "S")
  Me(ti, Aa);
function PP(e, t) {
  t[wi] = Ke(("0." + e) * 1e3);
}
for (ti = "S"; ti.length <= 9; ti += "S")
  gt(ti, PP);
nx = Oa("Milliseconds", !1);
Ve("z", 0, 0, "zoneAbbr");
Ve("zz", 0, 0, "zoneName");
function LP() {
  return this._isUTC ? "UTC" : "";
}
function VP() {
  return this._isUTC ? "Coordinated Universal Time" : "";
}
var he = $s.prototype;
he.add = DF;
he.calendar = LF;
he.clone = VF;
he.diff = jF;
he.endOf = tP;
he.format = ZF;
he.from = qF;
he.fromNow = JF;
he.to = QF;
he.toNow = KF;
he.get = XT;
he.invalidAt = uP;
he.isAfter = BF;
he.isBefore = GF;
he.isBetween = YF;
he.isSame = WF;
he.isSameOrAfter = zF;
he.isSameOrBefore = HF;
he.isValid = lP;
he.lang = Z0;
he.locale = X0;
he.localeData = q0;
he.max = lF;
he.min = oF;
he.parsingFlags = cP;
he.set = ZT;
he.startOf = eP;
he.subtract = OF;
he.toArray = aP;
he.toObject = sP;
he.toDate = iP;
he.toISOString = UF;
he.inspect = XF;
typeof Symbol < "u" && Symbol.for != null && (he[/* @__PURE__ */ Symbol.for("nodejs.util.inspect.custom")] = function() {
  return "Moment<" + this.format() + ">";
});
he.toJSON = oP;
he.toString = $F;
he.unix = rP;
he.valueOf = nP;
he.creationData = dP;
he.eraName = mP;
he.eraNarrow = gP;
he.eraAbbr = vP;
he.eraYear = yP;
he.year = E0;
he.isLeapYear = UT;
he.weekYear = _P;
he.isoWeekYear = EP;
he.quarter = he.quarters = MP;
he.month = O0;
he.daysInMonth = i2;
he.week = he.weeks = f2;
he.isoWeek = he.isoWeeks = p2;
he.weeksInYear = AP;
he.weeksInWeekYear = DP;
he.isoWeeksInYear = kP;
he.isoWeeksInISOWeekYear = NP;
he.date = tx;
he.day = he.days = E2;
he.weekday = k2;
he.isoWeekday = N2;
he.dayOfYear = RP;
he.hour = he.hours = F2;
he.minute = he.minutes = TP;
he.second = he.seconds = FP;
he.millisecond = he.milliseconds = nx;
he.utcOffset = vF;
he.utc = bF;
he.local = xF;
he.parseZone = wF;
he.hasAlignedHourOffset = CF;
he.isDST = SF;
he.isLocal = _F;
he.isUtcOffset = EF;
he.isUtc = H0;
he.isUTC = H0;
he.zoneAbbr = LP;
he.zoneName = VP;
he.dates = Un(
  "dates accessor is deprecated. Use date instead.",
  tx
);
he.months = Un(
  "months accessor is deprecated. Use month instead",
  O0
);
he.years = Un(
  "years accessor is deprecated. Use year instead",
  E0
);
he.zone = Un(
  "moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
  yF
);
he.isDSTShifted = Un(
  "isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
  IF
);
function BP(e) {
  return It(e * 1e3);
}
function GP() {
  return It.apply(null, arguments).parseZone();
}
function rx(e) {
  return e;
}
var st = Mf.prototype;
st.calendar = _T;
st.longDateFormat = AT;
st.invalidDate = OT;
st.ordinal = TT;
st.preparse = rx;
st.postformat = rx;
st.relativeTime = PT;
st.pastFuture = LT;
st.set = ST;
st.eras = fP;
st.erasParse = pP;
st.erasConvertYear = hP;
st.erasAbbrRegex = xP;
st.erasNameRegex = bP;
st.erasNarrowRegex = wP;
st.months = e2;
st.monthsShort = t2;
st.monthsParse = r2;
st.monthsRegex = s2;
st.monthsShortRegex = a2;
st.week = l2;
st.firstDayOfYear = d2;
st.firstDayOfWeek = u2;
st.weekdays = w2;
st.weekdaysMin = S2;
st.weekdaysShort = C2;
st.weekdaysParse = _2;
st.weekdaysRegex = A2;
st.weekdaysShortRegex = D2;
st.weekdaysMinRegex = O2;
st.isPM = R2;
st.meridiem = P2;
function vl(e, t, n, r) {
  var i = Ur(), a = br().set(r, t);
  return i[n](a, e);
}
function ix(e, t, n) {
  if (jr(e) && (t = e, e = void 0), e = e || "", t != null)
    return vl(e, t, n, "month");
  var r, i = [];
  for (r = 0; r < 12; r++)
    i[r] = vl(e, r, n, "month");
  return i;
}
function qf(e, t, n, r) {
  typeof e == "boolean" ? (jr(t) && (n = t, t = void 0), t = t || "") : (t = e, n = t, e = !1, jr(t) && (n = t, t = void 0), t = t || "");
  var i = Ur(), a = e ? i._week.dow : 0, s, o = [];
  if (n != null)
    return vl(t, (n + a) % 7, r, "day");
  for (s = 0; s < 7; s++)
    o[s] = vl(t, (s + a) % 7, r, "day");
  return o;
}
function YP(e, t) {
  return ix(e, t, "months");
}
function WP(e, t) {
  return ix(e, t, "monthsShort");
}
function zP(e, t, n) {
  return qf(e, t, n, "weekdays");
}
function HP(e, t, n) {
  return qf(e, t, n, "weekdaysShort");
}
function jP(e, t, n) {
  return qf(e, t, n, "weekdaysMin");
}
ni("en", {
  eras: [
    {
      since: "0001-01-01",
      until: 1 / 0,
      offset: 1,
      name: "Anno Domini",
      narrow: "AD",
      abbr: "AD"
    },
    {
      since: "0000-12-31",
      until: -1 / 0,
      offset: 1,
      name: "Before Christ",
      narrow: "BC",
      abbr: "BC"
    }
  ],
  dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
  ordinal: function(e) {
    var t = e % 10, n = Ke(e % 100 / 10) === 1 ? "th" : t === 1 ? "st" : t === 2 ? "nd" : t === 3 ? "rd" : "th";
    return e + n;
  }
});
xe.lang = Un(
  "moment.lang is deprecated. Use moment.locale instead.",
  ni
);
xe.langData = Un(
  "moment.langData is deprecated. Use moment.localeData instead.",
  Ur
);
var Mr = Math.abs;
function $P() {
  var e = this._data;
  return this._milliseconds = Mr(this._milliseconds), this._days = Mr(this._days), this._months = Mr(this._months), e.milliseconds = Mr(e.milliseconds), e.seconds = Mr(e.seconds), e.minutes = Mr(e.minutes), e.hours = Mr(e.hours), e.months = Mr(e.months), e.years = Mr(e.years), this;
}
function ax(e, t, n, r) {
  var i = rr(t, n);
  return e._milliseconds += r * i._milliseconds, e._days += r * i._days, e._months += r * i._months, e._bubble();
}
function UP(e, t) {
  return ax(this, e, t, 1);
}
function XP(e, t) {
  return ax(this, e, t, -1);
}
function tg(e) {
  return e < 0 ? Math.floor(e) : Math.ceil(e);
}
function ZP() {
  var e = this._milliseconds, t = this._days, n = this._months, r = this._data, i, a, s, o, c;
  return e >= 0 && t >= 0 && n >= 0 || e <= 0 && t <= 0 && n <= 0 || (e += tg(pd(n) + t) * 864e5, t = 0, n = 0), r.milliseconds = e % 1e3, i = Pn(e / 1e3), r.seconds = i % 60, a = Pn(i / 60), r.minutes = a % 60, s = Pn(a / 60), r.hours = s % 24, t += Pn(s / 24), c = Pn(sx(t)), n += c, t -= tg(pd(c)), o = Pn(n / 12), n %= 12, r.days = t, r.months = n, r.years = o, this;
}
function sx(e) {
  return e * 4800 / 146097;
}
function pd(e) {
  return e * 146097 / 4800;
}
function qP(e) {
  if (!this.isValid())
    return NaN;
  var t, n, r = this._milliseconds;
  if (e = Xn(e), e === "month" || e === "quarter" || e === "year")
    switch (t = this._days + r / 864e5, n = this._months + sx(t), e) {
      case "month":
        return n;
      case "quarter":
        return n / 3;
      case "year":
        return n / 12;
    }
  else
    switch (t = this._days + Math.round(pd(this._months)), e) {
      case "week":
        return t / 7 + r / 6048e5;
      case "day":
        return t + r / 864e5;
      case "hour":
        return t * 24 + r / 36e5;
      case "minute":
        return t * 1440 + r / 6e4;
      case "second":
        return t * 86400 + r / 1e3;
      // Math.floor prevents floating point math errors here
      case "millisecond":
        return Math.floor(t * 864e5) + r;
      default:
        throw new Error("Unknown unit " + e);
    }
}
function Xr(e) {
  return function() {
    return this.as(e);
  };
}
var ox = Xr("ms"), JP = Xr("s"), QP = Xr("m"), KP = Xr("h"), eL = Xr("d"), tL = Xr("w"), nL = Xr("M"), rL = Xr("Q"), iL = Xr("y"), aL = ox;
function sL() {
  return rr(this);
}
function oL(e) {
  return e = Xn(e), this.isValid() ? this[e + "s"]() : NaN;
}
function Vi(e) {
  return function() {
    return this.isValid() ? this._data[e] : NaN;
  };
}
var lL = Vi("milliseconds"), cL = Vi("seconds"), uL = Vi("minutes"), dL = Vi("hours"), fL = Vi("days"), pL = Vi("months"), hL = Vi("years");
function mL() {
  return Pn(this.days() / 7);
}
var Rr = Math.round, sa = {
  ss: 44,
  // a few seconds to seconds
  s: 45,
  // seconds to minute
  m: 45,
  // minutes to hour
  h: 22,
  // hours to day
  d: 26,
  // days to month/week
  w: null,
  // weeks to month
  M: 11
  // months to year
};
function gL(e, t, n, r, i) {
  return i.relativeTime(t || 1, !!n, e, r);
}
function vL(e, t, n, r) {
  var i = rr(e).abs(), a = Rr(i.as("s")), s = Rr(i.as("m")), o = Rr(i.as("h")), c = Rr(i.as("d")), u = Rr(i.as("M")), f = Rr(i.as("w")), p = Rr(i.as("y")), g = a <= n.ss && ["s", a] || a < n.s && ["ss", a] || s <= 1 && ["m"] || s < n.m && ["mm", s] || o <= 1 && ["h"] || o < n.h && ["hh", o] || c <= 1 && ["d"] || c < n.d && ["dd", c];
  return n.w != null && (g = g || f <= 1 && ["w"] || f < n.w && ["ww", f]), g = g || u <= 1 && ["M"] || u < n.M && ["MM", u] || p <= 1 && ["y"] || ["yy", p], g[2] = t, g[3] = +e > 0, g[4] = r, gL.apply(null, g);
}
function yL(e) {
  return e === void 0 ? Rr : typeof e == "function" ? (Rr = e, !0) : !1;
}
function bL(e, t) {
  return sa[e] === void 0 ? !1 : t === void 0 ? sa[e] : (sa[e] = t, e === "s" && (sa.ss = t - 1), !0);
}
function xL(e, t) {
  if (!this.isValid())
    return this.localeData().invalidDate();
  var n = !1, r = sa, i, a;
  return typeof e == "object" && (t = e, e = !1), typeof e == "boolean" && (n = e), typeof t == "object" && (r = Object.assign({}, sa, t), t.s != null && t.ss == null && (r.ss = t.s - 1)), i = this.localeData(), a = vL(this, !n, r, i), n && (a = i.pastFuture(+this, a)), i.postformat(a);
}
var mu = Math.abs;
function Ki(e) {
  return (e > 0) - (e < 0) || +e;
}
function ic() {
  if (!this.isValid())
    return this.localeData().invalidDate();
  var e = mu(this._milliseconds) / 1e3, t = mu(this._days), n = mu(this._months), r, i, a, s, o = this.asSeconds(), c, u, f, p;
  return o ? (r = Pn(e / 60), i = Pn(r / 60), e %= 60, r %= 60, a = Pn(n / 12), n %= 12, s = e ? e.toFixed(3).replace(/\.?0+$/, "") : "", c = o < 0 ? "-" : "", u = Ki(this._months) !== Ki(o) ? "-" : "", f = Ki(this._days) !== Ki(o) ? "-" : "", p = Ki(this._milliseconds) !== Ki(o) ? "-" : "", c + "P" + (a ? u + a + "Y" : "") + (n ? u + n + "M" : "") + (t ? f + t + "D" : "") + (i || r || e ? "T" : "") + (i ? p + i + "H" : "") + (r ? p + r + "M" : "") + (e ? p + s + "S" : "")) : "P0D";
}
var nt = nc.prototype;
nt.isValid = pF;
nt.abs = $P;
nt.add = UP;
nt.subtract = XP;
nt.as = qP;
nt.asMilliseconds = ox;
nt.asSeconds = JP;
nt.asMinutes = QP;
nt.asHours = KP;
nt.asDays = eL;
nt.asWeeks = tL;
nt.asMonths = nL;
nt.asQuarters = rL;
nt.asYears = iL;
nt.valueOf = aL;
nt._bubble = ZP;
nt.clone = sL;
nt.get = oL;
nt.milliseconds = lL;
nt.seconds = cL;
nt.minutes = uL;
nt.hours = dL;
nt.days = fL;
nt.weeks = mL;
nt.months = pL;
nt.years = hL;
nt.humanize = xL;
nt.toISOString = ic;
nt.toString = ic;
nt.toJSON = ic;
nt.locale = X0;
nt.localeData = q0;
nt.toIsoString = Un(
  "toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
  ic
);
nt.lang = Z0;
Ve("X", 0, 0, "unix");
Ve("x", 0, 0, "valueOf");
Me("x", Ql);
Me("X", YT);
gt("X", function(e, t, n) {
  n._d = new Date(parseFloat(e) * 1e3);
});
gt("x", function(e, t, n) {
  n._d = new Date(Ke(e));
});
xe.version = "2.30.1";
wT(It);
xe.fn = he;
xe.min = cF;
xe.max = uF;
xe.now = dF;
xe.utc = br;
xe.unix = BP;
xe.months = YP;
xe.isDate = js;
xe.locale = ni;
xe.invalid = Xl;
xe.duration = rr;
xe.isMoment = nr;
xe.weekdays = zP;
xe.parseZone = GP;
xe.localeData = Ur;
xe.isDuration = Bo;
xe.monthsShort = WP;
xe.weekdaysMin = jP;
xe.defineLocale = Wf;
xe.updateLocale = G2;
xe.locales = Y2;
xe.weekdaysShort = HP;
xe.normalizeUnits = Xn;
xe.relativeTimeRounding = yL;
xe.relativeTimeThreshold = bL;
xe.calendarFormat = PF;
xe.prototype = he;
xe.HTML5_FMT = {
  DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
  // <input type="datetime-local" />
  DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
  // <input type="datetime-local" step="1" />
  DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
  // <input type="datetime-local" step="0.001" />
  DATE: "YYYY-MM-DD",
  // <input type="date" />
  TIME: "HH:mm",
  // <input type="time" />
  TIME_SECONDS: "HH:mm:ss",
  // <input type="time" step="1" />
  TIME_MS: "HH:mm:ss.SSS",
  // <input type="time" step="0.001" />
  WEEK: "GGGG-[W]WW",
  // <input type="week" />
  MONTH: "YYYY-MM"
  // <input type="month" />
};
function wL(e, t) {
  const n = {};
  return (e[e.length - 1] === "" ? [...e, ""] : e).join(
    (n.padRight ? " " : "") + "," + (n.padLeft === !1 ? "" : " ")
  ).trim();
}
const CL = /^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u, SL = /^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u, IL = {};
function ng(e, t) {
  return (IL.jsx ? SL : CL).test(e);
}
const _L = /[ \t\n\f\r]/g;
function EL(e) {
  return typeof e == "object" ? e.type === "text" ? rg(e.value) : !1 : rg(e);
}
function rg(e) {
  return e.replace(_L, "") === "";
}
class Zs {
  /**
   * @param {SchemaType['property']} property
   *   Property.
   * @param {SchemaType['normal']} normal
   *   Normal.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Schema.
   */
  constructor(t, n, r) {
    this.normal = n, this.property = t, r && (this.space = r);
  }
}
Zs.prototype.normal = {};
Zs.prototype.property = {};
Zs.prototype.space = void 0;
function lx(e, t) {
  const n = {}, r = {};
  for (const i of e)
    Object.assign(n, i.property), Object.assign(r, i.normal);
  return new Zs(n, r, t);
}
function hd(e) {
  return e.toLowerCase();
}
class Sn {
  /**
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @returns
   *   Info.
   */
  constructor(t, n) {
    this.attribute = n, this.property = t;
  }
}
Sn.prototype.attribute = "";
Sn.prototype.booleanish = !1;
Sn.prototype.boolean = !1;
Sn.prototype.commaOrSpaceSeparated = !1;
Sn.prototype.commaSeparated = !1;
Sn.prototype.defined = !1;
Sn.prototype.mustUseProperty = !1;
Sn.prototype.number = !1;
Sn.prototype.overloadedBoolean = !1;
Sn.prototype.property = "";
Sn.prototype.spaceSeparated = !1;
Sn.prototype.space = void 0;
let kL = 0;
const $e = Bi(), Yt = Bi(), md = Bi(), me = Bi(), wt = Bi(), pa = Bi(), In = Bi();
function Bi() {
  return 2 ** ++kL;
}
const gd = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  boolean: $e,
  booleanish: Yt,
  commaOrSpaceSeparated: In,
  commaSeparated: pa,
  number: me,
  overloadedBoolean: md,
  spaceSeparated: wt
}, Symbol.toStringTag, { value: "Module" })), gu = (
  /** @type {ReadonlyArray<keyof typeof types>} */
  Object.keys(gd)
);
class Jf extends Sn {
  /**
   * @constructor
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @param {number | null | undefined} [mask]
   *   Mask.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Info.
   */
  constructor(t, n, r, i) {
    let a = -1;
    if (super(t, n), ig(this, "space", i), typeof r == "number")
      for (; ++a < gu.length; ) {
        const s = gu[a];
        ig(this, gu[a], (r & gd[s]) === gd[s]);
      }
  }
}
Jf.prototype.defined = !0;
function ig(e, t, n) {
  n && (e[t] = n);
}
function Ma(e) {
  const t = {}, n = {};
  for (const [r, i] of Object.entries(e.properties)) {
    const a = new Jf(
      r,
      e.transform(e.attributes || {}, r),
      i,
      e.space
    );
    e.mustUseProperty && e.mustUseProperty.includes(r) && (a.mustUseProperty = !0), t[r] = a, n[hd(r)] = r, n[hd(a.attribute)] = r;
  }
  return new Zs(t, n, e.space);
}
const cx = Ma({
  properties: {
    ariaActiveDescendant: null,
    ariaAtomic: Yt,
    ariaAutoComplete: null,
    ariaBusy: Yt,
    ariaChecked: Yt,
    ariaColCount: me,
    ariaColIndex: me,
    ariaColSpan: me,
    ariaControls: wt,
    ariaCurrent: null,
    ariaDescribedBy: wt,
    ariaDetails: null,
    ariaDisabled: Yt,
    ariaDropEffect: wt,
    ariaErrorMessage: null,
    ariaExpanded: Yt,
    ariaFlowTo: wt,
    ariaGrabbed: Yt,
    ariaHasPopup: null,
    ariaHidden: Yt,
    ariaInvalid: null,
    ariaKeyShortcuts: null,
    ariaLabel: null,
    ariaLabelledBy: wt,
    ariaLevel: me,
    ariaLive: null,
    ariaModal: Yt,
    ariaMultiLine: Yt,
    ariaMultiSelectable: Yt,
    ariaOrientation: null,
    ariaOwns: wt,
    ariaPlaceholder: null,
    ariaPosInSet: me,
    ariaPressed: Yt,
    ariaReadOnly: Yt,
    ariaRelevant: null,
    ariaRequired: Yt,
    ariaRoleDescription: wt,
    ariaRowCount: me,
    ariaRowIndex: me,
    ariaRowSpan: me,
    ariaSelected: Yt,
    ariaSetSize: me,
    ariaSort: null,
    ariaValueMax: me,
    ariaValueMin: me,
    ariaValueNow: me,
    ariaValueText: null,
    role: null
  },
  transform(e, t) {
    return t === "role" ? t : "aria-" + t.slice(4).toLowerCase();
  }
});
function ux(e, t) {
  return t in e ? e[t] : t;
}
function dx(e, t) {
  return ux(e, t.toLowerCase());
}
const NL = Ma({
  attributes: {
    acceptcharset: "accept-charset",
    classname: "class",
    htmlfor: "for",
    httpequiv: "http-equiv"
  },
  mustUseProperty: ["checked", "multiple", "muted", "selected"],
  properties: {
    // Standard Properties.
    abbr: null,
    accept: pa,
    acceptCharset: wt,
    accessKey: wt,
    action: null,
    allow: null,
    allowFullScreen: $e,
    allowPaymentRequest: $e,
    allowUserMedia: $e,
    alt: null,
    as: null,
    async: $e,
    autoCapitalize: null,
    autoComplete: wt,
    autoFocus: $e,
    autoPlay: $e,
    blocking: wt,
    capture: null,
    charSet: null,
    checked: $e,
    cite: null,
    className: wt,
    cols: me,
    colSpan: null,
    content: null,
    contentEditable: Yt,
    controls: $e,
    controlsList: wt,
    coords: me | pa,
    crossOrigin: null,
    data: null,
    dateTime: null,
    decoding: null,
    default: $e,
    defer: $e,
    dir: null,
    dirName: null,
    disabled: $e,
    download: md,
    draggable: Yt,
    encType: null,
    enterKeyHint: null,
    fetchPriority: null,
    form: null,
    formAction: null,
    formEncType: null,
    formMethod: null,
    formNoValidate: $e,
    formTarget: null,
    headers: wt,
    height: me,
    hidden: md,
    high: me,
    href: null,
    hrefLang: null,
    htmlFor: wt,
    httpEquiv: wt,
    id: null,
    imageSizes: null,
    imageSrcSet: null,
    inert: $e,
    inputMode: null,
    integrity: null,
    is: null,
    isMap: $e,
    itemId: null,
    itemProp: wt,
    itemRef: wt,
    itemScope: $e,
    itemType: wt,
    kind: null,
    label: null,
    lang: null,
    language: null,
    list: null,
    loading: null,
    loop: $e,
    low: me,
    manifest: null,
    max: null,
    maxLength: me,
    media: null,
    method: null,
    min: null,
    minLength: me,
    multiple: $e,
    muted: $e,
    name: null,
    nonce: null,
    noModule: $e,
    noValidate: $e,
    onAbort: null,
    onAfterPrint: null,
    onAuxClick: null,
    onBeforeMatch: null,
    onBeforePrint: null,
    onBeforeToggle: null,
    onBeforeUnload: null,
    onBlur: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onContextLost: null,
    onContextMenu: null,
    onContextRestored: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFormData: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLanguageChange: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadEnd: null,
    onLoadStart: null,
    onMessage: null,
    onMessageError: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRejectionHandled: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onScrollEnd: null,
    onSecurityPolicyViolation: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onSlotChange: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnhandledRejection: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onWheel: null,
    open: $e,
    optimum: me,
    pattern: null,
    ping: wt,
    placeholder: null,
    playsInline: $e,
    popover: null,
    popoverTarget: null,
    popoverTargetAction: null,
    poster: null,
    preload: null,
    readOnly: $e,
    referrerPolicy: null,
    rel: wt,
    required: $e,
    reversed: $e,
    rows: me,
    rowSpan: me,
    sandbox: wt,
    scope: null,
    scoped: $e,
    seamless: $e,
    selected: $e,
    shadowRootClonable: $e,
    shadowRootDelegatesFocus: $e,
    shadowRootMode: null,
    shape: null,
    size: me,
    sizes: null,
    slot: null,
    span: me,
    spellCheck: Yt,
    src: null,
    srcDoc: null,
    srcLang: null,
    srcSet: null,
    start: me,
    step: null,
    style: null,
    tabIndex: me,
    target: null,
    title: null,
    translate: null,
    type: null,
    typeMustMatch: $e,
    useMap: null,
    value: Yt,
    width: me,
    wrap: null,
    writingSuggestions: null,
    // Legacy.
    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis
    align: null,
    // Several. Use CSS `text-align` instead,
    aLink: null,
    // `<body>`. Use CSS `a:active {color}` instead
    archive: wt,
    // `<object>`. List of URIs to archives
    axis: null,
    // `<td>` and `<th>`. Use `scope` on `<th>`
    background: null,
    // `<body>`. Use CSS `background-image` instead
    bgColor: null,
    // `<body>` and table elements. Use CSS `background-color` instead
    border: me,
    // `<table>`. Use CSS `border-width` instead,
    borderColor: null,
    // `<table>`. Use CSS `border-color` instead,
    bottomMargin: me,
    // `<body>`
    cellPadding: null,
    // `<table>`
    cellSpacing: null,
    // `<table>`
    char: null,
    // Several table elements. When `align=char`, sets the character to align on
    charOff: null,
    // Several table elements. When `char`, offsets the alignment
    classId: null,
    // `<object>`
    clear: null,
    // `<br>`. Use CSS `clear` instead
    code: null,
    // `<object>`
    codeBase: null,
    // `<object>`
    codeType: null,
    // `<object>`
    color: null,
    // `<font>` and `<hr>`. Use CSS instead
    compact: $e,
    // Lists. Use CSS to reduce space between items instead
    declare: $e,
    // `<object>`
    event: null,
    // `<script>`
    face: null,
    // `<font>`. Use CSS instead
    frame: null,
    // `<table>`
    frameBorder: null,
    // `<iframe>`. Use CSS `border` instead
    hSpace: me,
    // `<img>` and `<object>`
    leftMargin: me,
    // `<body>`
    link: null,
    // `<body>`. Use CSS `a:link {color: *}` instead
    longDesc: null,
    // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`
    lowSrc: null,
    // `<img>`. Use a `<picture>`
    marginHeight: me,
    // `<body>`
    marginWidth: me,
    // `<body>`
    noResize: $e,
    // `<frame>`
    noHref: $e,
    // `<area>`. Use no href instead of an explicit `nohref`
    noShade: $e,
    // `<hr>`. Use background-color and height instead of borders
    noWrap: $e,
    // `<td>` and `<th>`
    object: null,
    // `<applet>`
    profile: null,
    // `<head>`
    prompt: null,
    // `<isindex>`
    rev: null,
    // `<link>`
    rightMargin: me,
    // `<body>`
    rules: null,
    // `<table>`
    scheme: null,
    // `<meta>`
    scrolling: Yt,
    // `<frame>`. Use overflow in the child context
    standby: null,
    // `<object>`
    summary: null,
    // `<table>`
    text: null,
    // `<body>`. Use CSS `color` instead
    topMargin: me,
    // `<body>`
    valueType: null,
    // `<param>`
    version: null,
    // `<html>`. Use a doctype.
    vAlign: null,
    // Several. Use CSS `vertical-align` instead
    vLink: null,
    // `<body>`. Use CSS `a:visited {color}` instead
    vSpace: me,
    // `<img>` and `<object>`
    // Non-standard Properties.
    allowTransparency: null,
    autoCorrect: null,
    autoSave: null,
    disablePictureInPicture: $e,
    disableRemotePlayback: $e,
    prefix: null,
    property: null,
    results: me,
    security: null,
    unselectable: null
  },
  space: "html",
  transform: dx
}), AL = Ma({
  attributes: {
    accentHeight: "accent-height",
    alignmentBaseline: "alignment-baseline",
    arabicForm: "arabic-form",
    baselineShift: "baseline-shift",
    capHeight: "cap-height",
    className: "class",
    clipPath: "clip-path",
    clipRule: "clip-rule",
    colorInterpolation: "color-interpolation",
    colorInterpolationFilters: "color-interpolation-filters",
    colorProfile: "color-profile",
    colorRendering: "color-rendering",
    crossOrigin: "crossorigin",
    dataType: "datatype",
    dominantBaseline: "dominant-baseline",
    enableBackground: "enable-background",
    fillOpacity: "fill-opacity",
    fillRule: "fill-rule",
    floodColor: "flood-color",
    floodOpacity: "flood-opacity",
    fontFamily: "font-family",
    fontSize: "font-size",
    fontSizeAdjust: "font-size-adjust",
    fontStretch: "font-stretch",
    fontStyle: "font-style",
    fontVariant: "font-variant",
    fontWeight: "font-weight",
    glyphName: "glyph-name",
    glyphOrientationHorizontal: "glyph-orientation-horizontal",
    glyphOrientationVertical: "glyph-orientation-vertical",
    hrefLang: "hreflang",
    horizAdvX: "horiz-adv-x",
    horizOriginX: "horiz-origin-x",
    horizOriginY: "horiz-origin-y",
    imageRendering: "image-rendering",
    letterSpacing: "letter-spacing",
    lightingColor: "lighting-color",
    markerEnd: "marker-end",
    markerMid: "marker-mid",
    markerStart: "marker-start",
    navDown: "nav-down",
    navDownLeft: "nav-down-left",
    navDownRight: "nav-down-right",
    navLeft: "nav-left",
    navNext: "nav-next",
    navPrev: "nav-prev",
    navRight: "nav-right",
    navUp: "nav-up",
    navUpLeft: "nav-up-left",
    navUpRight: "nav-up-right",
    onAbort: "onabort",
    onActivate: "onactivate",
    onAfterPrint: "onafterprint",
    onBeforePrint: "onbeforeprint",
    onBegin: "onbegin",
    onCancel: "oncancel",
    onCanPlay: "oncanplay",
    onCanPlayThrough: "oncanplaythrough",
    onChange: "onchange",
    onClick: "onclick",
    onClose: "onclose",
    onCopy: "oncopy",
    onCueChange: "oncuechange",
    onCut: "oncut",
    onDblClick: "ondblclick",
    onDrag: "ondrag",
    onDragEnd: "ondragend",
    onDragEnter: "ondragenter",
    onDragExit: "ondragexit",
    onDragLeave: "ondragleave",
    onDragOver: "ondragover",
    onDragStart: "ondragstart",
    onDrop: "ondrop",
    onDurationChange: "ondurationchange",
    onEmptied: "onemptied",
    onEnd: "onend",
    onEnded: "onended",
    onError: "onerror",
    onFocus: "onfocus",
    onFocusIn: "onfocusin",
    onFocusOut: "onfocusout",
    onHashChange: "onhashchange",
    onInput: "oninput",
    onInvalid: "oninvalid",
    onKeyDown: "onkeydown",
    onKeyPress: "onkeypress",
    onKeyUp: "onkeyup",
    onLoad: "onload",
    onLoadedData: "onloadeddata",
    onLoadedMetadata: "onloadedmetadata",
    onLoadStart: "onloadstart",
    onMessage: "onmessage",
    onMouseDown: "onmousedown",
    onMouseEnter: "onmouseenter",
    onMouseLeave: "onmouseleave",
    onMouseMove: "onmousemove",
    onMouseOut: "onmouseout",
    onMouseOver: "onmouseover",
    onMouseUp: "onmouseup",
    onMouseWheel: "onmousewheel",
    onOffline: "onoffline",
    onOnline: "ononline",
    onPageHide: "onpagehide",
    onPageShow: "onpageshow",
    onPaste: "onpaste",
    onPause: "onpause",
    onPlay: "onplay",
    onPlaying: "onplaying",
    onPopState: "onpopstate",
    onProgress: "onprogress",
    onRateChange: "onratechange",
    onRepeat: "onrepeat",
    onReset: "onreset",
    onResize: "onresize",
    onScroll: "onscroll",
    onSeeked: "onseeked",
    onSeeking: "onseeking",
    onSelect: "onselect",
    onShow: "onshow",
    onStalled: "onstalled",
    onStorage: "onstorage",
    onSubmit: "onsubmit",
    onSuspend: "onsuspend",
    onTimeUpdate: "ontimeupdate",
    onToggle: "ontoggle",
    onUnload: "onunload",
    onVolumeChange: "onvolumechange",
    onWaiting: "onwaiting",
    onZoom: "onzoom",
    overlinePosition: "overline-position",
    overlineThickness: "overline-thickness",
    paintOrder: "paint-order",
    panose1: "panose-1",
    pointerEvents: "pointer-events",
    referrerPolicy: "referrerpolicy",
    renderingIntent: "rendering-intent",
    shapeRendering: "shape-rendering",
    stopColor: "stop-color",
    stopOpacity: "stop-opacity",
    strikethroughPosition: "strikethrough-position",
    strikethroughThickness: "strikethrough-thickness",
    strokeDashArray: "stroke-dasharray",
    strokeDashOffset: "stroke-dashoffset",
    strokeLineCap: "stroke-linecap",
    strokeLineJoin: "stroke-linejoin",
    strokeMiterLimit: "stroke-miterlimit",
    strokeOpacity: "stroke-opacity",
    strokeWidth: "stroke-width",
    tabIndex: "tabindex",
    textAnchor: "text-anchor",
    textDecoration: "text-decoration",
    textRendering: "text-rendering",
    transformOrigin: "transform-origin",
    typeOf: "typeof",
    underlinePosition: "underline-position",
    underlineThickness: "underline-thickness",
    unicodeBidi: "unicode-bidi",
    unicodeRange: "unicode-range",
    unitsPerEm: "units-per-em",
    vAlphabetic: "v-alphabetic",
    vHanging: "v-hanging",
    vIdeographic: "v-ideographic",
    vMathematical: "v-mathematical",
    vectorEffect: "vector-effect",
    vertAdvY: "vert-adv-y",
    vertOriginX: "vert-origin-x",
    vertOriginY: "vert-origin-y",
    wordSpacing: "word-spacing",
    writingMode: "writing-mode",
    xHeight: "x-height",
    // These were camelcased in Tiny. Now lowercased in SVG 2
    playbackOrder: "playbackorder",
    timelineBegin: "timelinebegin"
  },
  properties: {
    about: In,
    accentHeight: me,
    accumulate: null,
    additive: null,
    alignmentBaseline: null,
    alphabetic: me,
    amplitude: me,
    arabicForm: null,
    ascent: me,
    attributeName: null,
    attributeType: null,
    azimuth: me,
    bandwidth: null,
    baselineShift: null,
    baseFrequency: null,
    baseProfile: null,
    bbox: null,
    begin: null,
    bias: me,
    by: null,
    calcMode: null,
    capHeight: me,
    className: wt,
    clip: null,
    clipPath: null,
    clipPathUnits: null,
    clipRule: null,
    color: null,
    colorInterpolation: null,
    colorInterpolationFilters: null,
    colorProfile: null,
    colorRendering: null,
    content: null,
    contentScriptType: null,
    contentStyleType: null,
    crossOrigin: null,
    cursor: null,
    cx: null,
    cy: null,
    d: null,
    dataType: null,
    defaultAction: null,
    descent: me,
    diffuseConstant: me,
    direction: null,
    display: null,
    dur: null,
    divisor: me,
    dominantBaseline: null,
    download: $e,
    dx: null,
    dy: null,
    edgeMode: null,
    editable: null,
    elevation: me,
    enableBackground: null,
    end: null,
    event: null,
    exponent: me,
    externalResourcesRequired: null,
    fill: null,
    fillOpacity: me,
    fillRule: null,
    filter: null,
    filterRes: null,
    filterUnits: null,
    floodColor: null,
    floodOpacity: null,
    focusable: null,
    focusHighlight: null,
    fontFamily: null,
    fontSize: null,
    fontSizeAdjust: null,
    fontStretch: null,
    fontStyle: null,
    fontVariant: null,
    fontWeight: null,
    format: null,
    fr: null,
    from: null,
    fx: null,
    fy: null,
    g1: pa,
    g2: pa,
    glyphName: pa,
    glyphOrientationHorizontal: null,
    glyphOrientationVertical: null,
    glyphRef: null,
    gradientTransform: null,
    gradientUnits: null,
    handler: null,
    hanging: me,
    hatchContentUnits: null,
    hatchUnits: null,
    height: null,
    href: null,
    hrefLang: null,
    horizAdvX: me,
    horizOriginX: me,
    horizOriginY: me,
    id: null,
    ideographic: me,
    imageRendering: null,
    initialVisibility: null,
    in: null,
    in2: null,
    intercept: me,
    k: me,
    k1: me,
    k2: me,
    k3: me,
    k4: me,
    kernelMatrix: In,
    kernelUnitLength: null,
    keyPoints: null,
    // SEMI_COLON_SEPARATED
    keySplines: null,
    // SEMI_COLON_SEPARATED
    keyTimes: null,
    // SEMI_COLON_SEPARATED
    kerning: null,
    lang: null,
    lengthAdjust: null,
    letterSpacing: null,
    lightingColor: null,
    limitingConeAngle: me,
    local: null,
    markerEnd: null,
    markerMid: null,
    markerStart: null,
    markerHeight: null,
    markerUnits: null,
    markerWidth: null,
    mask: null,
    maskContentUnits: null,
    maskUnits: null,
    mathematical: null,
    max: null,
    media: null,
    mediaCharacterEncoding: null,
    mediaContentEncodings: null,
    mediaSize: me,
    mediaTime: null,
    method: null,
    min: null,
    mode: null,
    name: null,
    navDown: null,
    navDownLeft: null,
    navDownRight: null,
    navLeft: null,
    navNext: null,
    navPrev: null,
    navRight: null,
    navUp: null,
    navUpLeft: null,
    navUpRight: null,
    numOctaves: null,
    observer: null,
    offset: null,
    onAbort: null,
    onActivate: null,
    onAfterPrint: null,
    onBeforePrint: null,
    onBegin: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnd: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFocusIn: null,
    onFocusOut: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadStart: null,
    onMessage: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onMouseWheel: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRepeat: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onShow: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onZoom: null,
    opacity: null,
    operator: null,
    order: null,
    orient: null,
    orientation: null,
    origin: null,
    overflow: null,
    overlay: null,
    overlinePosition: me,
    overlineThickness: me,
    paintOrder: null,
    panose1: null,
    path: null,
    pathLength: me,
    patternContentUnits: null,
    patternTransform: null,
    patternUnits: null,
    phase: null,
    ping: wt,
    pitch: null,
    playbackOrder: null,
    pointerEvents: null,
    points: null,
    pointsAtX: me,
    pointsAtY: me,
    pointsAtZ: me,
    preserveAlpha: null,
    preserveAspectRatio: null,
    primitiveUnits: null,
    propagate: null,
    property: In,
    r: null,
    radius: null,
    referrerPolicy: null,
    refX: null,
    refY: null,
    rel: In,
    rev: In,
    renderingIntent: null,
    repeatCount: null,
    repeatDur: null,
    requiredExtensions: In,
    requiredFeatures: In,
    requiredFonts: In,
    requiredFormats: In,
    resource: null,
    restart: null,
    result: null,
    rotate: null,
    rx: null,
    ry: null,
    scale: null,
    seed: null,
    shapeRendering: null,
    side: null,
    slope: null,
    snapshotTime: null,
    specularConstant: me,
    specularExponent: me,
    spreadMethod: null,
    spacing: null,
    startOffset: null,
    stdDeviation: null,
    stemh: null,
    stemv: null,
    stitchTiles: null,
    stopColor: null,
    stopOpacity: null,
    strikethroughPosition: me,
    strikethroughThickness: me,
    string: null,
    stroke: null,
    strokeDashArray: In,
    strokeDashOffset: null,
    strokeLineCap: null,
    strokeLineJoin: null,
    strokeMiterLimit: me,
    strokeOpacity: me,
    strokeWidth: null,
    style: null,
    surfaceScale: me,
    syncBehavior: null,
    syncBehaviorDefault: null,
    syncMaster: null,
    syncTolerance: null,
    syncToleranceDefault: null,
    systemLanguage: In,
    tabIndex: me,
    tableValues: null,
    target: null,
    targetX: me,
    targetY: me,
    textAnchor: null,
    textDecoration: null,
    textRendering: null,
    textLength: null,
    timelineBegin: null,
    title: null,
    transformBehavior: null,
    type: null,
    typeOf: In,
    to: null,
    transform: null,
    transformOrigin: null,
    u1: null,
    u2: null,
    underlinePosition: me,
    underlineThickness: me,
    unicode: null,
    unicodeBidi: null,
    unicodeRange: null,
    unitsPerEm: me,
    values: null,
    vAlphabetic: me,
    vMathematical: me,
    vectorEffect: null,
    vHanging: me,
    vIdeographic: me,
    version: null,
    vertAdvY: me,
    vertOriginX: me,
    vertOriginY: me,
    viewBox: null,
    viewTarget: null,
    visibility: null,
    width: null,
    widths: null,
    wordSpacing: null,
    writingMode: null,
    x: null,
    x1: null,
    x2: null,
    xChannelSelector: null,
    xHeight: me,
    y: null,
    y1: null,
    y2: null,
    yChannelSelector: null,
    z: null,
    zoomAndPan: null
  },
  space: "svg",
  transform: ux
}), fx = Ma({
  properties: {
    xLinkActuate: null,
    xLinkArcRole: null,
    xLinkHref: null,
    xLinkRole: null,
    xLinkShow: null,
    xLinkTitle: null,
    xLinkType: null
  },
  space: "xlink",
  transform(e, t) {
    return "xlink:" + t.slice(5).toLowerCase();
  }
}), px = Ma({
  attributes: { xmlnsxlink: "xmlns:xlink" },
  properties: { xmlnsXLink: null, xmlns: null },
  space: "xmlns",
  transform: dx
}), hx = Ma({
  properties: { xmlBase: null, xmlLang: null, xmlSpace: null },
  space: "xml",
  transform(e, t) {
    return "xml:" + t.slice(3).toLowerCase();
  }
}), DL = {
  classId: "classID",
  dataType: "datatype",
  itemId: "itemID",
  strokeDashArray: "strokeDasharray",
  strokeDashOffset: "strokeDashoffset",
  strokeLineCap: "strokeLinecap",
  strokeLineJoin: "strokeLinejoin",
  strokeMiterLimit: "strokeMiterlimit",
  typeOf: "typeof",
  xLinkActuate: "xlinkActuate",
  xLinkArcRole: "xlinkArcrole",
  xLinkHref: "xlinkHref",
  xLinkRole: "xlinkRole",
  xLinkShow: "xlinkShow",
  xLinkTitle: "xlinkTitle",
  xLinkType: "xlinkType",
  xmlnsXLink: "xmlnsXlink"
}, OL = /[A-Z]/g, ag = /-[a-z]/g, ML = /^data[-\w.:]+$/i;
function RL(e, t) {
  const n = hd(t);
  let r = t, i = Sn;
  if (n in e.normal)
    return e.property[e.normal[n]];
  if (n.length > 4 && n.slice(0, 4) === "data" && ML.test(t)) {
    if (t.charAt(4) === "-") {
      const a = t.slice(5).replace(ag, FL);
      r = "data" + a.charAt(0).toUpperCase() + a.slice(1);
    } else {
      const a = t.slice(4);
      if (!ag.test(a)) {
        let s = a.replace(OL, TL);
        s.charAt(0) !== "-" && (s = "-" + s), t = "data" + s;
      }
    }
    i = Jf;
  }
  return new i(r, t);
}
function TL(e) {
  return "-" + e.toLowerCase();
}
function FL(e) {
  return e.charAt(1).toUpperCase();
}
const PL = lx([cx, NL, fx, px, hx], "html"), Qf = lx([cx, AL, fx, px, hx], "svg");
function LL(e) {
  return e.join(" ").trim();
}
var ea = {}, vu, sg;
function VL() {
  if (sg) return vu;
  sg = 1;
  var e = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g, t = /\n/g, n = /^\s*/, r = /^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/, i = /^:\s*/, a = /^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/, s = /^[;\s]*/, o = /^\s+|\s+$/g, c = `
`, u = "/", f = "*", p = "", g = "comment", h = "declaration";
  function y(S, w) {
    if (typeof S != "string")
      throw new TypeError("First argument must be a string");
    if (!S) return [];
    w = w || {};
    var I = 1, b = 1;
    function E(H) {
      var L = H.match(t);
      L && (I += L.length);
      var q = H.lastIndexOf(c);
      b = ~q ? H.length - q : b + H.length;
    }
    function C() {
      var H = { line: I, column: b };
      return function(L) {
        return L.position = new A(H), F(), L;
      };
    }
    function A(H) {
      this.start = H, this.end = { line: I, column: b }, this.source = w.source;
    }
    A.prototype.content = S;
    function N(H) {
      var L = new Error(
        w.source + ":" + I + ":" + b + ": " + H
      );
      if (L.reason = H, L.filename = w.source, L.line = I, L.column = b, L.source = S, !w.silent) throw L;
    }
    function D(H) {
      var L = H.exec(S);
      if (L) {
        var q = L[0];
        return E(q), S = S.slice(q.length), L;
      }
    }
    function F() {
      D(n);
    }
    function P(H) {
      var L;
      for (H = H || []; L = G(); )
        L !== !1 && H.push(L);
      return H;
    }
    function G() {
      var H = C();
      if (!(u != S.charAt(0) || f != S.charAt(1))) {
        for (var L = 2; p != S.charAt(L) && (f != S.charAt(L) || u != S.charAt(L + 1)); )
          ++L;
        if (L += 2, p === S.charAt(L - 1))
          return N("End of comment missing");
        var q = S.slice(2, L - 2);
        return b += 2, E(q), S = S.slice(L), b += 2, H({
          type: g,
          comment: q
        });
      }
    }
    function Y() {
      var H = C(), L = D(r);
      if (L) {
        if (G(), !D(i)) return N("property missing ':'");
        var q = D(a), te = H({
          type: h,
          property: _(L[0].replace(e, p)),
          value: q ? _(q[0].replace(e, p)) : p
        });
        return D(s), te;
      }
    }
    function z() {
      var H = [];
      P(H);
      for (var L; L = Y(); )
        L !== !1 && (H.push(L), P(H));
      return H;
    }
    return F(), z();
  }
  function _(S) {
    return S ? S.replace(o, p) : p;
  }
  return vu = y, vu;
}
var og;
function BL() {
  if (og) return ea;
  og = 1;
  var e = ea && ea.__importDefault || function(r) {
    return r && r.__esModule ? r : { default: r };
  };
  Object.defineProperty(ea, "__esModule", { value: !0 }), ea.default = n;
  const t = e(VL());
  function n(r, i) {
    let a = null;
    if (!r || typeof r != "string")
      return a;
    const s = (0, t.default)(r), o = typeof i == "function";
    return s.forEach((c) => {
      if (c.type !== "declaration")
        return;
      const { property: u, value: f } = c;
      o ? i(u, f, c) : f && (a = a || {}, a[u] = f);
    }), a;
  }
  return ea;
}
var qa = {}, lg;
function GL() {
  if (lg) return qa;
  lg = 1, Object.defineProperty(qa, "__esModule", { value: !0 }), qa.camelCase = void 0;
  var e = /^--[a-zA-Z0-9_-]+$/, t = /-([a-z])/g, n = /^[^-]+$/, r = /^-(webkit|moz|ms|o|khtml)-/, i = /^-(ms)-/, a = function(u) {
    return !u || n.test(u) || e.test(u);
  }, s = function(u, f) {
    return f.toUpperCase();
  }, o = function(u, f) {
    return "".concat(f, "-");
  }, c = function(u, f) {
    return f === void 0 && (f = {}), a(u) ? u : (u = u.toLowerCase(), f.reactCompat ? u = u.replace(i, o) : u = u.replace(r, o), u.replace(t, s));
  };
  return qa.camelCase = c, qa;
}
var Ja, cg;
function YL() {
  if (cg) return Ja;
  cg = 1;
  var e = Ja && Ja.__importDefault || function(i) {
    return i && i.__esModule ? i : { default: i };
  }, t = e(BL()), n = GL();
  function r(i, a) {
    var s = {};
    return !i || typeof i != "string" || (0, t.default)(i, function(o, c) {
      o && c && (s[(0, n.camelCase)(o, a)] = c);
    }), s;
  }
  return r.default = r, Ja = r, Ja;
}
var WL = YL();
const zL = /* @__PURE__ */ li(WL), mx = gx("end"), Kf = gx("start");
function gx(e) {
  return t;
  function t(n) {
    const r = n && n.position && n.position[e] || {};
    if (typeof r.line == "number" && r.line > 0 && typeof r.column == "number" && r.column > 0)
      return {
        line: r.line,
        column: r.column,
        offset: typeof r.offset == "number" && r.offset > -1 ? r.offset : void 0
      };
  }
}
function HL(e) {
  const t = Kf(e), n = mx(e);
  if (t && n)
    return { start: t, end: n };
}
function os(e) {
  return !e || typeof e != "object" ? "" : "position" in e || "type" in e ? ug(e.position) : "start" in e || "end" in e ? ug(e) : "line" in e || "column" in e ? vd(e) : "";
}
function vd(e) {
  return dg(e && e.line) + ":" + dg(e && e.column);
}
function ug(e) {
  return vd(e && e.start) + "-" + vd(e && e.end);
}
function dg(e) {
  return e && typeof e == "number" ? e : 1;
}
class un extends Error {
  /**
   * Create a message for `reason`.
   *
   * > ðŸª¦ **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {Options | null | undefined} [options]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns
   *   Instance of `VFileMessage`.
   */
  // eslint-disable-next-line complexity
  constructor(t, n, r) {
    super(), typeof n == "string" && (r = n, n = void 0);
    let i = "", a = {}, s = !1;
    if (n && ("line" in n && "column" in n ? a = { place: n } : "start" in n && "end" in n ? a = { place: n } : "type" in n ? a = {
      ancestors: [n],
      place: n.position
    } : a = { ...n }), typeof t == "string" ? i = t : !a.cause && t && (s = !0, i = t.message, a.cause = t), !a.ruleId && !a.source && typeof r == "string") {
      const c = r.indexOf(":");
      c === -1 ? a.ruleId = r : (a.source = r.slice(0, c), a.ruleId = r.slice(c + 1));
    }
    if (!a.place && a.ancestors && a.ancestors) {
      const c = a.ancestors[a.ancestors.length - 1];
      c && (a.place = c.position);
    }
    const o = a.place && "start" in a.place ? a.place.start : a.place;
    this.ancestors = a.ancestors || void 0, this.cause = a.cause || void 0, this.column = o ? o.column : void 0, this.fatal = void 0, this.file = "", this.message = i, this.line = o ? o.line : void 0, this.name = os(a.place) || "1:1", this.place = a.place || void 0, this.reason = this.message, this.ruleId = a.ruleId || void 0, this.source = a.source || void 0, this.stack = s && a.cause && typeof a.cause.stack == "string" ? a.cause.stack : "", this.actual = void 0, this.expected = void 0, this.note = void 0, this.url = void 0;
  }
}
un.prototype.file = "";
un.prototype.name = "";
un.prototype.reason = "";
un.prototype.message = "";
un.prototype.stack = "";
un.prototype.column = void 0;
un.prototype.line = void 0;
un.prototype.ancestors = void 0;
un.prototype.cause = void 0;
un.prototype.fatal = void 0;
un.prototype.place = void 0;
un.prototype.ruleId = void 0;
un.prototype.source = void 0;
const ep = {}.hasOwnProperty, jL = /* @__PURE__ */ new Map(), $L = /[A-Z]/g, UL = /* @__PURE__ */ new Set(["table", "tbody", "thead", "tfoot", "tr"]), XL = /* @__PURE__ */ new Set(["td", "th"]), vx = "https://github.com/syntax-tree/hast-util-to-jsx-runtime";
function ZL(e, t) {
  if (!t || t.Fragment === void 0)
    throw new TypeError("Expected `Fragment` in options");
  const n = t.filePath || void 0;
  let r;
  if (t.development) {
    if (typeof t.jsxDEV != "function")
      throw new TypeError(
        "Expected `jsxDEV` in options when `development: true`"
      );
    r = rV(n, t.jsxDEV);
  } else {
    if (typeof t.jsx != "function")
      throw new TypeError("Expected `jsx` in production options");
    if (typeof t.jsxs != "function")
      throw new TypeError("Expected `jsxs` in production options");
    r = nV(n, t.jsx, t.jsxs);
  }
  const i = {
    Fragment: t.Fragment,
    ancestors: [],
    components: t.components || {},
    create: r,
    elementAttributeNameCase: t.elementAttributeNameCase || "react",
    evaluater: t.createEvaluater ? t.createEvaluater() : void 0,
    filePath: n,
    ignoreInvalidStyle: t.ignoreInvalidStyle || !1,
    passKeys: t.passKeys !== !1,
    passNode: t.passNode || !1,
    schema: t.space === "svg" ? Qf : PL,
    stylePropertyNameCase: t.stylePropertyNameCase || "dom",
    tableCellAlignToStyle: t.tableCellAlignToStyle !== !1
  }, a = yx(i, e, void 0);
  return a && typeof a != "string" ? a : i.create(
    e,
    i.Fragment,
    { children: a || void 0 },
    void 0
  );
}
function yx(e, t, n) {
  if (t.type === "element")
    return qL(e, t, n);
  if (t.type === "mdxFlowExpression" || t.type === "mdxTextExpression")
    return JL(e, t);
  if (t.type === "mdxJsxFlowElement" || t.type === "mdxJsxTextElement")
    return KL(e, t, n);
  if (t.type === "mdxjsEsm")
    return QL(e, t);
  if (t.type === "root")
    return eV(e, t, n);
  if (t.type === "text")
    return tV(e, t);
}
function qL(e, t, n) {
  const r = e.schema;
  let i = r;
  t.tagName.toLowerCase() === "svg" && r.space === "html" && (i = Qf, e.schema = i), e.ancestors.push(t);
  const a = xx(e, t.tagName, !1), s = iV(e, t);
  let o = np(e, t);
  return UL.has(t.tagName) && (o = o.filter(function(c) {
    return typeof c == "string" ? !EL(c) : !0;
  })), bx(e, s, a, t), tp(s, o), e.ancestors.pop(), e.schema = r, e.create(t, a, s, n);
}
function JL(e, t) {
  if (t.data && t.data.estree && e.evaluater) {
    const r = t.data.estree.body[0];
    return r.type, /** @type {Child | undefined} */
    e.evaluater.evaluateExpression(r.expression);
  }
  Is(e, t.position);
}
function QL(e, t) {
  if (t.data && t.data.estree && e.evaluater)
    return (
      /** @type {Child | undefined} */
      e.evaluater.evaluateProgram(t.data.estree)
    );
  Is(e, t.position);
}
function KL(e, t, n) {
  const r = e.schema;
  let i = r;
  t.name === "svg" && r.space === "html" && (i = Qf, e.schema = i), e.ancestors.push(t);
  const a = t.name === null ? e.Fragment : xx(e, t.name, !0), s = aV(e, t), o = np(e, t);
  return bx(e, s, a, t), tp(s, o), e.ancestors.pop(), e.schema = r, e.create(t, a, s, n);
}
function eV(e, t, n) {
  const r = {};
  return tp(r, np(e, t)), e.create(t, e.Fragment, r, n);
}
function tV(e, t) {
  return t.value;
}
function bx(e, t, n, r) {
  typeof n != "string" && n !== e.Fragment && e.passNode && (t.node = r);
}
function tp(e, t) {
  if (t.length > 0) {
    const n = t.length > 1 ? t : t[0];
    n && (e.children = n);
  }
}
function nV(e, t, n) {
  return r;
  function r(i, a, s, o) {
    const u = Array.isArray(s.children) ? n : t;
    return o ? u(a, s, o) : u(a, s);
  }
}
function rV(e, t) {
  return n;
  function n(r, i, a, s) {
    const o = Array.isArray(a.children), c = Kf(r);
    return t(
      i,
      a,
      s,
      o,
      {
        columnNumber: c ? c.column - 1 : void 0,
        fileName: e,
        lineNumber: c ? c.line : void 0
      },
      void 0
    );
  }
}
function iV(e, t) {
  const n = {};
  let r, i;
  for (i in t.properties)
    if (i !== "children" && ep.call(t.properties, i)) {
      const a = sV(e, i, t.properties[i]);
      if (a) {
        const [s, o] = a;
        e.tableCellAlignToStyle && s === "align" && typeof o == "string" && XL.has(t.tagName) ? r = o : n[s] = o;
      }
    }
  if (r) {
    const a = (
      /** @type {Style} */
      n.style || (n.style = {})
    );
    a[e.stylePropertyNameCase === "css" ? "text-align" : "textAlign"] = r;
  }
  return n;
}
function aV(e, t) {
  const n = {};
  for (const r of t.attributes)
    if (r.type === "mdxJsxExpressionAttribute")
      if (r.data && r.data.estree && e.evaluater) {
        const a = r.data.estree.body[0];
        a.type;
        const s = a.expression;
        s.type;
        const o = s.properties[0];
        o.type, Object.assign(
          n,
          e.evaluater.evaluateExpression(o.argument)
        );
      } else
        Is(e, t.position);
    else {
      const i = r.name;
      let a;
      if (r.value && typeof r.value == "object")
        if (r.value.data && r.value.data.estree && e.evaluater) {
          const o = r.value.data.estree.body[0];
          o.type, a = e.evaluater.evaluateExpression(o.expression);
        } else
          Is(e, t.position);
      else
        a = r.value === null ? !0 : r.value;
      n[i] = /** @type {Props[keyof Props]} */
      a;
    }
  return n;
}
function np(e, t) {
  const n = [];
  let r = -1;
  const i = e.passKeys ? /* @__PURE__ */ new Map() : jL;
  for (; ++r < t.children.length; ) {
    const a = t.children[r];
    let s;
    if (e.passKeys) {
      const c = a.type === "element" ? a.tagName : a.type === "mdxJsxFlowElement" || a.type === "mdxJsxTextElement" ? a.name : void 0;
      if (c) {
        const u = i.get(c) || 0;
        s = c + "-" + u, i.set(c, u + 1);
      }
    }
    const o = yx(e, a, s);
    o !== void 0 && n.push(o);
  }
  return n;
}
function sV(e, t, n) {
  const r = RL(e.schema, t);
  if (!(n == null || typeof n == "number" && Number.isNaN(n))) {
    if (Array.isArray(n) && (n = r.commaSeparated ? wL(n) : LL(n)), r.property === "style") {
      let i = typeof n == "object" ? n : oV(e, String(n));
      return e.stylePropertyNameCase === "css" && (i = lV(i)), ["style", i];
    }
    return [
      e.elementAttributeNameCase === "react" && r.space ? DL[r.property] || r.property : r.attribute,
      n
    ];
  }
}
function oV(e, t) {
  try {
    return zL(t, { reactCompat: !0 });
  } catch (n) {
    if (e.ignoreInvalidStyle)
      return {};
    const r = (
      /** @type {Error} */
      n
    ), i = new un("Cannot parse `style` attribute", {
      ancestors: e.ancestors,
      cause: r,
      ruleId: "style",
      source: "hast-util-to-jsx-runtime"
    });
    throw i.file = e.filePath || void 0, i.url = vx + "#cannot-parse-style-attribute", i;
  }
}
function xx(e, t, n) {
  let r;
  if (!n)
    r = { type: "Literal", value: t };
  else if (t.includes(".")) {
    const i = t.split(".");
    let a = -1, s;
    for (; ++a < i.length; ) {
      const o = ng(i[a]) ? { type: "Identifier", name: i[a] } : { type: "Literal", value: i[a] };
      s = s ? {
        type: "MemberExpression",
        object: s,
        property: o,
        computed: !!(a && o.type === "Literal"),
        optional: !1
      } : o;
    }
    r = s;
  } else
    r = ng(t) && !/^[a-z]/.test(t) ? { type: "Identifier", name: t } : { type: "Literal", value: t };
  if (r.type === "Literal") {
    const i = (
      /** @type {string | number} */
      r.value
    );
    return ep.call(e.components, i) ? e.components[i] : i;
  }
  if (e.evaluater)
    return e.evaluater.evaluateExpression(r);
  Is(e);
}
function Is(e, t) {
  const n = new un(
    "Cannot handle MDX estrees without `createEvaluater`",
    {
      ancestors: e.ancestors,
      place: t,
      ruleId: "mdx-estree",
      source: "hast-util-to-jsx-runtime"
    }
  );
  throw n.file = e.filePath || void 0, n.url = vx + "#cannot-handle-mdx-estrees-without-createevaluater", n;
}
function lV(e) {
  const t = {};
  let n;
  for (n in e)
    ep.call(e, n) && (t[cV(n)] = e[n]);
  return t;
}
function cV(e) {
  let t = e.replace($L, uV);
  return t.slice(0, 3) === "ms-" && (t = "-" + t), t;
}
function uV(e) {
  return "-" + e.toLowerCase();
}
const yu = {
  action: ["form"],
  cite: ["blockquote", "del", "ins", "q"],
  data: ["object"],
  formAction: ["button", "input"],
  href: ["a", "area", "base", "link"],
  icon: ["menuitem"],
  itemId: null,
  manifest: ["html"],
  ping: ["a", "area"],
  poster: ["video"],
  src: [
    "audio",
    "embed",
    "iframe",
    "img",
    "input",
    "script",
    "source",
    "track",
    "video"
  ]
}, dV = {};
function fV(e, t) {
  const n = dV, r = typeof n.includeImageAlt == "boolean" ? n.includeImageAlt : !0, i = typeof n.includeHtml == "boolean" ? n.includeHtml : !0;
  return wx(e, r, i);
}
function wx(e, t, n) {
  if (pV(e)) {
    if ("value" in e)
      return e.type === "html" && !n ? "" : e.value;
    if (t && "alt" in e && e.alt)
      return e.alt;
    if ("children" in e)
      return fg(e.children, t, n);
  }
  return Array.isArray(e) ? fg(e, t, n) : "";
}
function fg(e, t, n) {
  const r = [];
  let i = -1;
  for (; ++i < e.length; )
    r[i] = wx(e[i], t, n);
  return r.join("");
}
function pV(e) {
  return !!(e && typeof e == "object");
}
const pg = document.createElement("i");
function rp(e) {
  const t = "&" + e + ";";
  pg.innerHTML = t;
  const n = pg.textContent;
  return (
    // @ts-expect-error: TypeScript is wrong that `textContent` on elements can
    // yield `null`.
    n.charCodeAt(n.length - 1) === 59 && e !== "semi" || n === t ? !1 : n
  );
}
function gr(e, t, n, r) {
  const i = e.length;
  let a = 0, s;
  if (t < 0 ? t = -t > i ? 0 : i + t : t = t > i ? i : t, n = n > 0 ? n : 0, r.length < 1e4)
    s = Array.from(r), s.unshift(t, n), e.splice(...s);
  else
    for (n && e.splice(t, n); a < r.length; )
      s = r.slice(a, a + 1e4), s.unshift(t, 0), e.splice(...s), a += 1e4, t += 1e4;
}
function Ln(e, t) {
  return e.length > 0 ? (gr(e, e.length, 0, t), e) : t;
}
const hg = {}.hasOwnProperty;
function hV(e) {
  const t = {};
  let n = -1;
  for (; ++n < e.length; )
    mV(t, e[n]);
  return t;
}
function mV(e, t) {
  let n;
  for (n in t) {
    const i = (hg.call(e, n) ? e[n] : void 0) || (e[n] = {}), a = t[n];
    let s;
    if (a)
      for (s in a) {
        hg.call(i, s) || (i[s] = []);
        const o = a[s];
        gV(
          // @ts-expect-error Looks like a list.
          i[s],
          Array.isArray(o) ? o : o ? [o] : []
        );
      }
  }
}
function gV(e, t) {
  let n = -1;
  const r = [];
  for (; ++n < t.length; )
    (t[n].add === "after" ? e : r).push(t[n]);
  gr(e, 0, 0, r);
}
function Cx(e, t) {
  const n = Number.parseInt(e, t);
  return (
    // C0 except for HT, LF, FF, CR, space.
    n < 9 || n === 11 || n > 13 && n < 32 || // Control character (DEL) of C0, and C1 controls.
    n > 126 && n < 160 || // Lone high surrogates and low surrogates.
    n > 55295 && n < 57344 || // Noncharacters.
    n > 64975 && n < 65008 || /* eslint-disable no-bitwise */
    (n & 65535) === 65535 || (n & 65535) === 65534 || /* eslint-enable no-bitwise */
    // Out of range
    n > 1114111 ? "ï¿½" : String.fromCodePoint(n)
  );
}
function ha(e) {
  return e.replace(/[\t\n\r ]+/g, " ").replace(/^ | $/g, "").toLowerCase().toUpperCase();
}
const dr = ui(/[A-Za-z]/), Nn = ui(/[\dA-Za-z]/), vV = ui(/[#-'*+\--9=?A-Z^-~]/);
function yd(e) {
  return (
    // Special whitespace codes (which have negative values), C0 and Control
    // character DEL
    e !== null && (e < 32 || e === 127)
  );
}
const bd = ui(/\d/), yV = ui(/[\dA-Fa-f]/), bV = ui(/[!-/:-@[-`{-~]/);
function Ye(e) {
  return e !== null && e < -2;
}
function wn(e) {
  return e !== null && (e < 0 || e === 32);
}
function ct(e) {
  return e === -2 || e === -1 || e === 32;
}
const xV = ui(/\p{P}|\p{S}/u), wV = ui(/\s/);
function ui(e) {
  return t;
  function t(n) {
    return n !== null && n > -1 && e.test(String.fromCharCode(n));
  }
}
function Ra(e) {
  const t = [];
  let n = -1, r = 0, i = 0;
  for (; ++n < e.length; ) {
    const a = e.charCodeAt(n);
    let s = "";
    if (a === 37 && Nn(e.charCodeAt(n + 1)) && Nn(e.charCodeAt(n + 2)))
      i = 2;
    else if (a < 128)
      /[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a)) || (s = String.fromCharCode(a));
    else if (a > 55295 && a < 57344) {
      const o = e.charCodeAt(n + 1);
      a < 56320 && o > 56319 && o < 57344 ? (s = String.fromCharCode(a, o), i = 1) : s = "ï¿½";
    } else
      s = String.fromCharCode(a);
    s && (t.push(e.slice(r, n), encodeURIComponent(s)), r = n + i + 1, s = ""), i && (n += i, i = 0);
  }
  return t.join("") + e.slice(r);
}
function Ct(e, t, n, r) {
  const i = r ? r - 1 : Number.POSITIVE_INFINITY;
  let a = 0;
  return s;
  function s(c) {
    return ct(c) ? (e.enter(n), o(c)) : t(c);
  }
  function o(c) {
    return ct(c) && a++ < i ? (e.consume(c), o) : (e.exit(n), t(c));
  }
}
const CV = {
  tokenize: SV
};
function SV(e) {
  const t = e.attempt(this.parser.constructs.contentInitial, r, i);
  let n;
  return t;
  function r(o) {
    if (o === null) {
      e.consume(o);
      return;
    }
    return e.enter("lineEnding"), e.consume(o), e.exit("lineEnding"), Ct(e, t, "linePrefix");
  }
  function i(o) {
    return e.enter("paragraph"), a(o);
  }
  function a(o) {
    const c = e.enter("chunkText", {
      contentType: "text",
      previous: n
    });
    return n && (n.next = c), n = c, s(o);
  }
  function s(o) {
    if (o === null) {
      e.exit("chunkText"), e.exit("paragraph"), e.consume(o);
      return;
    }
    return Ye(o) ? (e.consume(o), e.exit("chunkText"), a) : (e.consume(o), s);
  }
}
const IV = {
  tokenize: _V
}, mg = {
  tokenize: EV
};
function _V(e) {
  const t = this, n = [];
  let r = 0, i, a, s;
  return o;
  function o(b) {
    if (r < n.length) {
      const E = n[r];
      return t.containerState = E[1], e.attempt(E[0].continuation, c, u)(b);
    }
    return u(b);
  }
  function c(b) {
    if (r++, t.containerState._closeFlow) {
      t.containerState._closeFlow = void 0, i && I();
      const E = t.events.length;
      let C = E, A;
      for (; C--; )
        if (t.events[C][0] === "exit" && t.events[C][1].type === "chunkFlow") {
          A = t.events[C][1].end;
          break;
        }
      w(r);
      let N = E;
      for (; N < t.events.length; )
        t.events[N][1].end = {
          ...A
        }, N++;
      return gr(t.events, C + 1, 0, t.events.slice(E)), t.events.length = N, u(b);
    }
    return o(b);
  }
  function u(b) {
    if (r === n.length) {
      if (!i)
        return g(b);
      if (i.currentConstruct && i.currentConstruct.concrete)
        return y(b);
      t.interrupt = !!(i.currentConstruct && !i._gfmTableDynamicInterruptHack);
    }
    return t.containerState = {}, e.check(mg, f, p)(b);
  }
  function f(b) {
    return i && I(), w(r), g(b);
  }
  function p(b) {
    return t.parser.lazy[t.now().line] = r !== n.length, s = t.now().offset, y(b);
  }
  function g(b) {
    return t.containerState = {}, e.attempt(mg, h, y)(b);
  }
  function h(b) {
    return r++, n.push([t.currentConstruct, t.containerState]), g(b);
  }
  function y(b) {
    if (b === null) {
      i && I(), w(0), e.consume(b);
      return;
    }
    return i = i || t.parser.flow(t.now()), e.enter("chunkFlow", {
      _tokenizer: i,
      contentType: "flow",
      previous: a
    }), _(b);
  }
  function _(b) {
    if (b === null) {
      S(e.exit("chunkFlow"), !0), w(0), e.consume(b);
      return;
    }
    return Ye(b) ? (e.consume(b), S(e.exit("chunkFlow")), r = 0, t.interrupt = void 0, o) : (e.consume(b), _);
  }
  function S(b, E) {
    const C = t.sliceStream(b);
    if (E && C.push(null), b.previous = a, a && (a.next = b), a = b, i.defineSkip(b.start), i.write(C), t.parser.lazy[b.start.line]) {
      let A = i.events.length;
      for (; A--; )
        if (
          // The token starts before the line endingâ€¦
          i.events[A][1].start.offset < s && // â€¦and either is not ended yetâ€¦
          (!i.events[A][1].end || // â€¦or ends after it.
          i.events[A][1].end.offset > s)
        )
          return;
      const N = t.events.length;
      let D = N, F, P;
      for (; D--; )
        if (t.events[D][0] === "exit" && t.events[D][1].type === "chunkFlow") {
          if (F) {
            P = t.events[D][1].end;
            break;
          }
          F = !0;
        }
      for (w(r), A = N; A < t.events.length; )
        t.events[A][1].end = {
          ...P
        }, A++;
      gr(t.events, D + 1, 0, t.events.slice(N)), t.events.length = A;
    }
  }
  function w(b) {
    let E = n.length;
    for (; E-- > b; ) {
      const C = n[E];
      t.containerState = C[1], C[0].exit.call(t, e);
    }
    n.length = b;
  }
  function I() {
    i.write([null]), a = void 0, i = void 0, t.containerState._closeFlow = void 0;
  }
}
function EV(e, t, n) {
  return Ct(e, e.attempt(this.parser.constructs.document, t, n), "linePrefix", this.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4);
}
function gg(e) {
  if (e === null || wn(e) || wV(e))
    return 1;
  if (xV(e))
    return 2;
}
function ip(e, t, n) {
  const r = [];
  let i = -1;
  for (; ++i < e.length; ) {
    const a = e[i].resolveAll;
    a && !r.includes(a) && (t = a(t, n), r.push(a));
  }
  return t;
}
const xd = {
  name: "attention",
  resolveAll: kV,
  tokenize: NV
};
function kV(e, t) {
  let n = -1, r, i, a, s, o, c, u, f;
  for (; ++n < e.length; )
    if (e[n][0] === "enter" && e[n][1].type === "attentionSequence" && e[n][1]._close) {
      for (r = n; r--; )
        if (e[r][0] === "exit" && e[r][1].type === "attentionSequence" && e[r][1]._open && // If the markers are the same:
        t.sliceSerialize(e[r][1]).charCodeAt(0) === t.sliceSerialize(e[n][1]).charCodeAt(0)) {
          if ((e[r][1]._close || e[n][1]._open) && (e[n][1].end.offset - e[n][1].start.offset) % 3 && !((e[r][1].end.offset - e[r][1].start.offset + e[n][1].end.offset - e[n][1].start.offset) % 3))
            continue;
          c = e[r][1].end.offset - e[r][1].start.offset > 1 && e[n][1].end.offset - e[n][1].start.offset > 1 ? 2 : 1;
          const p = {
            ...e[r][1].end
          }, g = {
            ...e[n][1].start
          };
          vg(p, -c), vg(g, c), s = {
            type: c > 1 ? "strongSequence" : "emphasisSequence",
            start: p,
            end: {
              ...e[r][1].end
            }
          }, o = {
            type: c > 1 ? "strongSequence" : "emphasisSequence",
            start: {
              ...e[n][1].start
            },
            end: g
          }, a = {
            type: c > 1 ? "strongText" : "emphasisText",
            start: {
              ...e[r][1].end
            },
            end: {
              ...e[n][1].start
            }
          }, i = {
            type: c > 1 ? "strong" : "emphasis",
            start: {
              ...s.start
            },
            end: {
              ...o.end
            }
          }, e[r][1].end = {
            ...s.start
          }, e[n][1].start = {
            ...o.end
          }, u = [], e[r][1].end.offset - e[r][1].start.offset && (u = Ln(u, [["enter", e[r][1], t], ["exit", e[r][1], t]])), u = Ln(u, [["enter", i, t], ["enter", s, t], ["exit", s, t], ["enter", a, t]]), u = Ln(u, ip(t.parser.constructs.insideSpan.null, e.slice(r + 1, n), t)), u = Ln(u, [["exit", a, t], ["enter", o, t], ["exit", o, t], ["exit", i, t]]), e[n][1].end.offset - e[n][1].start.offset ? (f = 2, u = Ln(u, [["enter", e[n][1], t], ["exit", e[n][1], t]])) : f = 0, gr(e, r - 1, n - r + 3, u), n = r + u.length - f - 2;
          break;
        }
    }
  for (n = -1; ++n < e.length; )
    e[n][1].type === "attentionSequence" && (e[n][1].type = "data");
  return e;
}
function NV(e, t) {
  const n = this.parser.constructs.attentionMarkers.null, r = this.previous, i = gg(r);
  let a;
  return s;
  function s(c) {
    return a = c, e.enter("attentionSequence"), o(c);
  }
  function o(c) {
    if (c === a)
      return e.consume(c), o;
    const u = e.exit("attentionSequence"), f = gg(c), p = !f || f === 2 && i || n.includes(c), g = !i || i === 2 && f || n.includes(r);
    return u._open = !!(a === 42 ? p : p && (i || !g)), u._close = !!(a === 42 ? g : g && (f || !p)), t(c);
  }
}
function vg(e, t) {
  e.column += t, e.offset += t, e._bufferIndex += t;
}
const AV = {
  name: "autolink",
  tokenize: DV
};
function DV(e, t, n) {
  let r = 0;
  return i;
  function i(h) {
    return e.enter("autolink"), e.enter("autolinkMarker"), e.consume(h), e.exit("autolinkMarker"), e.enter("autolinkProtocol"), a;
  }
  function a(h) {
    return dr(h) ? (e.consume(h), s) : h === 64 ? n(h) : u(h);
  }
  function s(h) {
    return h === 43 || h === 45 || h === 46 || Nn(h) ? (r = 1, o(h)) : u(h);
  }
  function o(h) {
    return h === 58 ? (e.consume(h), r = 0, c) : (h === 43 || h === 45 || h === 46 || Nn(h)) && r++ < 32 ? (e.consume(h), o) : (r = 0, u(h));
  }
  function c(h) {
    return h === 62 ? (e.exit("autolinkProtocol"), e.enter("autolinkMarker"), e.consume(h), e.exit("autolinkMarker"), e.exit("autolink"), t) : h === null || h === 32 || h === 60 || yd(h) ? n(h) : (e.consume(h), c);
  }
  function u(h) {
    return h === 64 ? (e.consume(h), f) : vV(h) ? (e.consume(h), u) : n(h);
  }
  function f(h) {
    return Nn(h) ? p(h) : n(h);
  }
  function p(h) {
    return h === 46 ? (e.consume(h), r = 0, f) : h === 62 ? (e.exit("autolinkProtocol").type = "autolinkEmail", e.enter("autolinkMarker"), e.consume(h), e.exit("autolinkMarker"), e.exit("autolink"), t) : g(h);
  }
  function g(h) {
    if ((h === 45 || Nn(h)) && r++ < 63) {
      const y = h === 45 ? g : p;
      return e.consume(h), y;
    }
    return n(h);
  }
}
const ac = {
  partial: !0,
  tokenize: OV
};
function OV(e, t, n) {
  return r;
  function r(a) {
    return ct(a) ? Ct(e, i, "linePrefix")(a) : i(a);
  }
  function i(a) {
    return a === null || Ye(a) ? t(a) : n(a);
  }
}
const Sx = {
  continuation: {
    tokenize: RV
  },
  exit: TV,
  name: "blockQuote",
  tokenize: MV
};
function MV(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    if (s === 62) {
      const o = r.containerState;
      return o.open || (e.enter("blockQuote", {
        _container: !0
      }), o.open = !0), e.enter("blockQuotePrefix"), e.enter("blockQuoteMarker"), e.consume(s), e.exit("blockQuoteMarker"), a;
    }
    return n(s);
  }
  function a(s) {
    return ct(s) ? (e.enter("blockQuotePrefixWhitespace"), e.consume(s), e.exit("blockQuotePrefixWhitespace"), e.exit("blockQuotePrefix"), t) : (e.exit("blockQuotePrefix"), t(s));
  }
}
function RV(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return ct(s) ? Ct(e, a, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(s) : a(s);
  }
  function a(s) {
    return e.attempt(Sx, t, n)(s);
  }
}
function TV(e) {
  e.exit("blockQuote");
}
const Ix = {
  name: "characterEscape",
  tokenize: FV
};
function FV(e, t, n) {
  return r;
  function r(a) {
    return e.enter("characterEscape"), e.enter("escapeMarker"), e.consume(a), e.exit("escapeMarker"), i;
  }
  function i(a) {
    return bV(a) ? (e.enter("characterEscapeValue"), e.consume(a), e.exit("characterEscapeValue"), e.exit("characterEscape"), t) : n(a);
  }
}
const _x = {
  name: "characterReference",
  tokenize: PV
};
function PV(e, t, n) {
  const r = this;
  let i = 0, a, s;
  return o;
  function o(p) {
    return e.enter("characterReference"), e.enter("characterReferenceMarker"), e.consume(p), e.exit("characterReferenceMarker"), c;
  }
  function c(p) {
    return p === 35 ? (e.enter("characterReferenceMarkerNumeric"), e.consume(p), e.exit("characterReferenceMarkerNumeric"), u) : (e.enter("characterReferenceValue"), a = 31, s = Nn, f(p));
  }
  function u(p) {
    return p === 88 || p === 120 ? (e.enter("characterReferenceMarkerHexadecimal"), e.consume(p), e.exit("characterReferenceMarkerHexadecimal"), e.enter("characterReferenceValue"), a = 6, s = yV, f) : (e.enter("characterReferenceValue"), a = 7, s = bd, f(p));
  }
  function f(p) {
    if (p === 59 && i) {
      const g = e.exit("characterReferenceValue");
      return s === Nn && !rp(r.sliceSerialize(g)) ? n(p) : (e.enter("characterReferenceMarker"), e.consume(p), e.exit("characterReferenceMarker"), e.exit("characterReference"), t);
    }
    return s(p) && i++ < a ? (e.consume(p), f) : n(p);
  }
}
const yg = {
  partial: !0,
  tokenize: VV
}, bg = {
  concrete: !0,
  name: "codeFenced",
  tokenize: LV
};
function LV(e, t, n) {
  const r = this, i = {
    partial: !0,
    tokenize: C
  };
  let a = 0, s = 0, o;
  return c;
  function c(A) {
    return u(A);
  }
  function u(A) {
    const N = r.events[r.events.length - 1];
    return a = N && N[1].type === "linePrefix" ? N[2].sliceSerialize(N[1], !0).length : 0, o = A, e.enter("codeFenced"), e.enter("codeFencedFence"), e.enter("codeFencedFenceSequence"), f(A);
  }
  function f(A) {
    return A === o ? (s++, e.consume(A), f) : s < 3 ? n(A) : (e.exit("codeFencedFenceSequence"), ct(A) ? Ct(e, p, "whitespace")(A) : p(A));
  }
  function p(A) {
    return A === null || Ye(A) ? (e.exit("codeFencedFence"), r.interrupt ? t(A) : e.check(yg, _, E)(A)) : (e.enter("codeFencedFenceInfo"), e.enter("chunkString", {
      contentType: "string"
    }), g(A));
  }
  function g(A) {
    return A === null || Ye(A) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), p(A)) : ct(A) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), Ct(e, h, "whitespace")(A)) : A === 96 && A === o ? n(A) : (e.consume(A), g);
  }
  function h(A) {
    return A === null || Ye(A) ? p(A) : (e.enter("codeFencedFenceMeta"), e.enter("chunkString", {
      contentType: "string"
    }), y(A));
  }
  function y(A) {
    return A === null || Ye(A) ? (e.exit("chunkString"), e.exit("codeFencedFenceMeta"), p(A)) : A === 96 && A === o ? n(A) : (e.consume(A), y);
  }
  function _(A) {
    return e.attempt(i, E, S)(A);
  }
  function S(A) {
    return e.enter("lineEnding"), e.consume(A), e.exit("lineEnding"), w;
  }
  function w(A) {
    return a > 0 && ct(A) ? Ct(e, I, "linePrefix", a + 1)(A) : I(A);
  }
  function I(A) {
    return A === null || Ye(A) ? e.check(yg, _, E)(A) : (e.enter("codeFlowValue"), b(A));
  }
  function b(A) {
    return A === null || Ye(A) ? (e.exit("codeFlowValue"), I(A)) : (e.consume(A), b);
  }
  function E(A) {
    return e.exit("codeFenced"), t(A);
  }
  function C(A, N, D) {
    let F = 0;
    return P;
    function P(L) {
      return A.enter("lineEnding"), A.consume(L), A.exit("lineEnding"), G;
    }
    function G(L) {
      return A.enter("codeFencedFence"), ct(L) ? Ct(A, Y, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(L) : Y(L);
    }
    function Y(L) {
      return L === o ? (A.enter("codeFencedFenceSequence"), z(L)) : D(L);
    }
    function z(L) {
      return L === o ? (F++, A.consume(L), z) : F >= s ? (A.exit("codeFencedFenceSequence"), ct(L) ? Ct(A, H, "whitespace")(L) : H(L)) : D(L);
    }
    function H(L) {
      return L === null || Ye(L) ? (A.exit("codeFencedFence"), N(L)) : D(L);
    }
  }
}
function VV(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return s === null ? n(s) : (e.enter("lineEnding"), e.consume(s), e.exit("lineEnding"), a);
  }
  function a(s) {
    return r.parser.lazy[r.now().line] ? n(s) : t(s);
  }
}
const bu = {
  name: "codeIndented",
  tokenize: GV
}, BV = {
  partial: !0,
  tokenize: YV
};
function GV(e, t, n) {
  const r = this;
  return i;
  function i(u) {
    return e.enter("codeIndented"), Ct(e, a, "linePrefix", 5)(u);
  }
  function a(u) {
    const f = r.events[r.events.length - 1];
    return f && f[1].type === "linePrefix" && f[2].sliceSerialize(f[1], !0).length >= 4 ? s(u) : n(u);
  }
  function s(u) {
    return u === null ? c(u) : Ye(u) ? e.attempt(BV, s, c)(u) : (e.enter("codeFlowValue"), o(u));
  }
  function o(u) {
    return u === null || Ye(u) ? (e.exit("codeFlowValue"), s(u)) : (e.consume(u), o);
  }
  function c(u) {
    return e.exit("codeIndented"), t(u);
  }
}
function YV(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return r.parser.lazy[r.now().line] ? n(s) : Ye(s) ? (e.enter("lineEnding"), e.consume(s), e.exit("lineEnding"), i) : Ct(e, a, "linePrefix", 5)(s);
  }
  function a(s) {
    const o = r.events[r.events.length - 1];
    return o && o[1].type === "linePrefix" && o[2].sliceSerialize(o[1], !0).length >= 4 ? t(s) : Ye(s) ? i(s) : n(s);
  }
}
const WV = {
  name: "codeText",
  previous: HV,
  resolve: zV,
  tokenize: jV
};
function zV(e) {
  let t = e.length - 4, n = 3, r, i;
  if ((e[n][1].type === "lineEnding" || e[n][1].type === "space") && (e[t][1].type === "lineEnding" || e[t][1].type === "space")) {
    for (r = n; ++r < t; )
      if (e[r][1].type === "codeTextData") {
        e[n][1].type = "codeTextPadding", e[t][1].type = "codeTextPadding", n += 2, t -= 2;
        break;
      }
  }
  for (r = n - 1, t++; ++r <= t; )
    i === void 0 ? r !== t && e[r][1].type !== "lineEnding" && (i = r) : (r === t || e[r][1].type === "lineEnding") && (e[i][1].type = "codeTextData", r !== i + 2 && (e[i][1].end = e[r - 1][1].end, e.splice(i + 2, r - i - 2), t -= r - i - 2, r = i + 2), i = void 0);
  return e;
}
function HV(e) {
  return e !== 96 || this.events[this.events.length - 1][1].type === "characterEscape";
}
function jV(e, t, n) {
  let r = 0, i, a;
  return s;
  function s(p) {
    return e.enter("codeText"), e.enter("codeTextSequence"), o(p);
  }
  function o(p) {
    return p === 96 ? (e.consume(p), r++, o) : (e.exit("codeTextSequence"), c(p));
  }
  function c(p) {
    return p === null ? n(p) : p === 32 ? (e.enter("space"), e.consume(p), e.exit("space"), c) : p === 96 ? (a = e.enter("codeTextSequence"), i = 0, f(p)) : Ye(p) ? (e.enter("lineEnding"), e.consume(p), e.exit("lineEnding"), c) : (e.enter("codeTextData"), u(p));
  }
  function u(p) {
    return p === null || p === 32 || p === 96 || Ye(p) ? (e.exit("codeTextData"), c(p)) : (e.consume(p), u);
  }
  function f(p) {
    return p === 96 ? (e.consume(p), i++, f) : i === r ? (e.exit("codeTextSequence"), e.exit("codeText"), t(p)) : (a.type = "codeTextData", u(p));
  }
}
class $V {
  /**
   * @param {ReadonlyArray<T> | null | undefined} [initial]
   *   Initial items (optional).
   * @returns
   *   Splice buffer.
   */
  constructor(t) {
    this.left = t ? [...t] : [], this.right = [];
  }
  /**
   * Array access;
   * does not move the cursor.
   *
   * @param {number} index
   *   Index.
   * @return {T}
   *   Item.
   */
  get(t) {
    if (t < 0 || t >= this.left.length + this.right.length)
      throw new RangeError("Cannot access index `" + t + "` in a splice buffer of size `" + (this.left.length + this.right.length) + "`");
    return t < this.left.length ? this.left[t] : this.right[this.right.length - t + this.left.length - 1];
  }
  /**
   * The length of the splice buffer, one greater than the largest index in the
   * array.
   */
  get length() {
    return this.left.length + this.right.length;
  }
  /**
   * Remove and return `list[0]`;
   * moves the cursor to `0`.
   *
   * @returns {T | undefined}
   *   Item, optional.
   */
  shift() {
    return this.setCursor(0), this.right.pop();
  }
  /**
   * Slice the buffer to get an array;
   * does not move the cursor.
   *
   * @param {number} start
   *   Start.
   * @param {number | null | undefined} [end]
   *   End (optional).
   * @returns {Array<T>}
   *   Array of items.
   */
  slice(t, n) {
    const r = n ?? Number.POSITIVE_INFINITY;
    return r < this.left.length ? this.left.slice(t, r) : t > this.left.length ? this.right.slice(this.right.length - r + this.left.length, this.right.length - t + this.left.length).reverse() : this.left.slice(t).concat(this.right.slice(this.right.length - r + this.left.length).reverse());
  }
  /**
   * Mimics the behavior of Array.prototype.splice() except for the change of
   * interface necessary to avoid segfaults when patching in very large arrays.
   *
   * This operation moves cursor is moved to `start` and results in the cursor
   * placed after any inserted items.
   *
   * @param {number} start
   *   Start;
   *   zero-based index at which to start changing the array;
   *   negative numbers count backwards from the end of the array and values
   *   that are out-of bounds are clamped to the appropriate end of the array.
   * @param {number | null | undefined} [deleteCount=0]
   *   Delete count (default: `0`);
   *   maximum number of elements to delete, starting from start.
   * @param {Array<T> | null | undefined} [items=[]]
   *   Items to include in place of the deleted items (default: `[]`).
   * @return {Array<T>}
   *   Any removed items.
   */
  splice(t, n, r) {
    const i = n || 0;
    this.setCursor(Math.trunc(t));
    const a = this.right.splice(this.right.length - i, Number.POSITIVE_INFINITY);
    return r && Qa(this.left, r), a.reverse();
  }
  /**
   * Remove and return the highest-numbered item in the array, so
   * `list[list.length - 1]`;
   * Moves the cursor to `length`.
   *
   * @returns {T | undefined}
   *   Item, optional.
   */
  pop() {
    return this.setCursor(Number.POSITIVE_INFINITY), this.left.pop();
  }
  /**
   * Inserts a single item to the high-numbered side of the array;
   * moves the cursor to `length`.
   *
   * @param {T} item
   *   Item.
   * @returns {undefined}
   *   Nothing.
   */
  push(t) {
    this.setCursor(Number.POSITIVE_INFINITY), this.left.push(t);
  }
  /**
   * Inserts many items to the high-numbered side of the array.
   * Moves the cursor to `length`.
   *
   * @param {Array<T>} items
   *   Items.
   * @returns {undefined}
   *   Nothing.
   */
  pushMany(t) {
    this.setCursor(Number.POSITIVE_INFINITY), Qa(this.left, t);
  }
  /**
   * Inserts a single item to the low-numbered side of the array;
   * Moves the cursor to `0`.
   *
   * @param {T} item
   *   Item.
   * @returns {undefined}
   *   Nothing.
   */
  unshift(t) {
    this.setCursor(0), this.right.push(t);
  }
  /**
   * Inserts many items to the low-numbered side of the array;
   * moves the cursor to `0`.
   *
   * @param {Array<T>} items
   *   Items.
   * @returns {undefined}
   *   Nothing.
   */
  unshiftMany(t) {
    this.setCursor(0), Qa(this.right, t.reverse());
  }
  /**
   * Move the cursor to a specific position in the array. Requires
   * time proportional to the distance moved.
   *
   * If `n < 0`, the cursor will end up at the beginning.
   * If `n > length`, the cursor will end up at the end.
   *
   * @param {number} n
   *   Position.
   * @return {undefined}
   *   Nothing.
   */
  setCursor(t) {
    if (!(t === this.left.length || t > this.left.length && this.right.length === 0 || t < 0 && this.left.length === 0))
      if (t < this.left.length) {
        const n = this.left.splice(t, Number.POSITIVE_INFINITY);
        Qa(this.right, n.reverse());
      } else {
        const n = this.right.splice(this.left.length + this.right.length - t, Number.POSITIVE_INFINITY);
        Qa(this.left, n.reverse());
      }
  }
}
function Qa(e, t) {
  let n = 0;
  if (t.length < 1e4)
    e.push(...t);
  else
    for (; n < t.length; )
      e.push(...t.slice(n, n + 1e4)), n += 1e4;
}
function Ex(e) {
  const t = {};
  let n = -1, r, i, a, s, o, c, u;
  const f = new $V(e);
  for (; ++n < f.length; ) {
    for (; n in t; )
      n = t[n];
    if (r = f.get(n), n && r[1].type === "chunkFlow" && f.get(n - 1)[1].type === "listItemPrefix" && (c = r[1]._tokenizer.events, a = 0, a < c.length && c[a][1].type === "lineEndingBlank" && (a += 2), a < c.length && c[a][1].type === "content"))
      for (; ++a < c.length && c[a][1].type !== "content"; )
        c[a][1].type === "chunkText" && (c[a][1]._isInFirstContentOfListItem = !0, a++);
    if (r[0] === "enter")
      r[1].contentType && (Object.assign(t, UV(f, n)), n = t[n], u = !0);
    else if (r[1]._container) {
      for (a = n, i = void 0; a--; )
        if (s = f.get(a), s[1].type === "lineEnding" || s[1].type === "lineEndingBlank")
          s[0] === "enter" && (i && (f.get(i)[1].type = "lineEndingBlank"), s[1].type = "lineEnding", i = a);
        else if (!(s[1].type === "linePrefix" || s[1].type === "listItemIndent")) break;
      i && (r[1].end = {
        ...f.get(i)[1].start
      }, o = f.slice(i, n), o.unshift(r), f.splice(i, n - i + 1, o));
    }
  }
  return gr(e, 0, Number.POSITIVE_INFINITY, f.slice(0)), !u;
}
function UV(e, t) {
  const n = e.get(t)[1], r = e.get(t)[2];
  let i = t - 1;
  const a = [];
  let s = n._tokenizer;
  s || (s = r.parser[n.contentType](n.start), n._contentTypeTextTrailing && (s._contentTypeTextTrailing = !0));
  const o = s.events, c = [], u = {};
  let f, p, g = -1, h = n, y = 0, _ = 0;
  const S = [_];
  for (; h; ) {
    for (; e.get(++i)[1] !== h; )
      ;
    a.push(i), h._tokenizer || (f = r.sliceStream(h), h.next || f.push(null), p && s.defineSkip(h.start), h._isInFirstContentOfListItem && (s._gfmTasklistFirstContentOfListItem = !0), s.write(f), h._isInFirstContentOfListItem && (s._gfmTasklistFirstContentOfListItem = void 0)), p = h, h = h.next;
  }
  for (h = n; ++g < o.length; )
    // Find a void token that includes a break.
    o[g][0] === "exit" && o[g - 1][0] === "enter" && o[g][1].type === o[g - 1][1].type && o[g][1].start.line !== o[g][1].end.line && (_ = g + 1, S.push(_), h._tokenizer = void 0, h.previous = void 0, h = h.next);
  for (s.events = [], h ? (h._tokenizer = void 0, h.previous = void 0) : S.pop(), g = S.length; g--; ) {
    const w = o.slice(S[g], S[g + 1]), I = a.pop();
    c.push([I, I + w.length - 1]), e.splice(I, 2, w);
  }
  for (c.reverse(), g = -1; ++g < c.length; )
    u[y + c[g][0]] = y + c[g][1], y += c[g][1] - c[g][0] - 1;
  return u;
}
const XV = {
  resolve: qV,
  tokenize: JV
}, ZV = {
  partial: !0,
  tokenize: QV
};
function qV(e) {
  return Ex(e), e;
}
function JV(e, t) {
  let n;
  return r;
  function r(o) {
    return e.enter("content"), n = e.enter("chunkContent", {
      contentType: "content"
    }), i(o);
  }
  function i(o) {
    return o === null ? a(o) : Ye(o) ? e.check(ZV, s, a)(o) : (e.consume(o), i);
  }
  function a(o) {
    return e.exit("chunkContent"), e.exit("content"), t(o);
  }
  function s(o) {
    return e.consume(o), e.exit("chunkContent"), n.next = e.enter("chunkContent", {
      contentType: "content",
      previous: n
    }), n = n.next, i;
  }
}
function QV(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return e.exit("chunkContent"), e.enter("lineEnding"), e.consume(s), e.exit("lineEnding"), Ct(e, a, "linePrefix");
  }
  function a(s) {
    if (s === null || Ye(s))
      return n(s);
    const o = r.events[r.events.length - 1];
    return !r.parser.constructs.disable.null.includes("codeIndented") && o && o[1].type === "linePrefix" && o[2].sliceSerialize(o[1], !0).length >= 4 ? t(s) : e.interrupt(r.parser.constructs.flow, n, t)(s);
  }
}
function kx(e, t, n, r, i, a, s, o, c) {
  const u = c || Number.POSITIVE_INFINITY;
  let f = 0;
  return p;
  function p(w) {
    return w === 60 ? (e.enter(r), e.enter(i), e.enter(a), e.consume(w), e.exit(a), g) : w === null || w === 32 || w === 41 || yd(w) ? n(w) : (e.enter(r), e.enter(s), e.enter(o), e.enter("chunkString", {
      contentType: "string"
    }), _(w));
  }
  function g(w) {
    return w === 62 ? (e.enter(a), e.consume(w), e.exit(a), e.exit(i), e.exit(r), t) : (e.enter(o), e.enter("chunkString", {
      contentType: "string"
    }), h(w));
  }
  function h(w) {
    return w === 62 ? (e.exit("chunkString"), e.exit(o), g(w)) : w === null || w === 60 || Ye(w) ? n(w) : (e.consume(w), w === 92 ? y : h);
  }
  function y(w) {
    return w === 60 || w === 62 || w === 92 ? (e.consume(w), h) : h(w);
  }
  function _(w) {
    return !f && (w === null || w === 41 || wn(w)) ? (e.exit("chunkString"), e.exit(o), e.exit(s), e.exit(r), t(w)) : f < u && w === 40 ? (e.consume(w), f++, _) : w === 41 ? (e.consume(w), f--, _) : w === null || w === 32 || w === 40 || yd(w) ? n(w) : (e.consume(w), w === 92 ? S : _);
  }
  function S(w) {
    return w === 40 || w === 41 || w === 92 ? (e.consume(w), _) : _(w);
  }
}
function Nx(e, t, n, r, i, a) {
  const s = this;
  let o = 0, c;
  return u;
  function u(h) {
    return e.enter(r), e.enter(i), e.consume(h), e.exit(i), e.enter(a), f;
  }
  function f(h) {
    return o > 999 || h === null || h === 91 || h === 93 && !c || // To do: remove in the future once weâ€™ve switched from
    // `micromark-extension-footnote` to `micromark-extension-gfm-footnote`,
    // which doesnâ€™t need this.
    // Hidden footnotes hook.
    /* c8 ignore next 3 */
    h === 94 && !o && "_hiddenFootnoteSupport" in s.parser.constructs ? n(h) : h === 93 ? (e.exit(a), e.enter(i), e.consume(h), e.exit(i), e.exit(r), t) : Ye(h) ? (e.enter("lineEnding"), e.consume(h), e.exit("lineEnding"), f) : (e.enter("chunkString", {
      contentType: "string"
    }), p(h));
  }
  function p(h) {
    return h === null || h === 91 || h === 93 || Ye(h) || o++ > 999 ? (e.exit("chunkString"), f(h)) : (e.consume(h), c || (c = !ct(h)), h === 92 ? g : p);
  }
  function g(h) {
    return h === 91 || h === 92 || h === 93 ? (e.consume(h), o++, p) : p(h);
  }
}
function Ax(e, t, n, r, i, a) {
  let s;
  return o;
  function o(g) {
    return g === 34 || g === 39 || g === 40 ? (e.enter(r), e.enter(i), e.consume(g), e.exit(i), s = g === 40 ? 41 : g, c) : n(g);
  }
  function c(g) {
    return g === s ? (e.enter(i), e.consume(g), e.exit(i), e.exit(r), t) : (e.enter(a), u(g));
  }
  function u(g) {
    return g === s ? (e.exit(a), c(s)) : g === null ? n(g) : Ye(g) ? (e.enter("lineEnding"), e.consume(g), e.exit("lineEnding"), Ct(e, u, "linePrefix")) : (e.enter("chunkString", {
      contentType: "string"
    }), f(g));
  }
  function f(g) {
    return g === s || g === null || Ye(g) ? (e.exit("chunkString"), u(g)) : (e.consume(g), g === 92 ? p : f);
  }
  function p(g) {
    return g === s || g === 92 ? (e.consume(g), f) : f(g);
  }
}
function ls(e, t) {
  let n;
  return r;
  function r(i) {
    return Ye(i) ? (e.enter("lineEnding"), e.consume(i), e.exit("lineEnding"), n = !0, r) : ct(i) ? Ct(e, r, n ? "linePrefix" : "lineSuffix")(i) : t(i);
  }
}
const KV = {
  name: "definition",
  tokenize: t4
}, e4 = {
  partial: !0,
  tokenize: n4
};
function t4(e, t, n) {
  const r = this;
  let i;
  return a;
  function a(h) {
    return e.enter("definition"), s(h);
  }
  function s(h) {
    return Nx.call(
      r,
      e,
      o,
      // Note: we donâ€™t need to reset the way `markdown-rs` does.
      n,
      "definitionLabel",
      "definitionLabelMarker",
      "definitionLabelString"
    )(h);
  }
  function o(h) {
    return i = ha(r.sliceSerialize(r.events[r.events.length - 1][1]).slice(1, -1)), h === 58 ? (e.enter("definitionMarker"), e.consume(h), e.exit("definitionMarker"), c) : n(h);
  }
  function c(h) {
    return wn(h) ? ls(e, u)(h) : u(h);
  }
  function u(h) {
    return kx(
      e,
      f,
      // Note: we donâ€™t need to reset the way `markdown-rs` does.
      n,
      "definitionDestination",
      "definitionDestinationLiteral",
      "definitionDestinationLiteralMarker",
      "definitionDestinationRaw",
      "definitionDestinationString"
    )(h);
  }
  function f(h) {
    return e.attempt(e4, p, p)(h);
  }
  function p(h) {
    return ct(h) ? Ct(e, g, "whitespace")(h) : g(h);
  }
  function g(h) {
    return h === null || Ye(h) ? (e.exit("definition"), r.parser.defined.push(i), t(h)) : n(h);
  }
}
function n4(e, t, n) {
  return r;
  function r(o) {
    return wn(o) ? ls(e, i)(o) : n(o);
  }
  function i(o) {
    return Ax(e, a, n, "definitionTitle", "definitionTitleMarker", "definitionTitleString")(o);
  }
  function a(o) {
    return ct(o) ? Ct(e, s, "whitespace")(o) : s(o);
  }
  function s(o) {
    return o === null || Ye(o) ? t(o) : n(o);
  }
}
const r4 = {
  name: "hardBreakEscape",
  tokenize: i4
};
function i4(e, t, n) {
  return r;
  function r(a) {
    return e.enter("hardBreakEscape"), e.consume(a), i;
  }
  function i(a) {
    return Ye(a) ? (e.exit("hardBreakEscape"), t(a)) : n(a);
  }
}
const a4 = {
  name: "headingAtx",
  resolve: s4,
  tokenize: o4
};
function s4(e, t) {
  let n = e.length - 2, r = 3, i, a;
  return e[r][1].type === "whitespace" && (r += 2), n - 2 > r && e[n][1].type === "whitespace" && (n -= 2), e[n][1].type === "atxHeadingSequence" && (r === n - 1 || n - 4 > r && e[n - 2][1].type === "whitespace") && (n -= r + 1 === n ? 2 : 4), n > r && (i = {
    type: "atxHeadingText",
    start: e[r][1].start,
    end: e[n][1].end
  }, a = {
    type: "chunkText",
    start: e[r][1].start,
    end: e[n][1].end,
    contentType: "text"
  }, gr(e, r, n - r + 1, [["enter", i, t], ["enter", a, t], ["exit", a, t], ["exit", i, t]])), e;
}
function o4(e, t, n) {
  let r = 0;
  return i;
  function i(f) {
    return e.enter("atxHeading"), a(f);
  }
  function a(f) {
    return e.enter("atxHeadingSequence"), s(f);
  }
  function s(f) {
    return f === 35 && r++ < 6 ? (e.consume(f), s) : f === null || wn(f) ? (e.exit("atxHeadingSequence"), o(f)) : n(f);
  }
  function o(f) {
    return f === 35 ? (e.enter("atxHeadingSequence"), c(f)) : f === null || Ye(f) ? (e.exit("atxHeading"), t(f)) : ct(f) ? Ct(e, o, "whitespace")(f) : (e.enter("atxHeadingText"), u(f));
  }
  function c(f) {
    return f === 35 ? (e.consume(f), c) : (e.exit("atxHeadingSequence"), o(f));
  }
  function u(f) {
    return f === null || f === 35 || wn(f) ? (e.exit("atxHeadingText"), o(f)) : (e.consume(f), u);
  }
}
const l4 = [
  "address",
  "article",
  "aside",
  "base",
  "basefont",
  "blockquote",
  "body",
  "caption",
  "center",
  "col",
  "colgroup",
  "dd",
  "details",
  "dialog",
  "dir",
  "div",
  "dl",
  "dt",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "frame",
  "frameset",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hr",
  "html",
  "iframe",
  "legend",
  "li",
  "link",
  "main",
  "menu",
  "menuitem",
  "nav",
  "noframes",
  "ol",
  "optgroup",
  "option",
  "p",
  "param",
  "search",
  "section",
  "summary",
  "table",
  "tbody",
  "td",
  "tfoot",
  "th",
  "thead",
  "title",
  "tr",
  "track",
  "ul"
], xg = ["pre", "script", "style", "textarea"], c4 = {
  concrete: !0,
  name: "htmlFlow",
  resolveTo: f4,
  tokenize: p4
}, u4 = {
  partial: !0,
  tokenize: m4
}, d4 = {
  partial: !0,
  tokenize: h4
};
function f4(e) {
  let t = e.length;
  for (; t-- && !(e[t][0] === "enter" && e[t][1].type === "htmlFlow"); )
    ;
  return t > 1 && e[t - 2][1].type === "linePrefix" && (e[t][1].start = e[t - 2][1].start, e[t + 1][1].start = e[t - 2][1].start, e.splice(t - 2, 2)), e;
}
function p4(e, t, n) {
  const r = this;
  let i, a, s, o, c;
  return u;
  function u(R) {
    return f(R);
  }
  function f(R) {
    return e.enter("htmlFlow"), e.enter("htmlFlowData"), e.consume(R), p;
  }
  function p(R) {
    return R === 33 ? (e.consume(R), g) : R === 47 ? (e.consume(R), a = !0, _) : R === 63 ? (e.consume(R), i = 3, r.interrupt ? t : O) : dr(R) ? (e.consume(R), s = String.fromCharCode(R), S) : n(R);
  }
  function g(R) {
    return R === 45 ? (e.consume(R), i = 2, h) : R === 91 ? (e.consume(R), i = 5, o = 0, y) : dr(R) ? (e.consume(R), i = 4, r.interrupt ? t : O) : n(R);
  }
  function h(R) {
    return R === 45 ? (e.consume(R), r.interrupt ? t : O) : n(R);
  }
  function y(R) {
    const oe = "CDATA[";
    return R === oe.charCodeAt(o++) ? (e.consume(R), o === oe.length ? r.interrupt ? t : Y : y) : n(R);
  }
  function _(R) {
    return dr(R) ? (e.consume(R), s = String.fromCharCode(R), S) : n(R);
  }
  function S(R) {
    if (R === null || R === 47 || R === 62 || wn(R)) {
      const oe = R === 47, K = s.toLowerCase();
      return !oe && !a && xg.includes(K) ? (i = 1, r.interrupt ? t(R) : Y(R)) : l4.includes(s.toLowerCase()) ? (i = 6, oe ? (e.consume(R), w) : r.interrupt ? t(R) : Y(R)) : (i = 7, r.interrupt && !r.parser.lazy[r.now().line] ? n(R) : a ? I(R) : b(R));
    }
    return R === 45 || Nn(R) ? (e.consume(R), s += String.fromCharCode(R), S) : n(R);
  }
  function w(R) {
    return R === 62 ? (e.consume(R), r.interrupt ? t : Y) : n(R);
  }
  function I(R) {
    return ct(R) ? (e.consume(R), I) : P(R);
  }
  function b(R) {
    return R === 47 ? (e.consume(R), P) : R === 58 || R === 95 || dr(R) ? (e.consume(R), E) : ct(R) ? (e.consume(R), b) : P(R);
  }
  function E(R) {
    return R === 45 || R === 46 || R === 58 || R === 95 || Nn(R) ? (e.consume(R), E) : C(R);
  }
  function C(R) {
    return R === 61 ? (e.consume(R), A) : ct(R) ? (e.consume(R), C) : b(R);
  }
  function A(R) {
    return R === null || R === 60 || R === 61 || R === 62 || R === 96 ? n(R) : R === 34 || R === 39 ? (e.consume(R), c = R, N) : ct(R) ? (e.consume(R), A) : D(R);
  }
  function N(R) {
    return R === c ? (e.consume(R), c = null, F) : R === null || Ye(R) ? n(R) : (e.consume(R), N);
  }
  function D(R) {
    return R === null || R === 34 || R === 39 || R === 47 || R === 60 || R === 61 || R === 62 || R === 96 || wn(R) ? C(R) : (e.consume(R), D);
  }
  function F(R) {
    return R === 47 || R === 62 || ct(R) ? b(R) : n(R);
  }
  function P(R) {
    return R === 62 ? (e.consume(R), G) : n(R);
  }
  function G(R) {
    return R === null || Ye(R) ? Y(R) : ct(R) ? (e.consume(R), G) : n(R);
  }
  function Y(R) {
    return R === 45 && i === 2 ? (e.consume(R), q) : R === 60 && i === 1 ? (e.consume(R), te) : R === 62 && i === 4 ? (e.consume(R), ie) : R === 63 && i === 3 ? (e.consume(R), O) : R === 93 && i === 5 ? (e.consume(R), Ce) : Ye(R) && (i === 6 || i === 7) ? (e.exit("htmlFlowData"), e.check(u4, se, z)(R)) : R === null || Ye(R) ? (e.exit("htmlFlowData"), z(R)) : (e.consume(R), Y);
  }
  function z(R) {
    return e.check(d4, H, se)(R);
  }
  function H(R) {
    return e.enter("lineEnding"), e.consume(R), e.exit("lineEnding"), L;
  }
  function L(R) {
    return R === null || Ye(R) ? z(R) : (e.enter("htmlFlowData"), Y(R));
  }
  function q(R) {
    return R === 45 ? (e.consume(R), O) : Y(R);
  }
  function te(R) {
    return R === 47 ? (e.consume(R), s = "", ge) : Y(R);
  }
  function ge(R) {
    if (R === 62) {
      const oe = s.toLowerCase();
      return xg.includes(oe) ? (e.consume(R), ie) : Y(R);
    }
    return dr(R) && s.length < 8 ? (e.consume(R), s += String.fromCharCode(R), ge) : Y(R);
  }
  function Ce(R) {
    return R === 93 ? (e.consume(R), O) : Y(R);
  }
  function O(R) {
    return R === 62 ? (e.consume(R), ie) : R === 45 && i === 2 ? (e.consume(R), O) : Y(R);
  }
  function ie(R) {
    return R === null || Ye(R) ? (e.exit("htmlFlowData"), se(R)) : (e.consume(R), ie);
  }
  function se(R) {
    return e.exit("htmlFlow"), t(R);
  }
}
function h4(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return Ye(s) ? (e.enter("lineEnding"), e.consume(s), e.exit("lineEnding"), a) : n(s);
  }
  function a(s) {
    return r.parser.lazy[r.now().line] ? n(s) : t(s);
  }
}
function m4(e, t, n) {
  return r;
  function r(i) {
    return e.enter("lineEnding"), e.consume(i), e.exit("lineEnding"), e.attempt(ac, t, n);
  }
}
const g4 = {
  name: "htmlText",
  tokenize: v4
};
function v4(e, t, n) {
  const r = this;
  let i, a, s;
  return o;
  function o(O) {
    return e.enter("htmlText"), e.enter("htmlTextData"), e.consume(O), c;
  }
  function c(O) {
    return O === 33 ? (e.consume(O), u) : O === 47 ? (e.consume(O), C) : O === 63 ? (e.consume(O), b) : dr(O) ? (e.consume(O), D) : n(O);
  }
  function u(O) {
    return O === 45 ? (e.consume(O), f) : O === 91 ? (e.consume(O), a = 0, y) : dr(O) ? (e.consume(O), I) : n(O);
  }
  function f(O) {
    return O === 45 ? (e.consume(O), h) : n(O);
  }
  function p(O) {
    return O === null ? n(O) : O === 45 ? (e.consume(O), g) : Ye(O) ? (s = p, te(O)) : (e.consume(O), p);
  }
  function g(O) {
    return O === 45 ? (e.consume(O), h) : p(O);
  }
  function h(O) {
    return O === 62 ? q(O) : O === 45 ? g(O) : p(O);
  }
  function y(O) {
    const ie = "CDATA[";
    return O === ie.charCodeAt(a++) ? (e.consume(O), a === ie.length ? _ : y) : n(O);
  }
  function _(O) {
    return O === null ? n(O) : O === 93 ? (e.consume(O), S) : Ye(O) ? (s = _, te(O)) : (e.consume(O), _);
  }
  function S(O) {
    return O === 93 ? (e.consume(O), w) : _(O);
  }
  function w(O) {
    return O === 62 ? q(O) : O === 93 ? (e.consume(O), w) : _(O);
  }
  function I(O) {
    return O === null || O === 62 ? q(O) : Ye(O) ? (s = I, te(O)) : (e.consume(O), I);
  }
  function b(O) {
    return O === null ? n(O) : O === 63 ? (e.consume(O), E) : Ye(O) ? (s = b, te(O)) : (e.consume(O), b);
  }
  function E(O) {
    return O === 62 ? q(O) : b(O);
  }
  function C(O) {
    return dr(O) ? (e.consume(O), A) : n(O);
  }
  function A(O) {
    return O === 45 || Nn(O) ? (e.consume(O), A) : N(O);
  }
  function N(O) {
    return Ye(O) ? (s = N, te(O)) : ct(O) ? (e.consume(O), N) : q(O);
  }
  function D(O) {
    return O === 45 || Nn(O) ? (e.consume(O), D) : O === 47 || O === 62 || wn(O) ? F(O) : n(O);
  }
  function F(O) {
    return O === 47 ? (e.consume(O), q) : O === 58 || O === 95 || dr(O) ? (e.consume(O), P) : Ye(O) ? (s = F, te(O)) : ct(O) ? (e.consume(O), F) : q(O);
  }
  function P(O) {
    return O === 45 || O === 46 || O === 58 || O === 95 || Nn(O) ? (e.consume(O), P) : G(O);
  }
  function G(O) {
    return O === 61 ? (e.consume(O), Y) : Ye(O) ? (s = G, te(O)) : ct(O) ? (e.consume(O), G) : F(O);
  }
  function Y(O) {
    return O === null || O === 60 || O === 61 || O === 62 || O === 96 ? n(O) : O === 34 || O === 39 ? (e.consume(O), i = O, z) : Ye(O) ? (s = Y, te(O)) : ct(O) ? (e.consume(O), Y) : (e.consume(O), H);
  }
  function z(O) {
    return O === i ? (e.consume(O), i = void 0, L) : O === null ? n(O) : Ye(O) ? (s = z, te(O)) : (e.consume(O), z);
  }
  function H(O) {
    return O === null || O === 34 || O === 39 || O === 60 || O === 61 || O === 96 ? n(O) : O === 47 || O === 62 || wn(O) ? F(O) : (e.consume(O), H);
  }
  function L(O) {
    return O === 47 || O === 62 || wn(O) ? F(O) : n(O);
  }
  function q(O) {
    return O === 62 ? (e.consume(O), e.exit("htmlTextData"), e.exit("htmlText"), t) : n(O);
  }
  function te(O) {
    return e.exit("htmlTextData"), e.enter("lineEnding"), e.consume(O), e.exit("lineEnding"), ge;
  }
  function ge(O) {
    return ct(O) ? Ct(e, Ce, "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(O) : Ce(O);
  }
  function Ce(O) {
    return e.enter("htmlTextData"), s(O);
  }
}
const ap = {
  name: "labelEnd",
  resolveAll: w4,
  resolveTo: C4,
  tokenize: S4
}, y4 = {
  tokenize: I4
}, b4 = {
  tokenize: _4
}, x4 = {
  tokenize: E4
};
function w4(e) {
  let t = -1;
  const n = [];
  for (; ++t < e.length; ) {
    const r = e[t][1];
    if (n.push(e[t]), r.type === "labelImage" || r.type === "labelLink" || r.type === "labelEnd") {
      const i = r.type === "labelImage" ? 4 : 2;
      r.type = "data", t += i;
    }
  }
  return e.length !== n.length && gr(e, 0, e.length, n), e;
}
function C4(e, t) {
  let n = e.length, r = 0, i, a, s, o;
  for (; n--; )
    if (i = e[n][1], a) {
      if (i.type === "link" || i.type === "labelLink" && i._inactive)
        break;
      e[n][0] === "enter" && i.type === "labelLink" && (i._inactive = !0);
    } else if (s) {
      if (e[n][0] === "enter" && (i.type === "labelImage" || i.type === "labelLink") && !i._balanced && (a = n, i.type !== "labelLink")) {
        r = 2;
        break;
      }
    } else i.type === "labelEnd" && (s = n);
  const c = {
    type: e[a][1].type === "labelLink" ? "link" : "image",
    start: {
      ...e[a][1].start
    },
    end: {
      ...e[e.length - 1][1].end
    }
  }, u = {
    type: "label",
    start: {
      ...e[a][1].start
    },
    end: {
      ...e[s][1].end
    }
  }, f = {
    type: "labelText",
    start: {
      ...e[a + r + 2][1].end
    },
    end: {
      ...e[s - 2][1].start
    }
  };
  return o = [["enter", c, t], ["enter", u, t]], o = Ln(o, e.slice(a + 1, a + r + 3)), o = Ln(o, [["enter", f, t]]), o = Ln(o, ip(t.parser.constructs.insideSpan.null, e.slice(a + r + 4, s - 3), t)), o = Ln(o, [["exit", f, t], e[s - 2], e[s - 1], ["exit", u, t]]), o = Ln(o, e.slice(s + 1)), o = Ln(o, [["exit", c, t]]), gr(e, a, e.length, o), e;
}
function S4(e, t, n) {
  const r = this;
  let i = r.events.length, a, s;
  for (; i--; )
    if ((r.events[i][1].type === "labelImage" || r.events[i][1].type === "labelLink") && !r.events[i][1]._balanced) {
      a = r.events[i][1];
      break;
    }
  return o;
  function o(g) {
    return a ? a._inactive ? p(g) : (s = r.parser.defined.includes(ha(r.sliceSerialize({
      start: a.end,
      end: r.now()
    }))), e.enter("labelEnd"), e.enter("labelMarker"), e.consume(g), e.exit("labelMarker"), e.exit("labelEnd"), c) : n(g);
  }
  function c(g) {
    return g === 40 ? e.attempt(y4, f, s ? f : p)(g) : g === 91 ? e.attempt(b4, f, s ? u : p)(g) : s ? f(g) : p(g);
  }
  function u(g) {
    return e.attempt(x4, f, p)(g);
  }
  function f(g) {
    return t(g);
  }
  function p(g) {
    return a._balanced = !0, n(g);
  }
}
function I4(e, t, n) {
  return r;
  function r(p) {
    return e.enter("resource"), e.enter("resourceMarker"), e.consume(p), e.exit("resourceMarker"), i;
  }
  function i(p) {
    return wn(p) ? ls(e, a)(p) : a(p);
  }
  function a(p) {
    return p === 41 ? f(p) : kx(e, s, o, "resourceDestination", "resourceDestinationLiteral", "resourceDestinationLiteralMarker", "resourceDestinationRaw", "resourceDestinationString", 32)(p);
  }
  function s(p) {
    return wn(p) ? ls(e, c)(p) : f(p);
  }
  function o(p) {
    return n(p);
  }
  function c(p) {
    return p === 34 || p === 39 || p === 40 ? Ax(e, u, n, "resourceTitle", "resourceTitleMarker", "resourceTitleString")(p) : f(p);
  }
  function u(p) {
    return wn(p) ? ls(e, f)(p) : f(p);
  }
  function f(p) {
    return p === 41 ? (e.enter("resourceMarker"), e.consume(p), e.exit("resourceMarker"), e.exit("resource"), t) : n(p);
  }
}
function _4(e, t, n) {
  const r = this;
  return i;
  function i(o) {
    return Nx.call(r, e, a, s, "reference", "referenceMarker", "referenceString")(o);
  }
  function a(o) {
    return r.parser.defined.includes(ha(r.sliceSerialize(r.events[r.events.length - 1][1]).slice(1, -1))) ? t(o) : n(o);
  }
  function s(o) {
    return n(o);
  }
}
function E4(e, t, n) {
  return r;
  function r(a) {
    return e.enter("reference"), e.enter("referenceMarker"), e.consume(a), e.exit("referenceMarker"), i;
  }
  function i(a) {
    return a === 93 ? (e.enter("referenceMarker"), e.consume(a), e.exit("referenceMarker"), e.exit("reference"), t) : n(a);
  }
}
const k4 = {
  name: "labelStartImage",
  resolveAll: ap.resolveAll,
  tokenize: N4
};
function N4(e, t, n) {
  const r = this;
  return i;
  function i(o) {
    return e.enter("labelImage"), e.enter("labelImageMarker"), e.consume(o), e.exit("labelImageMarker"), a;
  }
  function a(o) {
    return o === 91 ? (e.enter("labelMarker"), e.consume(o), e.exit("labelMarker"), e.exit("labelImage"), s) : n(o);
  }
  function s(o) {
    return o === 94 && "_hiddenFootnoteSupport" in r.parser.constructs ? n(o) : t(o);
  }
}
const A4 = {
  name: "labelStartLink",
  resolveAll: ap.resolveAll,
  tokenize: D4
};
function D4(e, t, n) {
  const r = this;
  return i;
  function i(s) {
    return e.enter("labelLink"), e.enter("labelMarker"), e.consume(s), e.exit("labelMarker"), e.exit("labelLink"), a;
  }
  function a(s) {
    return s === 94 && "_hiddenFootnoteSupport" in r.parser.constructs ? n(s) : t(s);
  }
}
const xu = {
  name: "lineEnding",
  tokenize: O4
};
function O4(e, t) {
  return n;
  function n(r) {
    return e.enter("lineEnding"), e.consume(r), e.exit("lineEnding"), Ct(e, t, "linePrefix");
  }
}
const Yo = {
  name: "thematicBreak",
  tokenize: M4
};
function M4(e, t, n) {
  let r = 0, i;
  return a;
  function a(u) {
    return e.enter("thematicBreak"), s(u);
  }
  function s(u) {
    return i = u, o(u);
  }
  function o(u) {
    return u === i ? (e.enter("thematicBreakSequence"), c(u)) : r >= 3 && (u === null || Ye(u)) ? (e.exit("thematicBreak"), t(u)) : n(u);
  }
  function c(u) {
    return u === i ? (e.consume(u), r++, c) : (e.exit("thematicBreakSequence"), ct(u) ? Ct(e, o, "whitespace")(u) : o(u));
  }
}
const mn = {
  continuation: {
    tokenize: P4
  },
  exit: V4,
  name: "list",
  tokenize: F4
}, R4 = {
  partial: !0,
  tokenize: B4
}, T4 = {
  partial: !0,
  tokenize: L4
};
function F4(e, t, n) {
  const r = this, i = r.events[r.events.length - 1];
  let a = i && i[1].type === "linePrefix" ? i[2].sliceSerialize(i[1], !0).length : 0, s = 0;
  return o;
  function o(h) {
    const y = r.containerState.type || (h === 42 || h === 43 || h === 45 ? "listUnordered" : "listOrdered");
    if (y === "listUnordered" ? !r.containerState.marker || h === r.containerState.marker : bd(h)) {
      if (r.containerState.type || (r.containerState.type = y, e.enter(y, {
        _container: !0
      })), y === "listUnordered")
        return e.enter("listItemPrefix"), h === 42 || h === 45 ? e.check(Yo, n, u)(h) : u(h);
      if (!r.interrupt || h === 49)
        return e.enter("listItemPrefix"), e.enter("listItemValue"), c(h);
    }
    return n(h);
  }
  function c(h) {
    return bd(h) && ++s < 10 ? (e.consume(h), c) : (!r.interrupt || s < 2) && (r.containerState.marker ? h === r.containerState.marker : h === 41 || h === 46) ? (e.exit("listItemValue"), u(h)) : n(h);
  }
  function u(h) {
    return e.enter("listItemMarker"), e.consume(h), e.exit("listItemMarker"), r.containerState.marker = r.containerState.marker || h, e.check(
      ac,
      // Canâ€™t be empty when interrupting.
      r.interrupt ? n : f,
      e.attempt(R4, g, p)
    );
  }
  function f(h) {
    return r.containerState.initialBlankLine = !0, a++, g(h);
  }
  function p(h) {
    return ct(h) ? (e.enter("listItemPrefixWhitespace"), e.consume(h), e.exit("listItemPrefixWhitespace"), g) : n(h);
  }
  function g(h) {
    return r.containerState.size = a + r.sliceSerialize(e.exit("listItemPrefix"), !0).length, t(h);
  }
}
function P4(e, t, n) {
  const r = this;
  return r.containerState._closeFlow = void 0, e.check(ac, i, a);
  function i(o) {
    return r.containerState.furtherBlankLines = r.containerState.furtherBlankLines || r.containerState.initialBlankLine, Ct(e, t, "listItemIndent", r.containerState.size + 1)(o);
  }
  function a(o) {
    return r.containerState.furtherBlankLines || !ct(o) ? (r.containerState.furtherBlankLines = void 0, r.containerState.initialBlankLine = void 0, s(o)) : (r.containerState.furtherBlankLines = void 0, r.containerState.initialBlankLine = void 0, e.attempt(T4, t, s)(o));
  }
  function s(o) {
    return r.containerState._closeFlow = !0, r.interrupt = void 0, Ct(e, e.attempt(mn, t, n), "linePrefix", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(o);
  }
}
function L4(e, t, n) {
  const r = this;
  return Ct(e, i, "listItemIndent", r.containerState.size + 1);
  function i(a) {
    const s = r.events[r.events.length - 1];
    return s && s[1].type === "listItemIndent" && s[2].sliceSerialize(s[1], !0).length === r.containerState.size ? t(a) : n(a);
  }
}
function V4(e) {
  e.exit(this.containerState.type);
}
function B4(e, t, n) {
  const r = this;
  return Ct(e, i, "listItemPrefixWhitespace", r.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 5);
  function i(a) {
    const s = r.events[r.events.length - 1];
    return !ct(a) && s && s[1].type === "listItemPrefixWhitespace" ? t(a) : n(a);
  }
}
const wg = {
  name: "setextUnderline",
  resolveTo: G4,
  tokenize: Y4
};
function G4(e, t) {
  let n = e.length, r, i, a;
  for (; n--; )
    if (e[n][0] === "enter") {
      if (e[n][1].type === "content") {
        r = n;
        break;
      }
      e[n][1].type === "paragraph" && (i = n);
    } else
      e[n][1].type === "content" && e.splice(n, 1), !a && e[n][1].type === "definition" && (a = n);
  const s = {
    type: "setextHeading",
    start: {
      ...e[r][1].start
    },
    end: {
      ...e[e.length - 1][1].end
    }
  };
  return e[i][1].type = "setextHeadingText", a ? (e.splice(i, 0, ["enter", s, t]), e.splice(a + 1, 0, ["exit", e[r][1], t]), e[r][1].end = {
    ...e[a][1].end
  }) : e[r][1] = s, e.push(["exit", s, t]), e;
}
function Y4(e, t, n) {
  const r = this;
  let i;
  return a;
  function a(u) {
    let f = r.events.length, p;
    for (; f--; )
      if (r.events[f][1].type !== "lineEnding" && r.events[f][1].type !== "linePrefix" && r.events[f][1].type !== "content") {
        p = r.events[f][1].type === "paragraph";
        break;
      }
    return !r.parser.lazy[r.now().line] && (r.interrupt || p) ? (e.enter("setextHeadingLine"), i = u, s(u)) : n(u);
  }
  function s(u) {
    return e.enter("setextHeadingLineSequence"), o(u);
  }
  function o(u) {
    return u === i ? (e.consume(u), o) : (e.exit("setextHeadingLineSequence"), ct(u) ? Ct(e, c, "lineSuffix")(u) : c(u));
  }
  function c(u) {
    return u === null || Ye(u) ? (e.exit("setextHeadingLine"), t(u)) : n(u);
  }
}
const W4 = {
  tokenize: z4
};
function z4(e) {
  const t = this, n = e.attempt(
    // Try to parse a blank line.
    ac,
    r,
    // Try to parse initial flow (essentially, only code).
    e.attempt(this.parser.constructs.flowInitial, i, Ct(e, e.attempt(this.parser.constructs.flow, i, e.attempt(XV, i)), "linePrefix"))
  );
  return n;
  function r(a) {
    if (a === null) {
      e.consume(a);
      return;
    }
    return e.enter("lineEndingBlank"), e.consume(a), e.exit("lineEndingBlank"), t.currentConstruct = void 0, n;
  }
  function i(a) {
    if (a === null) {
      e.consume(a);
      return;
    }
    return e.enter("lineEnding"), e.consume(a), e.exit("lineEnding"), t.currentConstruct = void 0, n;
  }
}
const H4 = {
  resolveAll: Ox()
}, j4 = Dx("string"), $4 = Dx("text");
function Dx(e) {
  return {
    resolveAll: Ox(e === "text" ? U4 : void 0),
    tokenize: t
  };
  function t(n) {
    const r = this, i = this.parser.constructs[e], a = n.attempt(i, s, o);
    return s;
    function s(f) {
      return u(f) ? a(f) : o(f);
    }
    function o(f) {
      if (f === null) {
        n.consume(f);
        return;
      }
      return n.enter("data"), n.consume(f), c;
    }
    function c(f) {
      return u(f) ? (n.exit("data"), a(f)) : (n.consume(f), c);
    }
    function u(f) {
      if (f === null)
        return !0;
      const p = i[f];
      let g = -1;
      if (p)
        for (; ++g < p.length; ) {
          const h = p[g];
          if (!h.previous || h.previous.call(r, r.previous))
            return !0;
        }
      return !1;
    }
  }
}
function Ox(e) {
  return t;
  function t(n, r) {
    let i = -1, a;
    for (; ++i <= n.length; )
      a === void 0 ? n[i] && n[i][1].type === "data" && (a = i, i++) : (!n[i] || n[i][1].type !== "data") && (i !== a + 2 && (n[a][1].end = n[i - 1][1].end, n.splice(a + 2, i - a - 2), i = a + 2), a = void 0);
    return e ? e(n, r) : n;
  }
}
function U4(e, t) {
  let n = 0;
  for (; ++n <= e.length; )
    if ((n === e.length || e[n][1].type === "lineEnding") && e[n - 1][1].type === "data") {
      const r = e[n - 1][1], i = t.sliceStream(r);
      let a = i.length, s = -1, o = 0, c;
      for (; a--; ) {
        const u = i[a];
        if (typeof u == "string") {
          for (s = u.length; u.charCodeAt(s - 1) === 32; )
            o++, s--;
          if (s) break;
          s = -1;
        } else if (u === -2)
          c = !0, o++;
        else if (u !== -1) {
          a++;
          break;
        }
      }
      if (t._contentTypeTextTrailing && n === e.length && (o = 0), o) {
        const u = {
          type: n === e.length || c || o < 2 ? "lineSuffix" : "hardBreakTrailing",
          start: {
            _bufferIndex: a ? s : r.start._bufferIndex + s,
            _index: r.start._index + a,
            line: r.end.line,
            column: r.end.column - o,
            offset: r.end.offset - o
          },
          end: {
            ...r.end
          }
        };
        r.end = {
          ...u.start
        }, r.start.offset === r.end.offset ? Object.assign(r, u) : (e.splice(n, 0, ["enter", u, t], ["exit", u, t]), n += 2);
      }
      n++;
    }
  return e;
}
const X4 = {
  42: mn,
  43: mn,
  45: mn,
  48: mn,
  49: mn,
  50: mn,
  51: mn,
  52: mn,
  53: mn,
  54: mn,
  55: mn,
  56: mn,
  57: mn,
  62: Sx
}, Z4 = {
  91: KV
}, q4 = {
  [-2]: bu,
  [-1]: bu,
  32: bu
}, J4 = {
  35: a4,
  42: Yo,
  45: [wg, Yo],
  60: c4,
  61: wg,
  95: Yo,
  96: bg,
  126: bg
}, Q4 = {
  38: _x,
  92: Ix
}, K4 = {
  [-5]: xu,
  [-4]: xu,
  [-3]: xu,
  33: k4,
  38: _x,
  42: xd,
  60: [AV, g4],
  91: A4,
  92: [r4, Ix],
  93: ap,
  95: xd,
  96: WV
}, e3 = {
  null: [xd, H4]
}, t3 = {
  null: [42, 95]
}, n3 = {
  null: []
}, r3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  attentionMarkers: t3,
  contentInitial: Z4,
  disable: n3,
  document: X4,
  flow: J4,
  flowInitial: q4,
  insideSpan: e3,
  string: Q4,
  text: K4
}, Symbol.toStringTag, { value: "Module" }));
function i3(e, t, n) {
  let r = {
    _bufferIndex: -1,
    _index: 0,
    line: n && n.line || 1,
    column: n && n.column || 1,
    offset: n && n.offset || 0
  };
  const i = {}, a = [];
  let s = [], o = [];
  const c = {
    attempt: N(C),
    check: N(A),
    consume: I,
    enter: b,
    exit: E,
    interrupt: N(A, {
      interrupt: !0
    })
  }, u = {
    code: null,
    containerState: {},
    defineSkip: _,
    events: [],
    now: y,
    parser: e,
    previous: null,
    sliceSerialize: g,
    sliceStream: h,
    write: p
  };
  let f = t.tokenize.call(u, c);
  return t.resolveAll && a.push(t), u;
  function p(G) {
    return s = Ln(s, G), S(), s[s.length - 1] !== null ? [] : (D(t, 0), u.events = ip(a, u.events, u), u.events);
  }
  function g(G, Y) {
    return s3(h(G), Y);
  }
  function h(G) {
    return a3(s, G);
  }
  function y() {
    const {
      _bufferIndex: G,
      _index: Y,
      line: z,
      column: H,
      offset: L
    } = r;
    return {
      _bufferIndex: G,
      _index: Y,
      line: z,
      column: H,
      offset: L
    };
  }
  function _(G) {
    i[G.line] = G.column, P();
  }
  function S() {
    let G;
    for (; r._index < s.length; ) {
      const Y = s[r._index];
      if (typeof Y == "string")
        for (G = r._index, r._bufferIndex < 0 && (r._bufferIndex = 0); r._index === G && r._bufferIndex < Y.length; )
          w(Y.charCodeAt(r._bufferIndex));
      else
        w(Y);
    }
  }
  function w(G) {
    f = f(G);
  }
  function I(G) {
    Ye(G) ? (r.line++, r.column = 1, r.offset += G === -3 ? 2 : 1, P()) : G !== -1 && (r.column++, r.offset++), r._bufferIndex < 0 ? r._index++ : (r._bufferIndex++, r._bufferIndex === // Points w/ non-negative `_bufferIndex` reference
    // strings.
    /** @type {string} */
    s[r._index].length && (r._bufferIndex = -1, r._index++)), u.previous = G;
  }
  function b(G, Y) {
    const z = Y || {};
    return z.type = G, z.start = y(), u.events.push(["enter", z, u]), o.push(z), z;
  }
  function E(G) {
    const Y = o.pop();
    return Y.end = y(), u.events.push(["exit", Y, u]), Y;
  }
  function C(G, Y) {
    D(G, Y.from);
  }
  function A(G, Y) {
    Y.restore();
  }
  function N(G, Y) {
    return z;
    function z(H, L, q) {
      let te, ge, Ce, O;
      return Array.isArray(H) ? (
        /* c8 ignore next 1 */
        se(H)
      ) : "tokenize" in H ? (
        // Looks like a construct.
        se([
          /** @type {Construct} */
          H
        ])
      ) : ie(H);
      function ie(fe) {
        return Ne;
        function Ne(we) {
          const Fe = we !== null && fe[we], Te = we !== null && fe.null, He = [
            // To do: add more extension tests.
            /* c8 ignore next 2 */
            ...Array.isArray(Fe) ? Fe : Fe ? [Fe] : [],
            ...Array.isArray(Te) ? Te : Te ? [Te] : []
          ];
          return se(He)(we);
        }
      }
      function se(fe) {
        return te = fe, ge = 0, fe.length === 0 ? q : R(fe[ge]);
      }
      function R(fe) {
        return Ne;
        function Ne(we) {
          return O = F(), Ce = fe, fe.partial || (u.currentConstruct = fe), fe.name && u.parser.constructs.disable.null.includes(fe.name) ? K() : fe.tokenize.call(
            // If we do have fields, create an object w/ `context` as its
            // prototype.
            // This allows a â€œlive bindingâ€, which is needed for `interrupt`.
            Y ? Object.assign(Object.create(u), Y) : u,
            c,
            oe,
            K
          )(we);
        }
      }
      function oe(fe) {
        return G(Ce, O), L;
      }
      function K(fe) {
        return O.restore(), ++ge < te.length ? R(te[ge]) : q;
      }
    }
  }
  function D(G, Y) {
    G.resolveAll && !a.includes(G) && a.push(G), G.resolve && gr(u.events, Y, u.events.length - Y, G.resolve(u.events.slice(Y), u)), G.resolveTo && (u.events = G.resolveTo(u.events, u));
  }
  function F() {
    const G = y(), Y = u.previous, z = u.currentConstruct, H = u.events.length, L = Array.from(o);
    return {
      from: H,
      restore: q
    };
    function q() {
      r = G, u.previous = Y, u.currentConstruct = z, u.events.length = H, o = L, P();
    }
  }
  function P() {
    r.line in i && r.column < 2 && (r.column = i[r.line], r.offset += i[r.line] - 1);
  }
}
function a3(e, t) {
  const n = t.start._index, r = t.start._bufferIndex, i = t.end._index, a = t.end._bufferIndex;
  let s;
  if (n === i)
    s = [e[n].slice(r, a)];
  else {
    if (s = e.slice(n, i), r > -1) {
      const o = s[0];
      typeof o == "string" ? s[0] = o.slice(r) : s.shift();
    }
    a > 0 && s.push(e[i].slice(0, a));
  }
  return s;
}
function s3(e, t) {
  let n = -1;
  const r = [];
  let i;
  for (; ++n < e.length; ) {
    const a = e[n];
    let s;
    if (typeof a == "string")
      s = a;
    else switch (a) {
      case -5: {
        s = "\r";
        break;
      }
      case -4: {
        s = `
`;
        break;
      }
      case -3: {
        s = `\r
`;
        break;
      }
      case -2: {
        s = t ? " " : "	";
        break;
      }
      case -1: {
        if (!t && i) continue;
        s = " ";
        break;
      }
      default:
        s = String.fromCharCode(a);
    }
    i = a === -2, r.push(s);
  }
  return r.join("");
}
function o3(e) {
  const r = {
    constructs: (
      /** @type {FullNormalizedExtension} */
      hV([r3, ...(e || {}).extensions || []])
    ),
    content: i(CV),
    defined: [],
    document: i(IV),
    flow: i(W4),
    lazy: {},
    string: i(j4),
    text: i($4)
  };
  return r;
  function i(a) {
    return s;
    function s(o) {
      return i3(r, a, o);
    }
  }
}
function l3(e) {
  for (; !Ex(e); )
    ;
  return e;
}
const Cg = /[\0\t\n\r]/g;
function c3() {
  let e = 1, t = "", n = !0, r;
  return i;
  function i(a, s, o) {
    const c = [];
    let u, f, p, g, h;
    for (a = t + (typeof a == "string" ? a.toString() : new TextDecoder(s || void 0).decode(a)), p = 0, t = "", n && (a.charCodeAt(0) === 65279 && p++, n = void 0); p < a.length; ) {
      if (Cg.lastIndex = p, u = Cg.exec(a), g = u && u.index !== void 0 ? u.index : a.length, h = a.charCodeAt(g), !u) {
        t = a.slice(p);
        break;
      }
      if (h === 10 && p === g && r)
        c.push(-3), r = void 0;
      else
        switch (r && (c.push(-5), r = void 0), p < g && (c.push(a.slice(p, g)), e += g - p), h) {
          case 0: {
            c.push(65533), e++;
            break;
          }
          case 9: {
            for (f = Math.ceil(e / 4) * 4, c.push(-2); e++ < f; ) c.push(-1);
            break;
          }
          case 10: {
            c.push(-4), e = 1;
            break;
          }
          default:
            r = !0, e = 1;
        }
      p = g + 1;
    }
    return o && (r && c.push(-5), t && c.push(t), c.push(null)), c;
  }
}
const u3 = /\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;
function d3(e) {
  return e.replace(u3, f3);
}
function f3(e, t, n) {
  if (t)
    return t;
  if (n.charCodeAt(0) === 35) {
    const i = n.charCodeAt(1), a = i === 120 || i === 88;
    return Cx(n.slice(a ? 2 : 1), a ? 16 : 10);
  }
  return rp(n) || e;
}
const Mx = {}.hasOwnProperty;
function p3(e, t, n) {
  return typeof t != "string" && (n = t, t = void 0), h3(n)(l3(o3(n).document().write(c3()(e, t, !0))));
}
function h3(e) {
  const t = {
    transforms: [],
    canContainEols: ["emphasis", "fragment", "heading", "paragraph", "strong"],
    enter: {
      autolink: a(Ft),
      autolinkProtocol: F,
      autolinkEmail: F,
      atxHeading: a(We),
      blockQuote: a(Te),
      characterEscape: F,
      characterReference: F,
      codeFenced: a(He),
      codeFencedFenceInfo: s,
      codeFencedFenceMeta: s,
      codeIndented: a(He, s),
      codeText: a(ue, s),
      codeTextData: F,
      data: F,
      codeFlowValue: F,
      definition: a(rt),
      definitionDestinationString: s,
      definitionLabelString: s,
      definitionTitleString: s,
      emphasis: a(vt),
      hardBreakEscape: a(Bt),
      hardBreakTrailing: a(Bt),
      htmlFlow: a(Et, s),
      htmlFlowData: F,
      htmlText: a(Et, s),
      htmlTextData: F,
      image: a(jt),
      label: s,
      link: a(Ft),
      listItem: a(V),
      listItemValue: g,
      listOrdered: a(qe, p),
      listUnordered: a(qe),
      paragraph: a($),
      reference: R,
      referenceString: s,
      resourceDestinationString: s,
      resourceTitleString: s,
      setextHeading: a(We),
      strong: a(Q),
      thematicBreak: a(J)
    },
    exit: {
      atxHeading: c(),
      atxHeadingSequence: C,
      autolink: c(),
      autolinkEmail: Fe,
      autolinkProtocol: we,
      blockQuote: c(),
      characterEscapeValue: P,
      characterReferenceMarkerHexadecimal: K,
      characterReferenceMarkerNumeric: K,
      characterReferenceValue: fe,
      characterReference: Ne,
      codeFenced: c(S),
      codeFencedFence: _,
      codeFencedFenceInfo: h,
      codeFencedFenceMeta: y,
      codeFlowValue: P,
      codeIndented: c(w),
      codeText: c(L),
      codeTextData: P,
      data: P,
      definition: c(),
      definitionDestinationString: E,
      definitionLabelString: I,
      definitionTitleString: b,
      emphasis: c(),
      hardBreakEscape: c(Y),
      hardBreakTrailing: c(Y),
      htmlFlow: c(z),
      htmlFlowData: P,
      htmlText: c(H),
      htmlTextData: P,
      image: c(te),
      label: Ce,
      labelText: ge,
      lineEnding: G,
      link: c(q),
      listItem: c(),
      listOrdered: c(),
      listUnordered: c(),
      paragraph: c(),
      referenceString: oe,
      resourceDestinationString: O,
      resourceTitleString: ie,
      resource: se,
      setextHeading: c(D),
      setextHeadingLineSequence: N,
      setextHeadingText: A,
      strong: c(),
      thematicBreak: c()
    }
  };
  Rx(t, (e || {}).mdastExtensions || []);
  const n = {};
  return r;
  function r(T) {
    let X = {
      type: "root",
      children: []
    };
    const le = {
      stack: [X],
      tokenStack: [],
      config: t,
      enter: o,
      exit: u,
      buffer: s,
      resume: f,
      data: n
    }, Se = [];
    let Ie = -1;
    for (; ++Ie < T.length; )
      if (T[Ie][1].type === "listOrdered" || T[Ie][1].type === "listUnordered")
        if (T[Ie][0] === "enter")
          Se.push(Ie);
        else {
          const yt = Se.pop();
          Ie = i(T, yt, Ie);
        }
    for (Ie = -1; ++Ie < T.length; ) {
      const yt = t[T[Ie][0]];
      Mx.call(yt, T[Ie][1].type) && yt[T[Ie][1].type].call(Object.assign({
        sliceSerialize: T[Ie][2].sliceSerialize
      }, le), T[Ie][1]);
    }
    if (le.tokenStack.length > 0) {
      const yt = le.tokenStack[le.tokenStack.length - 1];
      (yt[1] || Sg).call(le, void 0, yt[0]);
    }
    for (X.position = {
      start: Kr(T.length > 0 ? T[0][1].start : {
        line: 1,
        column: 1,
        offset: 0
      }),
      end: Kr(T.length > 0 ? T[T.length - 2][1].end : {
        line: 1,
        column: 1,
        offset: 0
      })
    }, Ie = -1; ++Ie < t.transforms.length; )
      X = t.transforms[Ie](X) || X;
    return X;
  }
  function i(T, X, le) {
    let Se = X - 1, Ie = -1, yt = !1, At, Gt, Xt, Zt;
    for (; ++Se <= le; ) {
      const bt = T[Se];
      switch (bt[1].type) {
        case "listUnordered":
        case "listOrdered":
        case "blockQuote": {
          bt[0] === "enter" ? Ie++ : Ie--, Zt = void 0;
          break;
        }
        case "lineEndingBlank": {
          bt[0] === "enter" && (At && !Zt && !Ie && !Xt && (Xt = Se), Zt = void 0);
          break;
        }
        case "linePrefix":
        case "listItemValue":
        case "listItemMarker":
        case "listItemPrefix":
        case "listItemPrefixWhitespace":
          break;
        default:
          Zt = void 0;
      }
      if (!Ie && bt[0] === "enter" && bt[1].type === "listItemPrefix" || Ie === -1 && bt[0] === "exit" && (bt[1].type === "listUnordered" || bt[1].type === "listOrdered")) {
        if (At) {
          let qt = Se;
          for (Gt = void 0; qt--; ) {
            const Kt = T[qt];
            if (Kt[1].type === "lineEnding" || Kt[1].type === "lineEndingBlank") {
              if (Kt[0] === "exit") continue;
              Gt && (T[Gt][1].type = "lineEndingBlank", yt = !0), Kt[1].type = "lineEnding", Gt = qt;
            } else if (!(Kt[1].type === "linePrefix" || Kt[1].type === "blockQuotePrefix" || Kt[1].type === "blockQuotePrefixWhitespace" || Kt[1].type === "blockQuoteMarker" || Kt[1].type === "listItemIndent")) break;
          }
          Xt && (!Gt || Xt < Gt) && (At._spread = !0), At.end = Object.assign({}, Gt ? T[Gt][1].start : bt[1].end), T.splice(Gt || Se, 0, ["exit", At, bt[2]]), Se++, le++;
        }
        if (bt[1].type === "listItemPrefix") {
          const qt = {
            type: "listItem",
            _spread: !1,
            start: Object.assign({}, bt[1].start),
            // @ts-expect-error: weâ€™ll add `end` in a second.
            end: void 0
          };
          At = qt, T.splice(Se, 0, ["enter", qt, bt[2]]), Se++, le++, Xt = void 0, Zt = !0;
        }
      }
    }
    return T[X][1]._spread = yt, le;
  }
  function a(T, X) {
    return le;
    function le(Se) {
      o.call(this, T(Se), Se), X && X.call(this, Se);
    }
  }
  function s() {
    this.stack.push({
      type: "fragment",
      children: []
    });
  }
  function o(T, X, le) {
    this.stack[this.stack.length - 1].children.push(T), this.stack.push(T), this.tokenStack.push([X, le || void 0]), T.position = {
      start: Kr(X.start),
      // @ts-expect-error: `end` will be patched later.
      end: void 0
    };
  }
  function c(T) {
    return X;
    function X(le) {
      T && T.call(this, le), u.call(this, le);
    }
  }
  function u(T, X) {
    const le = this.stack.pop(), Se = this.tokenStack.pop();
    if (Se)
      Se[0].type !== T.type && (X ? X.call(this, T, Se[0]) : (Se[1] || Sg).call(this, T, Se[0]));
    else throw new Error("Cannot close `" + T.type + "` (" + os({
      start: T.start,
      end: T.end
    }) + "): itâ€™s not open");
    le.position.end = Kr(T.end);
  }
  function f() {
    return fV(this.stack.pop());
  }
  function p() {
    this.data.expectingFirstListItemValue = !0;
  }
  function g(T) {
    if (this.data.expectingFirstListItemValue) {
      const X = this.stack[this.stack.length - 2];
      X.start = Number.parseInt(this.sliceSerialize(T), 10), this.data.expectingFirstListItemValue = void 0;
    }
  }
  function h() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.lang = T;
  }
  function y() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.meta = T;
  }
  function _() {
    this.data.flowCodeInside || (this.buffer(), this.data.flowCodeInside = !0);
  }
  function S() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.value = T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g, ""), this.data.flowCodeInside = void 0;
  }
  function w() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.value = T.replace(/(\r?\n|\r)$/g, "");
  }
  function I(T) {
    const X = this.resume(), le = this.stack[this.stack.length - 1];
    le.label = X, le.identifier = ha(this.sliceSerialize(T)).toLowerCase();
  }
  function b() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.title = T;
  }
  function E() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.url = T;
  }
  function C(T) {
    const X = this.stack[this.stack.length - 1];
    if (!X.depth) {
      const le = this.sliceSerialize(T).length;
      X.depth = le;
    }
  }
  function A() {
    this.data.setextHeadingSlurpLineEnding = !0;
  }
  function N(T) {
    const X = this.stack[this.stack.length - 1];
    X.depth = this.sliceSerialize(T).codePointAt(0) === 61 ? 1 : 2;
  }
  function D() {
    this.data.setextHeadingSlurpLineEnding = void 0;
  }
  function F(T) {
    const le = this.stack[this.stack.length - 1].children;
    let Se = le[le.length - 1];
    (!Se || Se.type !== "text") && (Se = Z(), Se.position = {
      start: Kr(T.start),
      // @ts-expect-error: weâ€™ll add `end` later.
      end: void 0
    }, le.push(Se)), this.stack.push(Se);
  }
  function P(T) {
    const X = this.stack.pop();
    X.value += this.sliceSerialize(T), X.position.end = Kr(T.end);
  }
  function G(T) {
    const X = this.stack[this.stack.length - 1];
    if (this.data.atHardBreak) {
      const le = X.children[X.children.length - 1];
      le.position.end = Kr(T.end), this.data.atHardBreak = void 0;
      return;
    }
    !this.data.setextHeadingSlurpLineEnding && t.canContainEols.includes(X.type) && (F.call(this, T), P.call(this, T));
  }
  function Y() {
    this.data.atHardBreak = !0;
  }
  function z() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.value = T;
  }
  function H() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.value = T;
  }
  function L() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.value = T;
  }
  function q() {
    const T = this.stack[this.stack.length - 1];
    if (this.data.inReference) {
      const X = this.data.referenceType || "shortcut";
      T.type += "Reference", T.referenceType = X, delete T.url, delete T.title;
    } else
      delete T.identifier, delete T.label;
    this.data.referenceType = void 0;
  }
  function te() {
    const T = this.stack[this.stack.length - 1];
    if (this.data.inReference) {
      const X = this.data.referenceType || "shortcut";
      T.type += "Reference", T.referenceType = X, delete T.url, delete T.title;
    } else
      delete T.identifier, delete T.label;
    this.data.referenceType = void 0;
  }
  function ge(T) {
    const X = this.sliceSerialize(T), le = this.stack[this.stack.length - 2];
    le.label = d3(X), le.identifier = ha(X).toLowerCase();
  }
  function Ce() {
    const T = this.stack[this.stack.length - 1], X = this.resume(), le = this.stack[this.stack.length - 1];
    if (this.data.inReference = !0, le.type === "link") {
      const Se = T.children;
      le.children = Se;
    } else
      le.alt = X;
  }
  function O() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.url = T;
  }
  function ie() {
    const T = this.resume(), X = this.stack[this.stack.length - 1];
    X.title = T;
  }
  function se() {
    this.data.inReference = void 0;
  }
  function R() {
    this.data.referenceType = "collapsed";
  }
  function oe(T) {
    const X = this.resume(), le = this.stack[this.stack.length - 1];
    le.label = X, le.identifier = ha(this.sliceSerialize(T)).toLowerCase(), this.data.referenceType = "full";
  }
  function K(T) {
    this.data.characterReferenceType = T.type;
  }
  function fe(T) {
    const X = this.sliceSerialize(T), le = this.data.characterReferenceType;
    let Se;
    le ? (Se = Cx(X, le === "characterReferenceMarkerNumeric" ? 10 : 16), this.data.characterReferenceType = void 0) : Se = rp(X);
    const Ie = this.stack[this.stack.length - 1];
    Ie.value += Se;
  }
  function Ne(T) {
    const X = this.stack.pop();
    X.position.end = Kr(T.end);
  }
  function we(T) {
    P.call(this, T);
    const X = this.stack[this.stack.length - 1];
    X.url = this.sliceSerialize(T);
  }
  function Fe(T) {
    P.call(this, T);
    const X = this.stack[this.stack.length - 1];
    X.url = "mailto:" + this.sliceSerialize(T);
  }
  function Te() {
    return {
      type: "blockquote",
      children: []
    };
  }
  function He() {
    return {
      type: "code",
      lang: null,
      meta: null,
      value: ""
    };
  }
  function ue() {
    return {
      type: "inlineCode",
      value: ""
    };
  }
  function rt() {
    return {
      type: "definition",
      identifier: "",
      label: null,
      title: null,
      url: ""
    };
  }
  function vt() {
    return {
      type: "emphasis",
      children: []
    };
  }
  function We() {
    return {
      type: "heading",
      // @ts-expect-error `depth` will be set later.
      depth: 0,
      children: []
    };
  }
  function Bt() {
    return {
      type: "break"
    };
  }
  function Et() {
    return {
      type: "html",
      value: ""
    };
  }
  function jt() {
    return {
      type: "image",
      title: null,
      url: "",
      alt: null
    };
  }
  function Ft() {
    return {
      type: "link",
      title: null,
      url: "",
      children: []
    };
  }
  function qe(T) {
    return {
      type: "list",
      ordered: T.type === "listOrdered",
      start: null,
      spread: T._spread,
      children: []
    };
  }
  function V(T) {
    return {
      type: "listItem",
      spread: T._spread,
      checked: null,
      children: []
    };
  }
  function $() {
    return {
      type: "paragraph",
      children: []
    };
  }
  function Q() {
    return {
      type: "strong",
      children: []
    };
  }
  function Z() {
    return {
      type: "text",
      value: ""
    };
  }
  function J() {
    return {
      type: "thematicBreak"
    };
  }
}
function Kr(e) {
  return {
    line: e.line,
    column: e.column,
    offset: e.offset
  };
}
function Rx(e, t) {
  let n = -1;
  for (; ++n < t.length; ) {
    const r = t[n];
    Array.isArray(r) ? Rx(e, r) : m3(e, r);
  }
}
function m3(e, t) {
  let n;
  for (n in t)
    if (Mx.call(t, n))
      switch (n) {
        case "canContainEols": {
          const r = t[n];
          r && e[n].push(...r);
          break;
        }
        case "transforms": {
          const r = t[n];
          r && e[n].push(...r);
          break;
        }
        case "enter":
        case "exit": {
          const r = t[n];
          r && Object.assign(e[n], r);
          break;
        }
      }
}
function Sg(e, t) {
  throw e ? new Error("Cannot close `" + e.type + "` (" + os({
    start: e.start,
    end: e.end
  }) + "): a different token (`" + t.type + "`, " + os({
    start: t.start,
    end: t.end
  }) + ") is open") : new Error("Cannot close document, a token (`" + t.type + "`, " + os({
    start: t.start,
    end: t.end
  }) + ") is still open");
}
function g3(e) {
  const t = this;
  t.parser = n;
  function n(r) {
    return p3(r, {
      ...t.data("settings"),
      ...e,
      // Note: these options are not in the readme.
      // The goal is for them to be set by plugins on `data` instead of being
      // passed by users.
      extensions: t.data("micromarkExtensions") || [],
      mdastExtensions: t.data("fromMarkdownExtensions") || []
    });
  }
}
function v3(e, t) {
  const n = {
    type: "element",
    tagName: "blockquote",
    properties: {},
    children: e.wrap(e.all(t), !0)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function y3(e, t) {
  const n = { type: "element", tagName: "br", properties: {}, children: [] };
  return e.patch(t, n), [e.applyData(t, n), { type: "text", value: `
` }];
}
function b3(e, t) {
  const n = t.value ? t.value + `
` : "", r = {}, i = t.lang ? t.lang.split(/\s+/) : [];
  i.length > 0 && (r.className = ["language-" + i[0]]);
  let a = {
    type: "element",
    tagName: "code",
    properties: r,
    children: [{ type: "text", value: n }]
  };
  return t.meta && (a.data = { meta: t.meta }), e.patch(t, a), a = e.applyData(t, a), a = { type: "element", tagName: "pre", properties: {}, children: [a] }, e.patch(t, a), a;
}
function x3(e, t) {
  const n = {
    type: "element",
    tagName: "del",
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function w3(e, t) {
  const n = {
    type: "element",
    tagName: "em",
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function C3(e, t) {
  const n = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-", r = String(t.identifier).toUpperCase(), i = Ra(r.toLowerCase()), a = e.footnoteOrder.indexOf(r);
  let s, o = e.footnoteCounts.get(r);
  o === void 0 ? (o = 0, e.footnoteOrder.push(r), s = e.footnoteOrder.length) : s = a + 1, o += 1, e.footnoteCounts.set(r, o);
  const c = {
    type: "element",
    tagName: "a",
    properties: {
      href: "#" + n + "fn-" + i,
      id: n + "fnref-" + i + (o > 1 ? "-" + o : ""),
      dataFootnoteRef: !0,
      ariaDescribedBy: ["footnote-label"]
    },
    children: [{ type: "text", value: String(s) }]
  };
  e.patch(t, c);
  const u = {
    type: "element",
    tagName: "sup",
    properties: {},
    children: [c]
  };
  return e.patch(t, u), e.applyData(t, u);
}
function S3(e, t) {
  const n = {
    type: "element",
    tagName: "h" + t.depth,
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function I3(e, t) {
  if (e.options.allowDangerousHtml) {
    const n = { type: "raw", value: t.value };
    return e.patch(t, n), e.applyData(t, n);
  }
}
function Tx(e, t) {
  const n = t.referenceType;
  let r = "]";
  if (n === "collapsed" ? r += "[]" : n === "full" && (r += "[" + (t.label || t.identifier) + "]"), t.type === "imageReference")
    return [{ type: "text", value: "![" + t.alt + r }];
  const i = e.all(t), a = i[0];
  a && a.type === "text" ? a.value = "[" + a.value : i.unshift({ type: "text", value: "[" });
  const s = i[i.length - 1];
  return s && s.type === "text" ? s.value += r : i.push({ type: "text", value: r }), i;
}
function _3(e, t) {
  const n = String(t.identifier).toUpperCase(), r = e.definitionById.get(n);
  if (!r)
    return Tx(e, t);
  const i = { src: Ra(r.url || ""), alt: t.alt };
  r.title !== null && r.title !== void 0 && (i.title = r.title);
  const a = { type: "element", tagName: "img", properties: i, children: [] };
  return e.patch(t, a), e.applyData(t, a);
}
function E3(e, t) {
  const n = { src: Ra(t.url) };
  t.alt !== null && t.alt !== void 0 && (n.alt = t.alt), t.title !== null && t.title !== void 0 && (n.title = t.title);
  const r = { type: "element", tagName: "img", properties: n, children: [] };
  return e.patch(t, r), e.applyData(t, r);
}
function k3(e, t) {
  const n = { type: "text", value: t.value.replace(/\r?\n|\r/g, " ") };
  e.patch(t, n);
  const r = {
    type: "element",
    tagName: "code",
    properties: {},
    children: [n]
  };
  return e.patch(t, r), e.applyData(t, r);
}
function N3(e, t) {
  const n = String(t.identifier).toUpperCase(), r = e.definitionById.get(n);
  if (!r)
    return Tx(e, t);
  const i = { href: Ra(r.url || "") };
  r.title !== null && r.title !== void 0 && (i.title = r.title);
  const a = {
    type: "element",
    tagName: "a",
    properties: i,
    children: e.all(t)
  };
  return e.patch(t, a), e.applyData(t, a);
}
function A3(e, t) {
  const n = { href: Ra(t.url) };
  t.title !== null && t.title !== void 0 && (n.title = t.title);
  const r = {
    type: "element",
    tagName: "a",
    properties: n,
    children: e.all(t)
  };
  return e.patch(t, r), e.applyData(t, r);
}
function D3(e, t, n) {
  const r = e.all(t), i = n ? O3(n) : Fx(t), a = {}, s = [];
  if (typeof t.checked == "boolean") {
    const f = r[0];
    let p;
    f && f.type === "element" && f.tagName === "p" ? p = f : (p = { type: "element", tagName: "p", properties: {}, children: [] }, r.unshift(p)), p.children.length > 0 && p.children.unshift({ type: "text", value: " " }), p.children.unshift({
      type: "element",
      tagName: "input",
      properties: { type: "checkbox", checked: t.checked, disabled: !0 },
      children: []
    }), a.className = ["task-list-item"];
  }
  let o = -1;
  for (; ++o < r.length; ) {
    const f = r[o];
    (i || o !== 0 || f.type !== "element" || f.tagName !== "p") && s.push({ type: "text", value: `
` }), f.type === "element" && f.tagName === "p" && !i ? s.push(...f.children) : s.push(f);
  }
  const c = r[r.length - 1];
  c && (i || c.type !== "element" || c.tagName !== "p") && s.push({ type: "text", value: `
` });
  const u = { type: "element", tagName: "li", properties: a, children: s };
  return e.patch(t, u), e.applyData(t, u);
}
function O3(e) {
  let t = !1;
  if (e.type === "list") {
    t = e.spread || !1;
    const n = e.children;
    let r = -1;
    for (; !t && ++r < n.length; )
      t = Fx(n[r]);
  }
  return t;
}
function Fx(e) {
  const t = e.spread;
  return t ?? e.children.length > 1;
}
function M3(e, t) {
  const n = {}, r = e.all(t);
  let i = -1;
  for (typeof t.start == "number" && t.start !== 1 && (n.start = t.start); ++i < r.length; ) {
    const s = r[i];
    if (s.type === "element" && s.tagName === "li" && s.properties && Array.isArray(s.properties.className) && s.properties.className.includes("task-list-item")) {
      n.className = ["contains-task-list"];
      break;
    }
  }
  const a = {
    type: "element",
    tagName: t.ordered ? "ol" : "ul",
    properties: n,
    children: e.wrap(r, !0)
  };
  return e.patch(t, a), e.applyData(t, a);
}
function R3(e, t) {
  const n = {
    type: "element",
    tagName: "p",
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function T3(e, t) {
  const n = { type: "root", children: e.wrap(e.all(t)) };
  return e.patch(t, n), e.applyData(t, n);
}
function F3(e, t) {
  const n = {
    type: "element",
    tagName: "strong",
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
function P3(e, t) {
  const n = e.all(t), r = n.shift(), i = [];
  if (r) {
    const s = {
      type: "element",
      tagName: "thead",
      properties: {},
      children: e.wrap([r], !0)
    };
    e.patch(t.children[0], s), i.push(s);
  }
  if (n.length > 0) {
    const s = {
      type: "element",
      tagName: "tbody",
      properties: {},
      children: e.wrap(n, !0)
    }, o = Kf(t.children[1]), c = mx(t.children[t.children.length - 1]);
    o && c && (s.position = { start: o, end: c }), i.push(s);
  }
  const a = {
    type: "element",
    tagName: "table",
    properties: {},
    children: e.wrap(i, !0)
  };
  return e.patch(t, a), e.applyData(t, a);
}
function L3(e, t, n) {
  const r = n ? n.children : void 0, a = (r ? r.indexOf(t) : 1) === 0 ? "th" : "td", s = n && n.type === "table" ? n.align : void 0, o = s ? s.length : t.children.length;
  let c = -1;
  const u = [];
  for (; ++c < o; ) {
    const p = t.children[c], g = {}, h = s ? s[c] : void 0;
    h && (g.align = h);
    let y = { type: "element", tagName: a, properties: g, children: [] };
    p && (y.children = e.all(p), e.patch(p, y), y = e.applyData(p, y)), u.push(y);
  }
  const f = {
    type: "element",
    tagName: "tr",
    properties: {},
    children: e.wrap(u, !0)
  };
  return e.patch(t, f), e.applyData(t, f);
}
function V3(e, t) {
  const n = {
    type: "element",
    tagName: "td",
    // Assume body cell.
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, n), e.applyData(t, n);
}
const Ig = 9, _g = 32;
function B3(e) {
  const t = String(e), n = /\r?\n|\r/g;
  let r = n.exec(t), i = 0;
  const a = [];
  for (; r; )
    a.push(
      Eg(t.slice(i, r.index), i > 0, !0),
      r[0]
    ), i = r.index + r[0].length, r = n.exec(t);
  return a.push(Eg(t.slice(i), i > 0, !1)), a.join("");
}
function Eg(e, t, n) {
  let r = 0, i = e.length;
  if (t) {
    let a = e.codePointAt(r);
    for (; a === Ig || a === _g; )
      r++, a = e.codePointAt(r);
  }
  if (n) {
    let a = e.codePointAt(i - 1);
    for (; a === Ig || a === _g; )
      i--, a = e.codePointAt(i - 1);
  }
  return i > r ? e.slice(r, i) : "";
}
function G3(e, t) {
  const n = { type: "text", value: B3(String(t.value)) };
  return e.patch(t, n), e.applyData(t, n);
}
function Y3(e, t) {
  const n = {
    type: "element",
    tagName: "hr",
    properties: {},
    children: []
  };
  return e.patch(t, n), e.applyData(t, n);
}
const W3 = {
  blockquote: v3,
  break: y3,
  code: b3,
  delete: x3,
  emphasis: w3,
  footnoteReference: C3,
  heading: S3,
  html: I3,
  imageReference: _3,
  image: E3,
  inlineCode: k3,
  linkReference: N3,
  link: A3,
  listItem: D3,
  list: M3,
  paragraph: R3,
  // @ts-expect-error: root is different, but hard to type.
  root: T3,
  strong: F3,
  table: P3,
  tableCell: V3,
  tableRow: L3,
  text: G3,
  thematicBreak: Y3,
  toml: ko,
  yaml: ko,
  definition: ko,
  footnoteDefinition: ko
};
function ko() {
}
const Px = -1, sc = 0, cs = 1, yl = 2, sp = 3, op = 4, lp = 5, cp = 6, Lx = 7, Vx = 8, kg = typeof self == "object" ? self : globalThis, z3 = (e, t) => {
  const n = (i, a) => (e.set(a, i), i), r = (i) => {
    if (e.has(i))
      return e.get(i);
    const [a, s] = t[i];
    switch (a) {
      case sc:
      case Px:
        return n(s, i);
      case cs: {
        const o = n([], i);
        for (const c of s)
          o.push(r(c));
        return o;
      }
      case yl: {
        const o = n({}, i);
        for (const [c, u] of s)
          o[r(c)] = r(u);
        return o;
      }
      case sp:
        return n(new Date(s), i);
      case op: {
        const { source: o, flags: c } = s;
        return n(new RegExp(o, c), i);
      }
      case lp: {
        const o = n(/* @__PURE__ */ new Map(), i);
        for (const [c, u] of s)
          o.set(r(c), r(u));
        return o;
      }
      case cp: {
        const o = n(/* @__PURE__ */ new Set(), i);
        for (const c of s)
          o.add(r(c));
        return o;
      }
      case Lx: {
        const { name: o, message: c } = s;
        return n(new kg[o](c), i);
      }
      case Vx:
        return n(BigInt(s), i);
      case "BigInt":
        return n(Object(BigInt(s)), i);
      case "ArrayBuffer":
        return n(new Uint8Array(s).buffer, s);
      case "DataView": {
        const { buffer: o } = new Uint8Array(s);
        return n(new DataView(o), s);
      }
    }
    return n(new kg[a](s), i);
  };
  return r;
}, Ng = (e) => z3(/* @__PURE__ */ new Map(), e)(0), ta = "", { toString: H3 } = {}, { keys: j3 } = Object, Ka = (e) => {
  const t = typeof e;
  if (t !== "object" || !e)
    return [sc, t];
  const n = H3.call(e).slice(8, -1);
  switch (n) {
    case "Array":
      return [cs, ta];
    case "Object":
      return [yl, ta];
    case "Date":
      return [sp, ta];
    case "RegExp":
      return [op, ta];
    case "Map":
      return [lp, ta];
    case "Set":
      return [cp, ta];
    case "DataView":
      return [cs, n];
  }
  return n.includes("Array") ? [cs, n] : n.includes("Error") ? [Lx, n] : [yl, n];
}, No = ([e, t]) => e === sc && (t === "function" || t === "symbol"), $3 = (e, t, n, r) => {
  const i = (s, o) => {
    const c = r.push(s) - 1;
    return n.set(o, c), c;
  }, a = (s) => {
    if (n.has(s))
      return n.get(s);
    let [o, c] = Ka(s);
    switch (o) {
      case sc: {
        let f = s;
        switch (c) {
          case "bigint":
            o = Vx, f = s.toString();
            break;
          case "function":
          case "symbol":
            if (e)
              throw new TypeError("unable to serialize " + c);
            f = null;
            break;
          case "undefined":
            return i([Px], s);
        }
        return i([o, f], s);
      }
      case cs: {
        if (c) {
          let g = s;
          return c === "DataView" ? g = new Uint8Array(s.buffer) : c === "ArrayBuffer" && (g = new Uint8Array(s)), i([c, [...g]], s);
        }
        const f = [], p = i([o, f], s);
        for (const g of s)
          f.push(a(g));
        return p;
      }
      case yl: {
        if (c)
          switch (c) {
            case "BigInt":
              return i([c, s.toString()], s);
            case "Boolean":
            case "Number":
            case "String":
              return i([c, s.valueOf()], s);
          }
        if (t && "toJSON" in s)
          return a(s.toJSON());
        const f = [], p = i([o, f], s);
        for (const g of j3(s))
          (e || !No(Ka(s[g]))) && f.push([a(g), a(s[g])]);
        return p;
      }
      case sp:
        return i([o, s.toISOString()], s);
      case op: {
        const { source: f, flags: p } = s;
        return i([o, { source: f, flags: p }], s);
      }
      case lp: {
        const f = [], p = i([o, f], s);
        for (const [g, h] of s)
          (e || !(No(Ka(g)) || No(Ka(h)))) && f.push([a(g), a(h)]);
        return p;
      }
      case cp: {
        const f = [], p = i([o, f], s);
        for (const g of s)
          (e || !No(Ka(g))) && f.push(a(g));
        return p;
      }
    }
    const { message: u } = s;
    return i([o, { name: c, message: u }], s);
  };
  return a;
}, Ag = (e, { json: t, lossy: n } = {}) => {
  const r = [];
  return $3(!(t || n), !!t, /* @__PURE__ */ new Map(), r)(e), r;
}, bl = typeof structuredClone == "function" ? (
  /* c8 ignore start */
  (e, t) => t && ("json" in t || "lossy" in t) ? Ng(Ag(e, t)) : structuredClone(e)
) : (e, t) => Ng(Ag(e, t));
function U3(e, t) {
  const n = [{ type: "text", value: "â†©" }];
  return t > 1 && n.push({
    type: "element",
    tagName: "sup",
    properties: {},
    children: [{ type: "text", value: String(t) }]
  }), n;
}
function X3(e, t) {
  return "Back to reference " + (e + 1) + (t > 1 ? "-" + t : "");
}
function Z3(e) {
  const t = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-", n = e.options.footnoteBackContent || U3, r = e.options.footnoteBackLabel || X3, i = e.options.footnoteLabel || "Footnotes", a = e.options.footnoteLabelTagName || "h2", s = e.options.footnoteLabelProperties || {
    className: ["sr-only"]
  }, o = [];
  let c = -1;
  for (; ++c < e.footnoteOrder.length; ) {
    const u = e.footnoteById.get(
      e.footnoteOrder[c]
    );
    if (!u)
      continue;
    const f = e.all(u), p = String(u.identifier).toUpperCase(), g = Ra(p.toLowerCase());
    let h = 0;
    const y = [], _ = e.footnoteCounts.get(p);
    for (; _ !== void 0 && ++h <= _; ) {
      y.length > 0 && y.push({ type: "text", value: " " });
      let I = typeof n == "string" ? n : n(c, h);
      typeof I == "string" && (I = { type: "text", value: I }), y.push({
        type: "element",
        tagName: "a",
        properties: {
          href: "#" + t + "fnref-" + g + (h > 1 ? "-" + h : ""),
          dataFootnoteBackref: "",
          ariaLabel: typeof r == "string" ? r : r(c, h),
          className: ["data-footnote-backref"]
        },
        children: Array.isArray(I) ? I : [I]
      });
    }
    const S = f[f.length - 1];
    if (S && S.type === "element" && S.tagName === "p") {
      const I = S.children[S.children.length - 1];
      I && I.type === "text" ? I.value += " " : S.children.push({ type: "text", value: " " }), S.children.push(...y);
    } else
      f.push(...y);
    const w = {
      type: "element",
      tagName: "li",
      properties: { id: t + "fn-" + g },
      children: e.wrap(f, !0)
    };
    e.patch(u, w), o.push(w);
  }
  if (o.length !== 0)
    return {
      type: "element",
      tagName: "section",
      properties: { dataFootnotes: !0, className: ["footnotes"] },
      children: [
        {
          type: "element",
          tagName: a,
          properties: {
            ...bl(s),
            id: "footnote-label"
          },
          children: [{ type: "text", value: i }]
        },
        { type: "text", value: `
` },
        {
          type: "element",
          tagName: "ol",
          properties: {},
          children: e.wrap(o, !0)
        },
        { type: "text", value: `
` }
      ]
    };
}
const Bx = (
  // Note: overloads in JSDoc canâ€™t yet use different `@template`s.
  /**
   * @type {(
   *   (<Condition extends string>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &
   *   (<Condition extends Props>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &
   *   (<Condition extends TestFunction>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &
   *   ((test?: null | undefined) => (node?: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &
   *   ((test?: Test) => Check)
   * )}
   */
  /**
   * @param {Test} [test]
   * @returns {Check}
   */
  (function(e) {
    if (e == null)
      return K3;
    if (typeof e == "function")
      return oc(e);
    if (typeof e == "object")
      return Array.isArray(e) ? q3(e) : (
        // Cast because `ReadonlyArray` goes into the above but `isArray`
        // narrows to `Array`.
        J3(
          /** @type {Props} */
          e
        )
      );
    if (typeof e == "string")
      return Q3(e);
    throw new Error("Expected function, string, or object as test");
  })
);
function q3(e) {
  const t = [];
  let n = -1;
  for (; ++n < e.length; )
    t[n] = Bx(e[n]);
  return oc(r);
  function r(...i) {
    let a = -1;
    for (; ++a < t.length; )
      if (t[a].apply(this, i)) return !0;
    return !1;
  }
}
function J3(e) {
  const t = (
    /** @type {Record<string, unknown>} */
    e
  );
  return oc(n);
  function n(r) {
    const i = (
      /** @type {Record<string, unknown>} */
      /** @type {unknown} */
      r
    );
    let a;
    for (a in e)
      if (i[a] !== t[a]) return !1;
    return !0;
  }
}
function Q3(e) {
  return oc(t);
  function t(n) {
    return n && n.type === e;
  }
}
function oc(e) {
  return t;
  function t(n, r, i) {
    return !!(eB(n) && e.call(
      this,
      n,
      typeof r == "number" ? r : void 0,
      i || void 0
    ));
  }
}
function K3() {
  return !0;
}
function eB(e) {
  return e !== null && typeof e == "object" && "type" in e;
}
const Gx = [], tB = !0, Dg = !1, nB = "skip";
function rB(e, t, n, r) {
  let i;
  typeof t == "function" && typeof n != "function" ? (r = n, n = t) : i = t;
  const a = Bx(i), s = r ? -1 : 1;
  o(e, void 0, [])();
  function o(c, u, f) {
    const p = (
      /** @type {Record<string, unknown>} */
      c && typeof c == "object" ? c : {}
    );
    if (typeof p.type == "string") {
      const h = (
        // `hast`
        typeof p.tagName == "string" ? p.tagName : (
          // `xast`
          typeof p.name == "string" ? p.name : void 0
        )
      );
      Object.defineProperty(g, "name", {
        value: "node (" + (c.type + (h ? "<" + h + ">" : "")) + ")"
      });
    }
    return g;
    function g() {
      let h = Gx, y, _, S;
      if ((!t || a(c, u, f[f.length - 1] || void 0)) && (h = iB(n(c, f)), h[0] === Dg))
        return h;
      if ("children" in c && c.children) {
        const w = (
          /** @type {UnistParent} */
          c
        );
        if (w.children && h[0] !== nB)
          for (_ = (r ? w.children.length : -1) + s, S = f.concat(w); _ > -1 && _ < w.children.length; ) {
            const I = w.children[_];
            if (y = o(I, _, S)(), y[0] === Dg)
              return y;
            _ = typeof y[1] == "number" ? y[1] : _ + s;
          }
      }
      return h;
    }
  }
}
function iB(e) {
  return Array.isArray(e) ? e : typeof e == "number" ? [tB, e] : e == null ? Gx : [e];
}
function Yx(e, t, n, r) {
  let i, a, s;
  typeof t == "function" && typeof n != "function" ? (a = void 0, s = t, i = n) : (a = t, s = n, i = r), rB(e, a, o, i);
  function o(c, u) {
    const f = u[u.length - 1], p = f ? f.children.indexOf(c) : void 0;
    return s(c, p, f);
  }
}
const wd = {}.hasOwnProperty, aB = {};
function sB(e, t) {
  const n = t || aB, r = /* @__PURE__ */ new Map(), i = /* @__PURE__ */ new Map(), a = /* @__PURE__ */ new Map(), s = { ...W3, ...n.handlers }, o = {
    all: u,
    applyData: lB,
    definitionById: r,
    footnoteById: i,
    footnoteCounts: a,
    footnoteOrder: [],
    handlers: s,
    one: c,
    options: n,
    patch: oB,
    wrap: uB
  };
  return Yx(e, function(f) {
    if (f.type === "definition" || f.type === "footnoteDefinition") {
      const p = f.type === "definition" ? r : i, g = String(f.identifier).toUpperCase();
      p.has(g) || p.set(g, f);
    }
  }), o;
  function c(f, p) {
    const g = f.type, h = o.handlers[g];
    if (wd.call(o.handlers, g) && h)
      return h(o, f, p);
    if (o.options.passThrough && o.options.passThrough.includes(g)) {
      if ("children" in f) {
        const { children: _, ...S } = f, w = bl(S);
        return w.children = o.all(f), w;
      }
      return bl(f);
    }
    return (o.options.unknownHandler || cB)(o, f, p);
  }
  function u(f) {
    const p = [];
    if ("children" in f) {
      const g = f.children;
      let h = -1;
      for (; ++h < g.length; ) {
        const y = o.one(g[h], f);
        if (y) {
          if (h && g[h - 1].type === "break" && (!Array.isArray(y) && y.type === "text" && (y.value = Og(y.value)), !Array.isArray(y) && y.type === "element")) {
            const _ = y.children[0];
            _ && _.type === "text" && (_.value = Og(_.value));
          }
          Array.isArray(y) ? p.push(...y) : p.push(y);
        }
      }
    }
    return p;
  }
}
function oB(e, t) {
  e.position && (t.position = HL(e));
}
function lB(e, t) {
  let n = t;
  if (e && e.data) {
    const r = e.data.hName, i = e.data.hChildren, a = e.data.hProperties;
    if (typeof r == "string")
      if (n.type === "element")
        n.tagName = r;
      else {
        const s = "children" in n ? n.children : [n];
        n = { type: "element", tagName: r, properties: {}, children: s };
      }
    n.type === "element" && a && Object.assign(n.properties, bl(a)), "children" in n && n.children && i !== null && i !== void 0 && (n.children = i);
  }
  return n;
}
function cB(e, t) {
  const n = t.data || {}, r = "value" in t && !(wd.call(n, "hProperties") || wd.call(n, "hChildren")) ? { type: "text", value: t.value } : {
    type: "element",
    tagName: "div",
    properties: {},
    children: e.all(t)
  };
  return e.patch(t, r), e.applyData(t, r);
}
function uB(e, t) {
  const n = [];
  let r = -1;
  for (t && n.push({ type: "text", value: `
` }); ++r < e.length; )
    r && n.push({ type: "text", value: `
` }), n.push(e[r]);
  return t && e.length > 0 && n.push({ type: "text", value: `
` }), n;
}
function Og(e) {
  let t = 0, n = e.charCodeAt(t);
  for (; n === 9 || n === 32; )
    t++, n = e.charCodeAt(t);
  return e.slice(t);
}
function Mg(e, t) {
  const n = sB(e, t), r = n.one(e, void 0), i = Z3(n), a = Array.isArray(r) ? { type: "root", children: r } : r || { type: "root", children: [] };
  return i && a.children.push({ type: "text", value: `
` }, i), a;
}
function dB(e, t) {
  return e && "run" in e ? async function(n, r) {
    const i = (
      /** @type {HastRoot} */
      Mg(n, { file: r, ...t })
    );
    await e.run(i, r);
  } : function(n, r) {
    return (
      /** @type {HastRoot} */
      Mg(n, { file: r, ...e || t })
    );
  };
}
function Rg(e) {
  if (e)
    throw e;
}
var wu, Tg;
function fB() {
  if (Tg) return wu;
  Tg = 1;
  var e = Object.prototype.hasOwnProperty, t = Object.prototype.toString, n = Object.defineProperty, r = Object.getOwnPropertyDescriptor, i = function(u) {
    return typeof Array.isArray == "function" ? Array.isArray(u) : t.call(u) === "[object Array]";
  }, a = function(u) {
    if (!u || t.call(u) !== "[object Object]")
      return !1;
    var f = e.call(u, "constructor"), p = u.constructor && u.constructor.prototype && e.call(u.constructor.prototype, "isPrototypeOf");
    if (u.constructor && !f && !p)
      return !1;
    var g;
    for (g in u)
      ;
    return typeof g > "u" || e.call(u, g);
  }, s = function(u, f) {
    n && f.name === "__proto__" ? n(u, f.name, {
      enumerable: !0,
      configurable: !0,
      value: f.newValue,
      writable: !0
    }) : u[f.name] = f.newValue;
  }, o = function(u, f) {
    if (f === "__proto__")
      if (e.call(u, f)) {
        if (r)
          return r(u, f).value;
      } else return;
    return u[f];
  };
  return wu = function c() {
    var u, f, p, g, h, y, _ = arguments[0], S = 1, w = arguments.length, I = !1;
    for (typeof _ == "boolean" && (I = _, _ = arguments[1] || {}, S = 2), (_ == null || typeof _ != "object" && typeof _ != "function") && (_ = {}); S < w; ++S)
      if (u = arguments[S], u != null)
        for (f in u)
          p = o(_, f), g = o(u, f), _ !== g && (I && g && (a(g) || (h = i(g))) ? (h ? (h = !1, y = p && i(p) ? p : []) : y = p && a(p) ? p : {}, s(_, { name: f, newValue: c(I, y, g) })) : typeof g < "u" && s(_, { name: f, newValue: g }));
    return _;
  }, wu;
}
var pB = fB();
const Cu = /* @__PURE__ */ li(pB);
function Cd(e) {
  if (typeof e != "object" || e === null)
    return !1;
  const t = Object.getPrototypeOf(e);
  return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e);
}
function hB() {
  const e = [], t = { run: n, use: r };
  return t;
  function n(...i) {
    let a = -1;
    const s = i.pop();
    if (typeof s != "function")
      throw new TypeError("Expected function as last argument, not " + s);
    o(null, ...i);
    function o(c, ...u) {
      const f = e[++a];
      let p = -1;
      if (c) {
        s(c);
        return;
      }
      for (; ++p < i.length; )
        (u[p] === null || u[p] === void 0) && (u[p] = i[p]);
      i = u, f ? mB(f, o)(...u) : s(null, ...u);
    }
  }
  function r(i) {
    if (typeof i != "function")
      throw new TypeError(
        "Expected `middelware` to be a function, not " + i
      );
    return e.push(i), t;
  }
}
function mB(e, t) {
  let n;
  return r;
  function r(...s) {
    const o = e.length > s.length;
    let c;
    o && s.push(i);
    try {
      c = e.apply(this, s);
    } catch (u) {
      const f = (
        /** @type {Error} */
        u
      );
      if (o && n)
        throw f;
      return i(f);
    }
    o || (c && c.then && typeof c.then == "function" ? c.then(a, i) : c instanceof Error ? i(c) : a(c));
  }
  function i(s, ...o) {
    n || (n = !0, t(s, ...o));
  }
  function a(s) {
    i(null, s);
  }
}
const sr = { basename: gB, dirname: vB, extname: yB, join: bB, sep: "/" };
function gB(e, t) {
  if (t !== void 0 && typeof t != "string")
    throw new TypeError('"ext" argument must be a string');
  qs(e);
  let n = 0, r = -1, i = e.length, a;
  if (t === void 0 || t.length === 0 || t.length > e.length) {
    for (; i--; )
      if (e.codePointAt(i) === 47) {
        if (a) {
          n = i + 1;
          break;
        }
      } else r < 0 && (a = !0, r = i + 1);
    return r < 0 ? "" : e.slice(n, r);
  }
  if (t === e)
    return "";
  let s = -1, o = t.length - 1;
  for (; i--; )
    if (e.codePointAt(i) === 47) {
      if (a) {
        n = i + 1;
        break;
      }
    } else
      s < 0 && (a = !0, s = i + 1), o > -1 && (e.codePointAt(i) === t.codePointAt(o--) ? o < 0 && (r = i) : (o = -1, r = s));
  return n === r ? r = s : r < 0 && (r = e.length), e.slice(n, r);
}
function vB(e) {
  if (qs(e), e.length === 0)
    return ".";
  let t = -1, n = e.length, r;
  for (; --n; )
    if (e.codePointAt(n) === 47) {
      if (r) {
        t = n;
        break;
      }
    } else r || (r = !0);
  return t < 0 ? e.codePointAt(0) === 47 ? "/" : "." : t === 1 && e.codePointAt(0) === 47 ? "//" : e.slice(0, t);
}
function yB(e) {
  qs(e);
  let t = e.length, n = -1, r = 0, i = -1, a = 0, s;
  for (; t--; ) {
    const o = e.codePointAt(t);
    if (o === 47) {
      if (s) {
        r = t + 1;
        break;
      }
      continue;
    }
    n < 0 && (s = !0, n = t + 1), o === 46 ? i < 0 ? i = t : a !== 1 && (a = 1) : i > -1 && (a = -1);
  }
  return i < 0 || n < 0 || // We saw a non-dot character immediately before the dot.
  a === 0 || // The (right-most) trimmed path component is exactly `..`.
  a === 1 && i === n - 1 && i === r + 1 ? "" : e.slice(i, n);
}
function bB(...e) {
  let t = -1, n;
  for (; ++t < e.length; )
    qs(e[t]), e[t] && (n = n === void 0 ? e[t] : n + "/" + e[t]);
  return n === void 0 ? "." : xB(n);
}
function xB(e) {
  qs(e);
  const t = e.codePointAt(0) === 47;
  let n = wB(e, !t);
  return n.length === 0 && !t && (n = "."), n.length > 0 && e.codePointAt(e.length - 1) === 47 && (n += "/"), t ? "/" + n : n;
}
function wB(e, t) {
  let n = "", r = 0, i = -1, a = 0, s = -1, o, c;
  for (; ++s <= e.length; ) {
    if (s < e.length)
      o = e.codePointAt(s);
    else {
      if (o === 47)
        break;
      o = 47;
    }
    if (o === 47) {
      if (!(i === s - 1 || a === 1)) if (i !== s - 1 && a === 2) {
        if (n.length < 2 || r !== 2 || n.codePointAt(n.length - 1) !== 46 || n.codePointAt(n.length - 2) !== 46) {
          if (n.length > 2) {
            if (c = n.lastIndexOf("/"), c !== n.length - 1) {
              c < 0 ? (n = "", r = 0) : (n = n.slice(0, c), r = n.length - 1 - n.lastIndexOf("/")), i = s, a = 0;
              continue;
            }
          } else if (n.length > 0) {
            n = "", r = 0, i = s, a = 0;
            continue;
          }
        }
        t && (n = n.length > 0 ? n + "/.." : "..", r = 2);
      } else
        n.length > 0 ? n += "/" + e.slice(i + 1, s) : n = e.slice(i + 1, s), r = s - i - 1;
      i = s, a = 0;
    } else o === 46 && a > -1 ? a++ : a = -1;
  }
  return n;
}
function qs(e) {
  if (typeof e != "string")
    throw new TypeError(
      "Path must be a string. Received " + JSON.stringify(e)
    );
}
const CB = { cwd: SB };
function SB() {
  return "/";
}
function Sd(e) {
  return !!(e !== null && typeof e == "object" && "href" in e && e.href && "protocol" in e && e.protocol && // @ts-expect-error: indexing is fine.
  e.auth === void 0);
}
function IB(e) {
  if (typeof e == "string")
    e = new URL(e);
  else if (!Sd(e)) {
    const t = new TypeError(
      'The "path" argument must be of type string or an instance of URL. Received `' + e + "`"
    );
    throw t.code = "ERR_INVALID_ARG_TYPE", t;
  }
  if (e.protocol !== "file:") {
    const t = new TypeError("The URL must be of scheme file");
    throw t.code = "ERR_INVALID_URL_SCHEME", t;
  }
  return _B(e);
}
function _B(e) {
  if (e.hostname !== "") {
    const r = new TypeError(
      'File URL host must be "localhost" or empty on darwin'
    );
    throw r.code = "ERR_INVALID_FILE_URL_HOST", r;
  }
  const t = e.pathname;
  let n = -1;
  for (; ++n < t.length; )
    if (t.codePointAt(n) === 37 && t.codePointAt(n + 1) === 50) {
      const r = t.codePointAt(n + 2);
      if (r === 70 || r === 102) {
        const i = new TypeError(
          "File URL path must not include encoded / characters"
        );
        throw i.code = "ERR_INVALID_FILE_URL_PATH", i;
      }
    }
  return decodeURIComponent(t);
}
const Su = (
  /** @type {const} */
  [
    "history",
    "path",
    "basename",
    "stem",
    "extname",
    "dirname"
  ]
);
class Wx {
  /**
   * Create a new virtual file.
   *
   * `options` is treated as:
   *
   * *   `string` or `Uint8Array` â€” `{value: options}`
   * *   `URL` â€” `{path: options}`
   * *   `VFile` â€” shallow copies its data over to the new file
   * *   `object` â€” all fields are shallow copied over to the new file
   *
   * Path related fields are set in the following order (least specific to
   * most specific): `history`, `path`, `basename`, `stem`, `extname`,
   * `dirname`.
   *
   * You cannot set `dirname` or `extname` without setting either `history`,
   * `path`, `basename`, or `stem` too.
   *
   * @param {Compatible | null | undefined} [value]
   *   File value.
   * @returns
   *   New instance.
   */
  constructor(t) {
    let n;
    t ? Sd(t) ? n = { path: t } : typeof t == "string" || EB(t) ? n = { value: t } : n = t : n = {}, this.cwd = "cwd" in n ? "" : CB.cwd(), this.data = {}, this.history = [], this.messages = [], this.value, this.map, this.result, this.stored;
    let r = -1;
    for (; ++r < Su.length; ) {
      const a = Su[r];
      a in n && n[a] !== void 0 && n[a] !== null && (this[a] = a === "history" ? [...n[a]] : n[a]);
    }
    let i;
    for (i in n)
      Su.includes(i) || (this[i] = n[i]);
  }
  /**
   * Get the basename (including extname) (example: `'index.min.js'`).
   *
   * @returns {string | undefined}
   *   Basename.
   */
  get basename() {
    return typeof this.path == "string" ? sr.basename(this.path) : void 0;
  }
  /**
   * Set basename (including extname) (`'index.min.js'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be nullified (use `file.path = file.dirname` instead).
   *
   * @param {string} basename
   *   Basename.
   * @returns {undefined}
   *   Nothing.
   */
  set basename(t) {
    _u(t, "basename"), Iu(t, "basename"), this.path = sr.join(this.dirname || "", t);
  }
  /**
   * Get the parent path (example: `'~'`).
   *
   * @returns {string | undefined}
   *   Dirname.
   */
  get dirname() {
    return typeof this.path == "string" ? sr.dirname(this.path) : void 0;
  }
  /**
   * Set the parent path (example: `'~'`).
   *
   * Cannot be set if thereâ€™s no `path` yet.
   *
   * @param {string | undefined} dirname
   *   Dirname.
   * @returns {undefined}
   *   Nothing.
   */
  set dirname(t) {
    Fg(this.basename, "dirname"), this.path = sr.join(t || "", this.basename);
  }
  /**
   * Get the extname (including dot) (example: `'.js'`).
   *
   * @returns {string | undefined}
   *   Extname.
   */
  get extname() {
    return typeof this.path == "string" ? sr.extname(this.path) : void 0;
  }
  /**
   * Set the extname (including dot) (example: `'.js'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be set if thereâ€™s no `path` yet.
   *
   * @param {string | undefined} extname
   *   Extname.
   * @returns {undefined}
   *   Nothing.
   */
  set extname(t) {
    if (Iu(t, "extname"), Fg(this.dirname, "extname"), t) {
      if (t.codePointAt(0) !== 46)
        throw new Error("`extname` must start with `.`");
      if (t.includes(".", 1))
        throw new Error("`extname` cannot contain multiple dots");
    }
    this.path = sr.join(this.dirname, this.stem + (t || ""));
  }
  /**
   * Get the full path (example: `'~/index.min.js'`).
   *
   * @returns {string}
   *   Path.
   */
  get path() {
    return this.history[this.history.length - 1];
  }
  /**
   * Set the full path (example: `'~/index.min.js'`).
   *
   * Cannot be nullified.
   * You can set a file URL (a `URL` object with a `file:` protocol) which will
   * be turned into a path with `url.fileURLToPath`.
   *
   * @param {URL | string} path
   *   Path.
   * @returns {undefined}
   *   Nothing.
   */
  set path(t) {
    Sd(t) && (t = IB(t)), _u(t, "path"), this.path !== t && this.history.push(t);
  }
  /**
   * Get the stem (basename w/o extname) (example: `'index.min'`).
   *
   * @returns {string | undefined}
   *   Stem.
   */
  get stem() {
    return typeof this.path == "string" ? sr.basename(this.path, this.extname) : void 0;
  }
  /**
   * Set the stem (basename w/o extname) (example: `'index.min'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be nullified (use `file.path = file.dirname` instead).
   *
   * @param {string} stem
   *   Stem.
   * @returns {undefined}
   *   Nothing.
   */
  set stem(t) {
    _u(t, "stem"), Iu(t, "stem"), this.path = sr.join(this.dirname || "", t + (this.extname || ""));
  }
  // Normal prototypal methods.
  /**
   * Create a fatal message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `true` (error; file not usable)
   * and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * > ðŸª¦ **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {never}
   *   Never.
   * @throws {VFileMessage}
   *   Message.
   */
  fail(t, n, r) {
    const i = this.message(t, n, r);
    throw i.fatal = !0, i;
  }
  /**
   * Create an info message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `undefined` (info; change
   * likely not needed) and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * > ðŸª¦ **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {VFileMessage}
   *   Message.
   */
  info(t, n, r) {
    const i = this.message(t, n, r);
    return i.fatal = void 0, i;
  }
  /**
   * Create a message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `false` (warning; change may be
   * needed) and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * > ðŸª¦ **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {VFileMessage}
   *   Message.
   */
  message(t, n, r) {
    const i = new un(
      // @ts-expect-error: the overloads are fine.
      t,
      n,
      r
    );
    return this.path && (i.name = this.path + ":" + i.name, i.file = this.path), i.fatal = !1, this.messages.push(i), i;
  }
  /**
   * Serialize the file.
   *
   * > **Note**: which encodings are supported depends on the engine.
   * > For info on Node.js, see:
   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.
   *
   * @param {string | null | undefined} [encoding='utf8']
   *   Character encoding to understand `value` as when itâ€™s a `Uint8Array`
   *   (default: `'utf-8'`).
   * @returns {string}
   *   Serialized file.
   */
  toString(t) {
    return this.value === void 0 ? "" : typeof this.value == "string" ? this.value : new TextDecoder(t || void 0).decode(this.value);
  }
}
function Iu(e, t) {
  if (e && e.includes(sr.sep))
    throw new Error(
      "`" + t + "` cannot be a path: did not expect `" + sr.sep + "`"
    );
}
function _u(e, t) {
  if (!e)
    throw new Error("`" + t + "` cannot be empty");
}
function Fg(e, t) {
  if (!e)
    throw new Error("Setting `" + t + "` requires `path` to be set too");
}
function EB(e) {
  return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e);
}
const kB = (
  /**
   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}
   */
  /** @type {unknown} */
  /**
   * @this {Function}
   * @param {string | symbol} property
   * @returns {(...parameters: Array<unknown>) => unknown}
   */
  (function(e) {
    const r = (
      /** @type {Record<string | symbol, Function>} */
      // Prototypes do exist.
      // type-coverage:ignore-next-line
      this.constructor.prototype
    ), i = r[e], a = function() {
      return i.apply(a, arguments);
    };
    return Object.setPrototypeOf(a, r), a;
  })
), NB = {}.hasOwnProperty;
class up extends kB {
  /**
   * Create a processor.
   */
  constructor() {
    super("copy"), this.Compiler = void 0, this.Parser = void 0, this.attachers = [], this.compiler = void 0, this.freezeIndex = -1, this.frozen = void 0, this.namespace = {}, this.parser = void 0, this.transformers = hB();
  }
  /**
   * Copy a processor.
   *
   * @deprecated
   *   This is a private internal method and should not be used.
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   New *unfrozen* processor ({@linkcode Processor}) that is
   *   configured to work the same as its ancestor.
   *   When the descendant processor is configured in the future it does not
   *   affect the ancestral processor.
   */
  copy() {
    const t = (
      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */
      new up()
    );
    let n = -1;
    for (; ++n < this.attachers.length; ) {
      const r = this.attachers[n];
      t.use(...r);
    }
    return t.data(Cu(!0, {}, this.namespace)), t;
  }
  /**
   * Configure the processor with info available to all plugins.
   * Information is stored in an object.
   *
   * Typically, options can be given to a specific plugin, but sometimes it
   * makes sense to have information shared with several plugins.
   * For example, a list of HTML elements that are self-closing, which is
   * needed during all phases.
   *
   * > **Note**: setting information cannot occur on *frozen* processors.
   * > Call the processor first to create a new unfrozen processor.
   *
   * > **Note**: to register custom data in TypeScript, augment the
   * > {@linkcode Data} interface.
   *
   * @example
   *   This example show how to get and set info:
   *
   *   ```js
   *   import {unified} from 'unified'
   *
   *   const processor = unified().data('alpha', 'bravo')
   *
   *   processor.data('alpha') // => 'bravo'
   *
   *   processor.data() // => {alpha: 'bravo'}
   *
   *   processor.data({charlie: 'delta'})
   *
   *   processor.data() // => {charlie: 'delta'}
   *   ```
   *
   * @template {keyof Data} Key
   *
   * @overload
   * @returns {Data}
   *
   * @overload
   * @param {Data} dataset
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {Key} key
   * @returns {Data[Key]}
   *
   * @overload
   * @param {Key} key
   * @param {Data[Key]} value
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @param {Data | Key} [key]
   *   Key to get or set, or entire dataset to set, or nothing to get the
   *   entire dataset (optional).
   * @param {Data[Key]} [value]
   *   Value to set (optional).
   * @returns {unknown}
   *   The current processor when setting, the value at `key` when getting, or
   *   the entire dataset when getting without key.
   */
  data(t, n) {
    return typeof t == "string" ? arguments.length === 2 ? (Nu("data", this.frozen), this.namespace[t] = n, this) : NB.call(this.namespace, t) && this.namespace[t] || void 0 : t ? (Nu("data", this.frozen), this.namespace = t, this) : this.namespace;
  }
  /**
   * Freeze a processor.
   *
   * Frozen processors are meant to be extended and not to be configured
   * directly.
   *
   * When a processor is frozen it cannot be unfrozen.
   * New processors working the same way can be created by calling the
   * processor.
   *
   * Itâ€™s possible to freeze processors explicitly by calling `.freeze()`.
   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,
   * `.stringify()`, `.process()`, or `.processSync()` are called.
   *
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   The current processor.
   */
  freeze() {
    if (this.frozen)
      return this;
    const t = (
      /** @type {Processor} */
      /** @type {unknown} */
      this
    );
    for (; ++this.freezeIndex < this.attachers.length; ) {
      const [n, ...r] = this.attachers[this.freezeIndex];
      if (r[0] === !1)
        continue;
      r[0] === !0 && (r[0] = void 0);
      const i = n.call(t, ...r);
      typeof i == "function" && this.transformers.use(i);
    }
    return this.frozen = !0, this.freezeIndex = Number.POSITIVE_INFINITY, this;
  }
  /**
   * Parse text to a syntax tree.
   *
   * > **Note**: `parse` freezes the processor if not already *frozen*.
   *
   * > **Note**: `parse` performs the parse phase, not the run phase or other
   * > phases.
   *
   * @param {Compatible | undefined} [file]
   *   file to parse (optional); typically `string` or `VFile`; any value
   *   accepted as `x` in `new VFile(x)`.
   * @returns {ParseTree extends undefined ? Node : ParseTree}
   *   Syntax tree representing `file`.
   */
  parse(t) {
    this.freeze();
    const n = Ao(t), r = this.parser || this.Parser;
    return Eu("parse", r), r(String(n), n);
  }
  /**
   * Process the given file as configured on the processor.
   *
   * > **Note**: `process` freezes the processor if not already *frozen*.
   *
   * > **Note**: `process` performs the parse, run, and stringify phases.
   *
   * @overload
   * @param {Compatible | undefined} file
   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done
   * @returns {undefined}
   *
   * @overload
   * @param {Compatible | undefined} [file]
   * @returns {Promise<VFileWithOutput<CompileResult>>}
   *
   * @param {Compatible | undefined} [file]
   *   File (optional); typically `string` or `VFile`]; any value accepted as
   *   `x` in `new VFile(x)`.
   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]
   *   Callback (optional).
   * @returns {Promise<VFile> | undefined}
   *   Nothing if `done` is given.
   *   Otherwise a promise, rejected with a fatal error or resolved with the
   *   processed file.
   *
   *   The parsed, transformed, and compiled value is available at
   *   `file.value` (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most
   *   > compilers return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youâ€™re using a compiler that doesnâ€™t serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  process(t, n) {
    const r = this;
    return this.freeze(), Eu("process", this.parser || this.Parser), ku("process", this.compiler || this.Compiler), n ? i(void 0, n) : new Promise(i);
    function i(a, s) {
      const o = Ao(t), c = (
        /** @type {HeadTree extends undefined ? Node : HeadTree} */
        /** @type {unknown} */
        r.parse(o)
      );
      r.run(c, o, function(f, p, g) {
        if (f || !p || !g)
          return u(f);
        const h = (
          /** @type {CompileTree extends undefined ? Node : CompileTree} */
          /** @type {unknown} */
          p
        ), y = r.stringify(h, g);
        OB(y) ? g.value = y : g.result = y, u(
          f,
          /** @type {VFileWithOutput<CompileResult>} */
          g
        );
      });
      function u(f, p) {
        f || !p ? s(f) : a ? a(p) : n(void 0, p);
      }
    }
  }
  /**
   * Process the given file as configured on the processor.
   *
   * An error is thrown if asynchronous transforms are configured.
   *
   * > **Note**: `processSync` freezes the processor if not already *frozen*.
   *
   * > **Note**: `processSync` performs the parse, run, and stringify phases.
   *
   * @param {Compatible | undefined} [file]
   *   File (optional); typically `string` or `VFile`; any value accepted as
   *   `x` in `new VFile(x)`.
   * @returns {VFileWithOutput<CompileResult>}
   *   The processed file.
   *
   *   The parsed, transformed, and compiled value is available at
   *   `file.value` (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most
   *   > compilers return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youâ€™re using a compiler that doesnâ€™t serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  processSync(t) {
    let n = !1, r;
    return this.freeze(), Eu("processSync", this.parser || this.Parser), ku("processSync", this.compiler || this.Compiler), this.process(t, i), Lg("processSync", "process", n), r;
    function i(a, s) {
      n = !0, Rg(a), r = s;
    }
  }
  /**
   * Run *transformers* on a syntax tree.
   *
   * > **Note**: `run` freezes the processor if not already *frozen*.
   *
   * > **Note**: `run` performs the run phase, not other phases.
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done
   * @returns {undefined}
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {Compatible | undefined} file
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done
   * @returns {undefined}
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {Compatible | undefined} [file]
   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}
   *
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   *   Tree to transform and inspect.
   * @param {(
   *   RunCallback<TailTree extends undefined ? Node : TailTree> |
   *   Compatible
   * )} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]
   *   Callback (optional).
   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}
   *   Nothing if `done` is given.
   *   Otherwise, a promise rejected with a fatal error or resolved with the
   *   transformed tree.
   */
  run(t, n, r) {
    Pg(t), this.freeze();
    const i = this.transformers;
    return !r && typeof n == "function" && (r = n, n = void 0), r ? a(void 0, r) : new Promise(a);
    function a(s, o) {
      const c = Ao(n);
      i.run(t, c, u);
      function u(f, p, g) {
        const h = (
          /** @type {TailTree extends undefined ? Node : TailTree} */
          p || t
        );
        f ? o(f) : s ? s(h) : r(void 0, h, g);
      }
    }
  }
  /**
   * Run *transformers* on a syntax tree.
   *
   * An error is thrown if asynchronous transforms are configured.
   *
   * > **Note**: `runSync` freezes the processor if not already *frozen*.
   *
   * > **Note**: `runSync` performs the run phase, not other phases.
   *
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   *   Tree to transform and inspect.
   * @param {Compatible | undefined} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @returns {TailTree extends undefined ? Node : TailTree}
   *   Transformed tree.
   */
  runSync(t, n) {
    let r = !1, i;
    return this.run(t, n, a), Lg("runSync", "run", r), i;
    function a(s, o) {
      Rg(s), i = o, r = !0;
    }
  }
  /**
   * Compile a syntax tree.
   *
   * > **Note**: `stringify` freezes the processor if not already *frozen*.
   *
   * > **Note**: `stringify` performs the stringify phase, not the run phase
   * > or other phases.
   *
   * @param {CompileTree extends undefined ? Node : CompileTree} tree
   *   Tree to compile.
   * @param {Compatible | undefined} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @returns {CompileResult extends undefined ? Value : CompileResult}
   *   Textual representation of the tree (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most compilers
   *   > return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youâ€™re using a compiler that doesnâ€™t serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  stringify(t, n) {
    this.freeze();
    const r = Ao(n), i = this.compiler || this.Compiler;
    return ku("stringify", i), Pg(t), i(t, r);
  }
  /**
   * Configure the processor to use a plugin, a list of usable values, or a
   * preset.
   *
   * If the processor is already using a plugin, the previous plugin
   * configuration is changed based on the options that are passed in.
   * In other words, the plugin is not added a second time.
   *
   * > **Note**: `use` cannot be called on *frozen* processors.
   * > Call the processor first to create a new unfrozen processor.
   *
   * @example
   *   There are many ways to pass plugins to `.use()`.
   *   This example gives an overview:
   *
   *   ```js
   *   import {unified} from 'unified'
   *
   *   unified()
   *     // Plugin with options:
   *     .use(pluginA, {x: true, y: true})
   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):
   *     .use(pluginA, {y: false, z: true})
   *     // Plugins:
   *     .use([pluginB, pluginC])
   *     // Two plugins, the second with options:
   *     .use([pluginD, [pluginE, {}]])
   *     // Preset with plugins and settings:
   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})
   *     // Settings only:
   *     .use({settings: {position: false}})
   *   ```
   *
   * @template {Array<unknown>} [Parameters=[]]
   * @template {Node | string | undefined} [Input=undefined]
   * @template [Output=Input]
   *
   * @overload
   * @param {Preset | null | undefined} [preset]
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {PluggableList} list
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {Plugin<Parameters, Input, Output>} plugin
   * @param {...(Parameters | [boolean])} parameters
   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}
   *
   * @param {PluggableList | Plugin | Preset | null | undefined} value
   *   Usable value.
   * @param {...unknown} parameters
   *   Parameters, when a plugin is given as a usable value.
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   Current processor.
   */
  use(t, ...n) {
    const r = this.attachers, i = this.namespace;
    if (Nu("use", this.frozen), t != null) if (typeof t == "function")
      c(t, n);
    else if (typeof t == "object")
      Array.isArray(t) ? o(t) : s(t);
    else
      throw new TypeError("Expected usable value, not `" + t + "`");
    return this;
    function a(u) {
      if (typeof u == "function")
        c(u, []);
      else if (typeof u == "object")
        if (Array.isArray(u)) {
          const [f, ...p] = (
            /** @type {PluginTuple<Array<unknown>>} */
            u
          );
          c(f, p);
        } else
          s(u);
      else
        throw new TypeError("Expected usable value, not `" + u + "`");
    }
    function s(u) {
      if (!("plugins" in u) && !("settings" in u))
        throw new Error(
          "Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither"
        );
      o(u.plugins), u.settings && (i.settings = Cu(!0, i.settings, u.settings));
    }
    function o(u) {
      let f = -1;
      if (u != null) if (Array.isArray(u))
        for (; ++f < u.length; ) {
          const p = u[f];
          a(p);
        }
      else
        throw new TypeError("Expected a list of plugins, not `" + u + "`");
    }
    function c(u, f) {
      let p = -1, g = -1;
      for (; ++p < r.length; )
        if (r[p][0] === u) {
          g = p;
          break;
        }
      if (g === -1)
        r.push([u, ...f]);
      else if (f.length > 0) {
        let [h, ...y] = f;
        const _ = r[g][1];
        Cd(_) && Cd(h) && (h = Cu(!0, _, h)), r[g] = [u, h, ...y];
      }
    }
  }
}
const AB = new up().freeze();
function Eu(e, t) {
  if (typeof t != "function")
    throw new TypeError("Cannot `" + e + "` without `parser`");
}
function ku(e, t) {
  if (typeof t != "function")
    throw new TypeError("Cannot `" + e + "` without `compiler`");
}
function Nu(e, t) {
  if (t)
    throw new Error(
      "Cannot call `" + e + "` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`."
    );
}
function Pg(e) {
  if (!Cd(e) || typeof e.type != "string")
    throw new TypeError("Expected node, got `" + e + "`");
}
function Lg(e, t, n) {
  if (!n)
    throw new Error(
      "`" + e + "` finished async. Use `" + t + "` instead"
    );
}
function Ao(e) {
  return DB(e) ? e : new Wx(e);
}
function DB(e) {
  return !!(e && typeof e == "object" && "message" in e && "messages" in e);
}
function OB(e) {
  return typeof e == "string" || MB(e);
}
function MB(e) {
  return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e);
}
const RB = "https://github.com/remarkjs/react-markdown/blob/main/changelog.md", Vg = [], Bg = { allowDangerousHtml: !0 }, TB = /^(https?|ircs?|mailto|xmpp)$/i, FB = [
  { from: "astPlugins", id: "remove-buggy-html-in-markdown-parser" },
  { from: "allowDangerousHtml", id: "remove-buggy-html-in-markdown-parser" },
  {
    from: "allowNode",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "allowElement"
  },
  {
    from: "allowedTypes",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "allowedElements"
  },
  { from: "className", id: "remove-classname" },
  {
    from: "disallowedTypes",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "disallowedElements"
  },
  { from: "escapeHtml", id: "remove-buggy-html-in-markdown-parser" },
  { from: "includeElementIndex", id: "#remove-includeelementindex" },
  {
    from: "includeNodeIndex",
    id: "change-includenodeindex-to-includeelementindex"
  },
  { from: "linkTarget", id: "remove-linktarget" },
  { from: "plugins", id: "change-plugins-to-remarkplugins", to: "remarkPlugins" },
  { from: "rawSourcePos", id: "#remove-rawsourcepos" },
  { from: "renderers", id: "change-renderers-to-components", to: "components" },
  { from: "source", id: "change-source-to-children", to: "children" },
  { from: "sourcePos", id: "#remove-sourcepos" },
  { from: "transformImageUri", id: "#add-urltransform", to: "urlTransform" },
  { from: "transformLinkUri", id: "#add-urltransform", to: "urlTransform" }
];
function Gi(e) {
  const t = PB(e), n = LB(e);
  return VB(t.runSync(t.parse(n), n), e);
}
function PB(e) {
  const t = e.rehypePlugins || Vg, n = e.remarkPlugins || Vg, r = e.remarkRehypeOptions ? { ...e.remarkRehypeOptions, ...Bg } : Bg;
  return AB().use(g3).use(n).use(dB, r).use(t);
}
function LB(e) {
  const t = e.children || "", n = new Wx();
  return typeof t == "string" && (n.value = t), n;
}
function VB(e, t) {
  const n = t.allowedElements, r = t.allowElement, i = t.components, a = t.disallowedElements, s = t.skipHtml, o = t.unwrapDisallowed, c = t.urlTransform || BB;
  for (const f of FB)
    Object.hasOwn(t, f.from) && ("" + f.from + (f.to ? "use `" + f.to + "` instead" : "remove it") + RB + f.id, void 0);
  return Yx(e, u), ZL(e, {
    Fragment: ve,
    components: i,
    ignoreInvalidStyle: !0,
    jsx: l,
    jsxs: v,
    passKeys: !0,
    passNode: !0
  });
  function u(f, p, g) {
    if (f.type === "raw" && g && typeof p == "number")
      return s ? g.children.splice(p, 1) : g.children[p] = { type: "text", value: f.value }, p;
    if (f.type === "element") {
      let h;
      for (h in yu)
        if (Object.hasOwn(yu, h) && Object.hasOwn(f.properties, h)) {
          const y = f.properties[h], _ = yu[h];
          (_ === null || _.includes(f.tagName)) && (f.properties[h] = c(String(y || ""), h, f));
        }
    }
    if (f.type === "element") {
      let h = n ? !n.includes(f.tagName) : a ? a.includes(f.tagName) : !1;
      if (!h && r && typeof p == "number" && (h = !r(f, p, g)), h && g && typeof p == "number")
        return o && f.children ? g.children.splice(p, 1, ...f.children) : g.children.splice(p, 1), p;
    }
  }
}
function BB(e) {
  const t = e.indexOf(":"), n = e.indexOf("?"), r = e.indexOf("#"), i = e.indexOf("/");
  return (
    // If there is no protocol, itâ€™s relative.
    t === -1 || // If the first colon is after a `?`, `#`, or `/`, itâ€™s not a protocol.
    i !== -1 && t > i || n !== -1 && t > n || r !== -1 && t > r || // It is a protocol, it should be allowed.
    TB.test(e.slice(0, t)) ? e : ""
  );
}
function Gg({
  ecn: e,
  equipment: t,
  ecnAttachments: n,
  reloadQueryFn: r,
  expanded: i = !0
}) {
  const [a, s] = B(null), [o, c] = B(!1), [u, f] = B(e), [p, g] = B(i), h = (S) => {
    r(["ecn", "attachment", "status_mail"]), f({
      ...u,
      ...S
    });
  }, y = () => n.filter((S) => S.ecn.id === e.id), _ = () => {
    s(
      /* @__PURE__ */ l(
        Ul,
        {
          equipment: t,
          showModal: !0,
          onClose: (S) => {
            c(!1), S && (r(["ecn", "attachment", "status_mail"]), h(S));
          },
          ecn: u,
          attachments: y()
        }
      )
    ), c(!0);
  };
  return /* @__PURE__ */ v("div", { className: "p-3 mb-4 border-bottom", children: [
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center mb-2", children: [
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l(hn, { bg: "dark", children: "ECN" }),
        /* @__PURE__ */ l("h4", { className: u.date_closed ? "text-danger mb-0" : "mb-0", children: u.date_closed ? /* @__PURE__ */ l("s", { children: u.ecn }) : u.ecn })
      ] }),
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l(
          ce,
          {
            variant: "outline-primary",
            size: "sm",
            onClick: () => g((S) => !S),
            "aria-label": "Toggle Details",
            children: p ? "Hide Details" : "Show Details"
          }
        ),
        /* @__PURE__ */ l(ce, { variant: "secondary", size: "sm", onClick: _, "aria-label": "Edit ECN", children: "Edit" })
      ] })
    ] }),
    p && /* @__PURE__ */ v(ve, { children: [
      /* @__PURE__ */ l("div", { className: "mb-3", children: /* @__PURE__ */ l(Gi, { children: u.description }) }),
      /* @__PURE__ */ v("div", { className: "d-flex flex-wrap text-muted", children: [
        /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Creator" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: u.owner.full_name })
        ] }),
        /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Date Created" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: xe(u.date_created).format("DD MMMM YYYY") })
        ] }),
        u.date_closed && /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Date Closed" }),
          /* @__PURE__ */ l("div", { className: "text-danger", children: xe(u.date_closed).format("DD MMMM YYYY") })
        ] }),
        /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Attachments" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: u.attachments })
        ] }),
        u.updated_by && /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Last Update By" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: u.updated_by.full_name })
        ] }),
        u.last_update && /* @__PURE__ */ v("div", { className: "flex-fill pe-3 mb-2", children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Last Update" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: xe(u.last_update).format("DD MMMM YYYY") })
        ] })
      ] })
    ] }),
    o && a
  ] });
}
const Js = ({ equipment: e, showModal: t, onClose: n, issue: r, attachments: i }) => {
  const [a, s] = B([]), [o, c] = B([]), { user: u } = ke(ks), [f, p] = B(i), { register: g, handleSubmit: h, reset: y, control: _ } = rn({
    defaultValues: {
      issue: r?.issue || "",
      description: r?.description || "",
      issue_type: r?.issue_type || Pr.DEFAULT,
      status: r?.status || ts.ACTIVE,
      forecast_up: r?.forecast_up ? new Date(r?.forecast_up).toISOString().split("T")[0] : "",
      actions: r?.actions || "",
      owner: r?.owner || {}
    }
  });
  re(() => {
    r && y({
      issue: r?.issue || "",
      description: r?.description || "",
      issue_type: r?.issue_type || Pr.DEFAULT,
      status: r?.status || ts.ACTIVE,
      forecast_up: r?.forecast_up ? new Date(r?.forecast_up).toISOString().split("T")[0] : "",
      actions: r?.actions || "",
      owner: r?.owner || {}
    });
  }, [r, y]);
  const { getRootProps: S, getInputProps: w, isDragActive: I } = zs({
    accept: { "application/*": [], "image/*": [] },
    onDrop: (D) => {
      s((F) => [...F, ...D]);
    }
  });
  re(() => {
    t && (async () => {
      if (e?.id)
        try {
          const F = await Ni({
            equipment: e
          });
          c(F.items || []);
        } catch (F) {
          console.error("Error fetching modules:", F);
        }
    })();
  }, [e, t]);
  async function b() {
    await ae.delete(`/delete/equipment/module/issue/${r?.id}`);
    const D = {
      ...r,
      date_closed: (/* @__PURE__ */ new Date()).toISOString(),
      last_update: (/* @__PURE__ */ new Date()).toISOString(),
      updated_by: u?.full_name
    };
    n(D);
  }
  const E = (D) => {
    s((F) => F.filter((P, G) => G !== D));
  }, C = (D) => {
    f && p((F) => F?.filter((P, G) => G !== D));
  }, A = (D, F) => new Promise(async (P, G) => {
    try {
      if (f && i && i != f)
        for (let Y = 0; Y < i.length; Y++) {
          const z = i[Y].id;
          let H = !1;
          for (let L = 0; L < f.length; L++) {
            const q = f[L].id;
            if (z == q) {
              H = !0;
              break;
            }
          }
          H || await ae.delete(`/delete/equipment/module/issue/attachment/${i[Y].id}`);
        }
      D.length > 0 && F && await Promise.all(
        D.map(async (Y) => {
          const z = await Qg(Y), H = {
            issue_id: F,
            filename: Y.name,
            type: Y.type,
            content: z
          };
          await ae.post("/create/equipment/module/issue/attachment", H);
        })
      ), P();
    } catch (Y) {
      G(Y);
    }
  }), N = async (D) => {
    try {
      let F;
      const P = {
        module_id: D.module_id,
        issue: D.issue,
        description: D.description,
        owner: D?.owner.value || r?.owner,
        status: D.status,
        issue_type: D.issue_type,
        actions: D.actions,
        forecast_up: D.forecast_up
      };
      r ? (await A(a, r.id), F = (await ae.patch(`/update/equipment/module/issue/${r?.id}`, P)).data) : (F = (await ae.post("/create/equipment/module/issue", P)).data, A(a, F.id), F.attachments = a.length), n(F);
    } catch (F) {
      console.error("Error submitting the form:", F);
    }
  };
  return re(() => {
    t && (async () => {
      if (e?.id)
        try {
          const F = await Ni({
            equipment: e
          });
          c(F.items || []);
        } catch (F) {
          console.error("Error fetching modules:", F);
        }
    })();
  }, [e, t]), /* @__PURE__ */ l(be, { show: t, size: "lg", centered: !0, onHide: () => n(r), children: /* @__PURE__ */ v(j, { onSubmit: h(N), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: r ? `Edit Issue for ${e.name}` : `Create new Issue for ${e.name}` }) }),
    /* @__PURE__ */ v(be.Body, { children: [
      !r && /* @__PURE__ */ v(j.Group, { controlId: "module", className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Module" }),
        /* @__PURE__ */ v(
          j.Select,
          {
            ...g("module_id", {
              required: "Module is required"
            }),
            children: [
              /* @__PURE__ */ l("option", { value: "", children: "â€” Select a module" }),
              o.map((D) => /* @__PURE__ */ l("option", { value: D.id, children: D.name }, D.id))
            ]
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "issue", children: [
        /* @__PURE__ */ l(j.Label, { children: "Issue" }),
        /* @__PURE__ */ l(
          j.Control,
          {
            type: "text",
            ...g("issue", {
              required: "Issue content is required"
            }),
            autoFocus: !0
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "description", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Description" }),
        /* @__PURE__ */ l(
          j.Control,
          {
            as: "textarea",
            rows: 3,
            ...g("description", {
              required: "Description is required"
            })
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "issueType", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Issue" }),
        /* @__PURE__ */ v(
          j.Control,
          {
            as: "select",
            ...g("issue_type", {
              required: "Issue type is required"
            }),
            children: [
              /* @__PURE__ */ l("option", { value: Pr.DEFAULT, children: "Default" }),
              /* @__PURE__ */ l("option", { value: Pr.PRIORITY, children: "Priority" }),
              /* @__PURE__ */ l("option", { value: Pr.ESCALATION, children: "Escalation" })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "status", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Status" }),
        /* @__PURE__ */ v(
          j.Control,
          {
            as: "select",
            ...g("status", {
              required: "Status is required"
            }),
            children: [
              /* @__PURE__ */ l("option", { value: ts.ACTIVE, children: "Active" }),
              /* @__PURE__ */ l("option", { value: ts.CLOSED, children: "Closed" })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Owner" }),
        /* @__PURE__ */ l(
          Hs,
          {
            control: _,
            ...g("owner", {
              required: "Owner is required"
            }),
            name: "owner"
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "forecastUp", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Forecast Up" }),
        /* @__PURE__ */ l(
          j.Control,
          {
            type: "date",
            ...g("forecast_up", {
              required: "Forecast Up date is required"
            })
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { controlId: "actions", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Actions" }),
        /* @__PURE__ */ l(j.Control, { as: "textarea", rows: 5, ...g("actions", { required: !1 }) })
      ] }),
      /* @__PURE__ */ v(j.Group, { children: [
        /* @__PURE__ */ l(j.Label, { children: "Attachments" }),
        /* @__PURE__ */ v(
          "div",
          {
            ...S({
              className: `dropzone ${I ? "active" : ""}`,
              style: {
                border: "2px dashed #007bff",
                padding: "10px",
                textAlign: "center"
              }
            }),
            children: [
              /* @__PURE__ */ l("input", { ...w() }),
              I ? /* @__PURE__ */ l("p", { children: "Drop the files here..." }) : /* @__PURE__ */ l("p", { children: "Drag & drop files here, or click to select files" })
            ]
          }
        ),
        a.length > 0 && /* @__PURE__ */ l("ul", { children: a.map((D, F) => /* @__PURE__ */ v("li", { children: [
          D.name,
          " ",
          /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => E(F), children: "cancel" })
        ] }, F)) })
      ] }),
      f && f.length > 0 && /* @__PURE__ */ v(j.Group, { controlId: "uploaded_files", className: "mt-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Uploaded files" }),
        /* @__PURE__ */ l("ul", { children: f.map((D, F) => /* @__PURE__ */ v("li", { children: [
          D.filename,
          " ",
          /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => C(F), children: "delete" })
        ] }, F)) })
      ] })
    ] }),
    /* @__PURE__ */ v(be.Footer, { children: [
      /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => n(r), children: "Cancel" }),
      /* @__PURE__ */ l(ce, { variant: "primary", type: "submit", children: r ? "Update Issue" : "Create Issue" }),
      r && /* @__PURE__ */ l(ce, { variant: "danger", onClick: () => b(), children: "Close Issue" })
    ] })
  ] }) });
};
function GB(e) {
  throw new Error('Could not dynamically require "' + e + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var Wo = { exports: {} }, YB = Wo.exports, Yg;
function WB() {
  return Yg || (Yg = 1, (function(e, t) {
    (function(n, r) {
      e.exports = r();
    })(YB, (function() {
      var n;
      function r() {
        return n.apply(null, arguments);
      }
      function i(d) {
        n = d;
      }
      function a(d) {
        return d instanceof Array || Object.prototype.toString.call(d) === "[object Array]";
      }
      function s(d) {
        return d != null && Object.prototype.toString.call(d) === "[object Object]";
      }
      function o(d, m) {
        return Object.prototype.hasOwnProperty.call(d, m);
      }
      function c(d) {
        if (Object.getOwnPropertyNames)
          return Object.getOwnPropertyNames(d).length === 0;
        var m;
        for (m in d)
          if (o(d, m))
            return !1;
        return !0;
      }
      function u(d) {
        return d === void 0;
      }
      function f(d) {
        return typeof d == "number" || Object.prototype.toString.call(d) === "[object Number]";
      }
      function p(d) {
        return d instanceof Date || Object.prototype.toString.call(d) === "[object Date]";
      }
      function g(d, m) {
        var x = [], k, M = d.length;
        for (k = 0; k < M; ++k)
          x.push(m(d[k], k));
        return x;
      }
      function h(d, m) {
        for (var x in m)
          o(m, x) && (d[x] = m[x]);
        return o(m, "toString") && (d.toString = m.toString), o(m, "valueOf") && (d.valueOf = m.valueOf), d;
      }
      function y(d, m, x, k) {
        return Rp(d, m, x, k, !0).utc();
      }
      function _() {
        return {
          empty: !1,
          unusedTokens: [],
          unusedInput: [],
          overflow: -2,
          charsLeftOver: 0,
          nullInput: !1,
          invalidEra: null,
          invalidMonth: null,
          invalidFormat: !1,
          userInvalidated: !1,
          iso: !1,
          parsedDateParts: [],
          era: null,
          meridiem: null,
          rfc2822: !1,
          weekdayMismatch: !1
        };
      }
      function S(d) {
        return d._pf == null && (d._pf = _()), d._pf;
      }
      var w;
      Array.prototype.some ? w = Array.prototype.some : w = function(d) {
        var m = Object(this), x = m.length >>> 0, k;
        for (k = 0; k < x; k++)
          if (k in m && d.call(this, m[k], k, m))
            return !0;
        return !1;
      };
      function I(d) {
        var m = null, x = !1, k = d._d && !isNaN(d._d.getTime());
        if (k && (m = S(d), x = w.call(m.parsedDateParts, function(M) {
          return M != null;
        }), k = m.overflow < 0 && !m.empty && !m.invalidEra && !m.invalidMonth && !m.invalidWeekday && !m.weekdayMismatch && !m.nullInput && !m.invalidFormat && !m.userInvalidated && (!m.meridiem || m.meridiem && x), d._strict && (k = k && m.charsLeftOver === 0 && m.unusedTokens.length === 0 && m.bigHour === void 0)), Object.isFrozen == null || !Object.isFrozen(d))
          d._isValid = k;
        else
          return k;
        return d._isValid;
      }
      function b(d) {
        var m = y(NaN);
        return d != null ? h(S(m), d) : S(m).userInvalidated = !0, m;
      }
      var E = r.momentProperties = [], C = !1;
      function A(d, m) {
        var x, k, M, W = E.length;
        if (u(m._isAMomentObject) || (d._isAMomentObject = m._isAMomentObject), u(m._i) || (d._i = m._i), u(m._f) || (d._f = m._f), u(m._l) || (d._l = m._l), u(m._strict) || (d._strict = m._strict), u(m._tzm) || (d._tzm = m._tzm), u(m._isUTC) || (d._isUTC = m._isUTC), u(m._offset) || (d._offset = m._offset), u(m._pf) || (d._pf = S(m)), u(m._locale) || (d._locale = m._locale), W > 0)
          for (x = 0; x < W; x++)
            k = E[x], M = m[k], u(M) || (d[k] = M);
        return d;
      }
      function N(d) {
        A(this, d), this._d = new Date(d._d != null ? d._d.getTime() : NaN), this.isValid() || (this._d = /* @__PURE__ */ new Date(NaN)), C === !1 && (C = !0, r.updateOffset(this), C = !1);
      }
      function D(d) {
        return d instanceof N || d != null && d._isAMomentObject != null;
      }
      function F(d) {
        r.suppressDeprecationWarnings === !1 && typeof console < "u" && console.warn && console.warn("Deprecation warning: " + d);
      }
      function P(d, m) {
        var x = !0;
        return h(function() {
          if (r.deprecationHandler != null && r.deprecationHandler(null, d), x) {
            var k = [], M, W, ee, Ae = arguments.length;
            for (W = 0; W < Ae; W++) {
              if (M = "", typeof arguments[W] == "object") {
                M += `
[` + W + "] ";
                for (ee in arguments[0])
                  o(arguments[0], ee) && (M += ee + ": " + arguments[0][ee] + ", ");
                M = M.slice(0, -2);
              } else
                M = arguments[W];
              k.push(M);
            }
            F(
              d + `
Arguments: ` + Array.prototype.slice.call(k).join("") + `
` + new Error().stack
            ), x = !1;
          }
          return m.apply(this, arguments);
        }, m);
      }
      var G = {};
      function Y(d, m) {
        r.deprecationHandler != null && r.deprecationHandler(d, m), G[d] || (F(m), G[d] = !0);
      }
      r.suppressDeprecationWarnings = !1, r.deprecationHandler = null;
      function z(d) {
        return typeof Function < "u" && d instanceof Function || Object.prototype.toString.call(d) === "[object Function]";
      }
      function H(d) {
        var m, x;
        for (x in d)
          o(d, x) && (m = d[x], z(m) ? this[x] = m : this["_" + x] = m);
        this._config = d, this._dayOfMonthOrdinalParseLenient = new RegExp(
          (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source
        );
      }
      function L(d, m) {
        var x = h({}, d), k;
        for (k in m)
          o(m, k) && (s(d[k]) && s(m[k]) ? (x[k] = {}, h(x[k], d[k]), h(x[k], m[k])) : m[k] != null ? x[k] = m[k] : delete x[k]);
        for (k in d)
          o(d, k) && !o(m, k) && s(d[k]) && (x[k] = h({}, x[k]));
        return x;
      }
      function q(d) {
        d != null && this.set(d);
      }
      var te;
      Object.keys ? te = Object.keys : te = function(d) {
        var m, x = [];
        for (m in d)
          o(d, m) && x.push(m);
        return x;
      };
      var ge = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
      };
      function Ce(d, m, x) {
        var k = this._calendar[d] || this._calendar.sameElse;
        return z(k) ? k.call(m, x) : k;
      }
      function O(d, m, x) {
        var k = "" + Math.abs(d), M = m - k.length, W = d >= 0;
        return (W ? x ? "+" : "" : "-") + Math.pow(10, Math.max(0, M)).toString().substr(1) + k;
      }
      var ie = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, se = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, R = {}, oe = {};
      function K(d, m, x, k) {
        var M = k;
        typeof k == "string" && (M = function() {
          return this[k]();
        }), d && (oe[d] = M), m && (oe[m[0]] = function() {
          return O(M.apply(this, arguments), m[1], m[2]);
        }), x && (oe[x] = function() {
          return this.localeData().ordinal(
            M.apply(this, arguments),
            d
          );
        });
      }
      function fe(d) {
        return d.match(/\[[\s\S]/) ? d.replace(/^\[|\]$/g, "") : d.replace(/\\/g, "");
      }
      function Ne(d) {
        var m = d.match(ie), x, k;
        for (x = 0, k = m.length; x < k; x++)
          oe[m[x]] ? m[x] = oe[m[x]] : m[x] = fe(m[x]);
        return function(M) {
          var W = "", ee;
          for (ee = 0; ee < k; ee++)
            W += z(m[ee]) ? m[ee].call(M, d) : m[ee];
          return W;
        };
      }
      function we(d, m) {
        return d.isValid() ? (m = Fe(m, d.localeData()), R[m] = R[m] || Ne(m), R[m](d)) : d.localeData().invalidDate();
      }
      function Fe(d, m) {
        var x = 5;
        function k(M) {
          return m.longDateFormat(M) || M;
        }
        for (se.lastIndex = 0; x >= 0 && se.test(d); )
          d = d.replace(
            se,
            k
          ), se.lastIndex = 0, x -= 1;
        return d;
      }
      var Te = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
      };
      function He(d) {
        var m = this._longDateFormat[d], x = this._longDateFormat[d.toUpperCase()];
        return m || !x ? m : (this._longDateFormat[d] = x.match(ie).map(function(k) {
          return k === "MMMM" || k === "MM" || k === "DD" || k === "dddd" ? k.slice(1) : k;
        }).join(""), this._longDateFormat[d]);
      }
      var ue = "Invalid date";
      function rt() {
        return this._invalidDate;
      }
      var vt = "%d", We = /\d{1,2}/;
      function Bt(d) {
        return this._ordinal.replace("%d", d);
      }
      var Et = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        ss: "%d seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        w: "a week",
        ww: "%d weeks",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
      };
      function jt(d, m, x, k) {
        var M = this._relativeTime[x];
        return z(M) ? M(d, m, x, k) : M.replace(/%d/i, d);
      }
      function Ft(d, m) {
        var x = this._relativeTime[d > 0 ? "future" : "past"];
        return z(x) ? x(m) : x.replace(/%s/i, m);
      }
      var qe = {
        D: "date",
        dates: "date",
        date: "date",
        d: "day",
        days: "day",
        day: "day",
        e: "weekday",
        weekdays: "weekday",
        weekday: "weekday",
        E: "isoWeekday",
        isoweekdays: "isoWeekday",
        isoweekday: "isoWeekday",
        DDD: "dayOfYear",
        dayofyears: "dayOfYear",
        dayofyear: "dayOfYear",
        h: "hour",
        hours: "hour",
        hour: "hour",
        ms: "millisecond",
        milliseconds: "millisecond",
        millisecond: "millisecond",
        m: "minute",
        minutes: "minute",
        minute: "minute",
        M: "month",
        months: "month",
        month: "month",
        Q: "quarter",
        quarters: "quarter",
        quarter: "quarter",
        s: "second",
        seconds: "second",
        second: "second",
        gg: "weekYear",
        weekyears: "weekYear",
        weekyear: "weekYear",
        GG: "isoWeekYear",
        isoweekyears: "isoWeekYear",
        isoweekyear: "isoWeekYear",
        w: "week",
        weeks: "week",
        week: "week",
        W: "isoWeek",
        isoweeks: "isoWeek",
        isoweek: "isoWeek",
        y: "year",
        years: "year",
        year: "year"
      };
      function V(d) {
        return typeof d == "string" ? qe[d] || qe[d.toLowerCase()] : void 0;
      }
      function $(d) {
        var m = {}, x, k;
        for (k in d)
          o(d, k) && (x = V(k), x && (m[x] = d[k]));
        return m;
      }
      var Q = {
        date: 9,
        day: 11,
        weekday: 11,
        isoWeekday: 11,
        dayOfYear: 4,
        hour: 13,
        millisecond: 16,
        minute: 14,
        month: 8,
        quarter: 7,
        second: 15,
        weekYear: 1,
        isoWeekYear: 1,
        week: 5,
        isoWeek: 5,
        year: 1
      };
      function Z(d) {
        var m = [], x;
        for (x in d)
          o(d, x) && m.push({ unit: x, priority: Q[x] });
        return m.sort(function(k, M) {
          return k.priority - M.priority;
        }), m;
      }
      var J = /\d/, T = /\d\d/, X = /\d{3}/, le = /\d{4}/, Se = /[+-]?\d{6}/, Ie = /\d\d?/, yt = /\d\d\d\d?/, At = /\d\d\d\d\d\d?/, Gt = /\d{1,3}/, Xt = /\d{1,4}/, Zt = /[+-]?\d{1,6}/, bt = /\d+/, qt = /[+-]?\d+/, Kt = /Z|[+-]\d\d:?\d\d/gi, wr = /Z|[+-]\d\d(?::?\d\d)?/gi, bw = /[+-]?\d+(\.\d{1,3})?/, Fa = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, Yi = /^[1-9]\d?/, dc = /^([1-9]\d|\d)/, Qs;
      Qs = {};
      function De(d, m, x) {
        Qs[d] = z(m) ? m : function(k, M) {
          return k && x ? x : m;
        };
      }
      function xw(d, m) {
        return o(Qs, d) ? Qs[d](m._strict, m._locale) : new RegExp(ww(d));
      }
      function ww(d) {
        return Cr(
          d.replace("\\", "").replace(
            /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
            function(m, x, k, M, W) {
              return x || k || M || W;
            }
          )
        );
      }
      function Cr(d) {
        return d.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
      }
      function Rn(d) {
        return d < 0 ? Math.ceil(d) || 0 : Math.floor(d);
      }
      function Qe(d) {
        var m = +d, x = 0;
        return m !== 0 && isFinite(m) && (x = Rn(m)), x;
      }
      var fc = {};
      function ft(d, m) {
        var x, k = m, M;
        for (typeof d == "string" && (d = [d]), f(m) && (k = function(W, ee) {
          ee[m] = Qe(W);
        }), M = d.length, x = 0; x < M; x++)
          fc[d[x]] = k;
      }
      function Pa(d, m) {
        ft(d, function(x, k, M, W) {
          M._w = M._w || {}, m(x, M._w, M, W);
        });
      }
      function Cw(d, m, x) {
        m != null && o(fc, d) && fc[d](m, x._a, x, d);
      }
      function Ks(d) {
        return d % 4 === 0 && d % 100 !== 0 || d % 400 === 0;
      }
      var an = 0, Sr = 1, ir = 2, $t = 3, Zn = 4, Ir = 5, di = 6, Sw = 7, Iw = 8;
      K("Y", 0, 0, function() {
        var d = this.year();
        return d <= 9999 ? O(d, 4) : "+" + d;
      }), K(0, ["YY", 2], 0, function() {
        return this.year() % 100;
      }), K(0, ["YYYY", 4], 0, "year"), K(0, ["YYYYY", 5], 0, "year"), K(0, ["YYYYYY", 6, !0], 0, "year"), De("Y", qt), De("YY", Ie, T), De("YYYY", Xt, le), De("YYYYY", Zt, Se), De("YYYYYY", Zt, Se), ft(["YYYYY", "YYYYYY"], an), ft("YYYY", function(d, m) {
        m[an] = d.length === 2 ? r.parseTwoDigitYear(d) : Qe(d);
      }), ft("YY", function(d, m) {
        m[an] = r.parseTwoDigitYear(d);
      }), ft("Y", function(d, m) {
        m[an] = parseInt(d, 10);
      });
      function La(d) {
        return Ks(d) ? 366 : 365;
      }
      r.parseTwoDigitYear = function(d) {
        return Qe(d) + (Qe(d) > 68 ? 1900 : 2e3);
      };
      var vp = Wi("FullYear", !0);
      function _w() {
        return Ks(this.year());
      }
      function Wi(d, m) {
        return function(x) {
          return x != null ? (yp(this, d, x), r.updateOffset(this, m), this) : Va(this, d);
        };
      }
      function Va(d, m) {
        if (!d.isValid())
          return NaN;
        var x = d._d, k = d._isUTC;
        switch (m) {
          case "Milliseconds":
            return k ? x.getUTCMilliseconds() : x.getMilliseconds();
          case "Seconds":
            return k ? x.getUTCSeconds() : x.getSeconds();
          case "Minutes":
            return k ? x.getUTCMinutes() : x.getMinutes();
          case "Hours":
            return k ? x.getUTCHours() : x.getHours();
          case "Date":
            return k ? x.getUTCDate() : x.getDate();
          case "Day":
            return k ? x.getUTCDay() : x.getDay();
          case "Month":
            return k ? x.getUTCMonth() : x.getMonth();
          case "FullYear":
            return k ? x.getUTCFullYear() : x.getFullYear();
          default:
            return NaN;
        }
      }
      function yp(d, m, x) {
        var k, M, W, ee, Ae;
        if (!(!d.isValid() || isNaN(x))) {
          switch (k = d._d, M = d._isUTC, m) {
            case "Milliseconds":
              return void (M ? k.setUTCMilliseconds(x) : k.setMilliseconds(x));
            case "Seconds":
              return void (M ? k.setUTCSeconds(x) : k.setSeconds(x));
            case "Minutes":
              return void (M ? k.setUTCMinutes(x) : k.setMinutes(x));
            case "Hours":
              return void (M ? k.setUTCHours(x) : k.setHours(x));
            case "Date":
              return void (M ? k.setUTCDate(x) : k.setDate(x));
            // case 'Day': // Not real
            //    return void (isUTC ? d.setUTCDay(value) : d.setDay(value));
            // case 'Month': // Not used because we need to pass two variables
            //     return void (isUTC ? d.setUTCMonth(value) : d.setMonth(value));
            case "FullYear":
              break;
            // See below ...
            default:
              return;
          }
          W = x, ee = d.month(), Ae = d.date(), Ae = Ae === 29 && ee === 1 && !Ks(W) ? 28 : Ae, M ? k.setUTCFullYear(W, ee, Ae) : k.setFullYear(W, ee, Ae);
        }
      }
      function Ew(d) {
        return d = V(d), z(this[d]) ? this[d]() : this;
      }
      function kw(d, m) {
        if (typeof d == "object") {
          d = $(d);
          var x = Z(d), k, M = x.length;
          for (k = 0; k < M; k++)
            this[x[k].unit](d[x[k].unit]);
        } else if (d = V(d), z(this[d]))
          return this[d](m);
        return this;
      }
      function Nw(d, m) {
        return (d % m + m) % m;
      }
      var Pt;
      Array.prototype.indexOf ? Pt = Array.prototype.indexOf : Pt = function(d) {
        var m;
        for (m = 0; m < this.length; ++m)
          if (this[m] === d)
            return m;
        return -1;
      };
      function pc(d, m) {
        if (isNaN(d) || isNaN(m))
          return NaN;
        var x = Nw(m, 12);
        return d += (m - x) / 12, x === 1 ? Ks(d) ? 29 : 28 : 31 - x % 7 % 2;
      }
      K("M", ["MM", 2], "Mo", function() {
        return this.month() + 1;
      }), K("MMM", 0, 0, function(d) {
        return this.localeData().monthsShort(this, d);
      }), K("MMMM", 0, 0, function(d) {
        return this.localeData().months(this, d);
      }), De("M", Ie, Yi), De("MM", Ie, T), De("MMM", function(d, m) {
        return m.monthsShortRegex(d);
      }), De("MMMM", function(d, m) {
        return m.monthsRegex(d);
      }), ft(["M", "MM"], function(d, m) {
        m[Sr] = Qe(d) - 1;
      }), ft(["MMM", "MMMM"], function(d, m, x, k) {
        var M = x._locale.monthsParse(d, k, x._strict);
        M != null ? m[Sr] = M : S(x).invalidMonth = d;
      });
      var Aw = "January_February_March_April_May_June_July_August_September_October_November_December".split(
        "_"
      ), bp = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), xp = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, Dw = Fa, Ow = Fa;
      function Mw(d, m) {
        return d ? a(this._months) ? this._months[d.month()] : this._months[(this._months.isFormat || xp).test(m) ? "format" : "standalone"][d.month()] : a(this._months) ? this._months : this._months.standalone;
      }
      function Rw(d, m) {
        return d ? a(this._monthsShort) ? this._monthsShort[d.month()] : this._monthsShort[xp.test(m) ? "format" : "standalone"][d.month()] : a(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
      }
      function Tw(d, m, x) {
        var k, M, W, ee = d.toLocaleLowerCase();
        if (!this._monthsParse)
          for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], k = 0; k < 12; ++k)
            W = y([2e3, k]), this._shortMonthsParse[k] = this.monthsShort(
              W,
              ""
            ).toLocaleLowerCase(), this._longMonthsParse[k] = this.months(W, "").toLocaleLowerCase();
        return x ? m === "MMM" ? (M = Pt.call(this._shortMonthsParse, ee), M !== -1 ? M : null) : (M = Pt.call(this._longMonthsParse, ee), M !== -1 ? M : null) : m === "MMM" ? (M = Pt.call(this._shortMonthsParse, ee), M !== -1 ? M : (M = Pt.call(this._longMonthsParse, ee), M !== -1 ? M : null)) : (M = Pt.call(this._longMonthsParse, ee), M !== -1 ? M : (M = Pt.call(this._shortMonthsParse, ee), M !== -1 ? M : null));
      }
      function Fw(d, m, x) {
        var k, M, W;
        if (this._monthsParseExact)
          return Tw.call(this, d, m, x);
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), k = 0; k < 12; k++) {
          if (M = y([2e3, k]), x && !this._longMonthsParse[k] && (this._longMonthsParse[k] = new RegExp(
            "^" + this.months(M, "").replace(".", "") + "$",
            "i"
          ), this._shortMonthsParse[k] = new RegExp(
            "^" + this.monthsShort(M, "").replace(".", "") + "$",
            "i"
          )), !x && !this._monthsParse[k] && (W = "^" + this.months(M, "") + "|^" + this.monthsShort(M, ""), this._monthsParse[k] = new RegExp(W.replace(".", ""), "i")), x && m === "MMMM" && this._longMonthsParse[k].test(d))
            return k;
          if (x && m === "MMM" && this._shortMonthsParse[k].test(d))
            return k;
          if (!x && this._monthsParse[k].test(d))
            return k;
        }
      }
      function wp(d, m) {
        if (!d.isValid())
          return d;
        if (typeof m == "string") {
          if (/^\d+$/.test(m))
            m = Qe(m);
          else if (m = d.localeData().monthsParse(m), !f(m))
            return d;
        }
        var x = m, k = d.date();
        return k = k < 29 ? k : Math.min(k, pc(d.year(), x)), d._isUTC ? d._d.setUTCMonth(x, k) : d._d.setMonth(x, k), d;
      }
      function Cp(d) {
        return d != null ? (wp(this, d), r.updateOffset(this, !0), this) : Va(this, "Month");
      }
      function Pw() {
        return pc(this.year(), this.month());
      }
      function Lw(d) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || Sp.call(this), d ? this._monthsShortStrictRegex : this._monthsShortRegex) : (o(this, "_monthsShortRegex") || (this._monthsShortRegex = Dw), this._monthsShortStrictRegex && d ? this._monthsShortStrictRegex : this._monthsShortRegex);
      }
      function Vw(d) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || Sp.call(this), d ? this._monthsStrictRegex : this._monthsRegex) : (o(this, "_monthsRegex") || (this._monthsRegex = Ow), this._monthsStrictRegex && d ? this._monthsStrictRegex : this._monthsRegex);
      }
      function Sp() {
        function d(ze, et) {
          return et.length - ze.length;
        }
        var m = [], x = [], k = [], M, W, ee, Ae;
        for (M = 0; M < 12; M++)
          W = y([2e3, M]), ee = Cr(this.monthsShort(W, "")), Ae = Cr(this.months(W, "")), m.push(ee), x.push(Ae), k.push(Ae), k.push(ee);
        m.sort(d), x.sort(d), k.sort(d), this._monthsRegex = new RegExp("^(" + k.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp(
          "^(" + x.join("|") + ")",
          "i"
        ), this._monthsShortStrictRegex = new RegExp(
          "^(" + m.join("|") + ")",
          "i"
        );
      }
      function Bw(d, m, x, k, M, W, ee) {
        var Ae;
        return d < 100 && d >= 0 ? (Ae = new Date(d + 400, m, x, k, M, W, ee), isFinite(Ae.getFullYear()) && Ae.setFullYear(d)) : Ae = new Date(d, m, x, k, M, W, ee), Ae;
      }
      function Ba(d) {
        var m, x;
        return d < 100 && d >= 0 ? (x = Array.prototype.slice.call(arguments), x[0] = d + 400, m = new Date(Date.UTC.apply(null, x)), isFinite(m.getUTCFullYear()) && m.setUTCFullYear(d)) : m = new Date(Date.UTC.apply(null, arguments)), m;
      }
      function eo(d, m, x) {
        var k = 7 + m - x, M = (7 + Ba(d, 0, k).getUTCDay() - m) % 7;
        return -M + k - 1;
      }
      function Ip(d, m, x, k, M) {
        var W = (7 + x - k) % 7, ee = eo(d, k, M), Ae = 1 + 7 * (m - 1) + W + ee, ze, et;
        return Ae <= 0 ? (ze = d - 1, et = La(ze) + Ae) : Ae > La(d) ? (ze = d + 1, et = Ae - La(d)) : (ze = d, et = Ae), {
          year: ze,
          dayOfYear: et
        };
      }
      function Ga(d, m, x) {
        var k = eo(d.year(), m, x), M = Math.floor((d.dayOfYear() - k - 1) / 7) + 1, W, ee;
        return M < 1 ? (ee = d.year() - 1, W = M + _r(ee, m, x)) : M > _r(d.year(), m, x) ? (W = M - _r(d.year(), m, x), ee = d.year() + 1) : (ee = d.year(), W = M), {
          week: W,
          year: ee
        };
      }
      function _r(d, m, x) {
        var k = eo(d, m, x), M = eo(d + 1, m, x);
        return (La(d) - k + M) / 7;
      }
      K("w", ["ww", 2], "wo", "week"), K("W", ["WW", 2], "Wo", "isoWeek"), De("w", Ie, Yi), De("ww", Ie, T), De("W", Ie, Yi), De("WW", Ie, T), Pa(
        ["w", "ww", "W", "WW"],
        function(d, m, x, k) {
          m[k.substr(0, 1)] = Qe(d);
        }
      );
      function Gw(d) {
        return Ga(d, this._week.dow, this._week.doy).week;
      }
      var Yw = {
        dow: 0,
        // Sunday is the first day of the week.
        doy: 6
        // The week that contains Jan 6th is the first week of the year.
      };
      function Ww() {
        return this._week.dow;
      }
      function zw() {
        return this._week.doy;
      }
      function Hw(d) {
        var m = this.localeData().week(this);
        return d == null ? m : this.add((d - m) * 7, "d");
      }
      function jw(d) {
        var m = Ga(this, 1, 4).week;
        return d == null ? m : this.add((d - m) * 7, "d");
      }
      K("d", 0, "do", "day"), K("dd", 0, 0, function(d) {
        return this.localeData().weekdaysMin(this, d);
      }), K("ddd", 0, 0, function(d) {
        return this.localeData().weekdaysShort(this, d);
      }), K("dddd", 0, 0, function(d) {
        return this.localeData().weekdays(this, d);
      }), K("e", 0, 0, "weekday"), K("E", 0, 0, "isoWeekday"), De("d", Ie), De("e", Ie), De("E", Ie), De("dd", function(d, m) {
        return m.weekdaysMinRegex(d);
      }), De("ddd", function(d, m) {
        return m.weekdaysShortRegex(d);
      }), De("dddd", function(d, m) {
        return m.weekdaysRegex(d);
      }), Pa(["dd", "ddd", "dddd"], function(d, m, x, k) {
        var M = x._locale.weekdaysParse(d, k, x._strict);
        M != null ? m.d = M : S(x).invalidWeekday = d;
      }), Pa(["d", "e", "E"], function(d, m, x, k) {
        m[k] = Qe(d);
      });
      function $w(d, m) {
        return typeof d != "string" ? d : isNaN(d) ? (d = m.weekdaysParse(d), typeof d == "number" ? d : null) : parseInt(d, 10);
      }
      function Uw(d, m) {
        return typeof d == "string" ? m.weekdaysParse(d) % 7 || 7 : isNaN(d) ? null : d;
      }
      function hc(d, m) {
        return d.slice(m, 7).concat(d.slice(0, m));
      }
      var Xw = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), _p = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Zw = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), qw = Fa, Jw = Fa, Qw = Fa;
      function Kw(d, m) {
        var x = a(this._weekdays) ? this._weekdays : this._weekdays[d && d !== !0 && this._weekdays.isFormat.test(m) ? "format" : "standalone"];
        return d === !0 ? hc(x, this._week.dow) : d ? x[d.day()] : x;
      }
      function eC(d) {
        return d === !0 ? hc(this._weekdaysShort, this._week.dow) : d ? this._weekdaysShort[d.day()] : this._weekdaysShort;
      }
      function tC(d) {
        return d === !0 ? hc(this._weekdaysMin, this._week.dow) : d ? this._weekdaysMin[d.day()] : this._weekdaysMin;
      }
      function nC(d, m, x) {
        var k, M, W, ee = d.toLocaleLowerCase();
        if (!this._weekdaysParse)
          for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], k = 0; k < 7; ++k)
            W = y([2e3, 1]).day(k), this._minWeekdaysParse[k] = this.weekdaysMin(
              W,
              ""
            ).toLocaleLowerCase(), this._shortWeekdaysParse[k] = this.weekdaysShort(
              W,
              ""
            ).toLocaleLowerCase(), this._weekdaysParse[k] = this.weekdays(W, "").toLocaleLowerCase();
        return x ? m === "dddd" ? (M = Pt.call(this._weekdaysParse, ee), M !== -1 ? M : null) : m === "ddd" ? (M = Pt.call(this._shortWeekdaysParse, ee), M !== -1 ? M : null) : (M = Pt.call(this._minWeekdaysParse, ee), M !== -1 ? M : null) : m === "dddd" ? (M = Pt.call(this._weekdaysParse, ee), M !== -1 || (M = Pt.call(this._shortWeekdaysParse, ee), M !== -1) ? M : (M = Pt.call(this._minWeekdaysParse, ee), M !== -1 ? M : null)) : m === "ddd" ? (M = Pt.call(this._shortWeekdaysParse, ee), M !== -1 || (M = Pt.call(this._weekdaysParse, ee), M !== -1) ? M : (M = Pt.call(this._minWeekdaysParse, ee), M !== -1 ? M : null)) : (M = Pt.call(this._minWeekdaysParse, ee), M !== -1 || (M = Pt.call(this._weekdaysParse, ee), M !== -1) ? M : (M = Pt.call(this._shortWeekdaysParse, ee), M !== -1 ? M : null));
      }
      function rC(d, m, x) {
        var k, M, W;
        if (this._weekdaysParseExact)
          return nC.call(this, d, m, x);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), k = 0; k < 7; k++) {
          if (M = y([2e3, 1]).day(k), x && !this._fullWeekdaysParse[k] && (this._fullWeekdaysParse[k] = new RegExp(
            "^" + this.weekdays(M, "").replace(".", "\\.?") + "$",
            "i"
          ), this._shortWeekdaysParse[k] = new RegExp(
            "^" + this.weekdaysShort(M, "").replace(".", "\\.?") + "$",
            "i"
          ), this._minWeekdaysParse[k] = new RegExp(
            "^" + this.weekdaysMin(M, "").replace(".", "\\.?") + "$",
            "i"
          )), this._weekdaysParse[k] || (W = "^" + this.weekdays(M, "") + "|^" + this.weekdaysShort(M, "") + "|^" + this.weekdaysMin(M, ""), this._weekdaysParse[k] = new RegExp(W.replace(".", ""), "i")), x && m === "dddd" && this._fullWeekdaysParse[k].test(d))
            return k;
          if (x && m === "ddd" && this._shortWeekdaysParse[k].test(d))
            return k;
          if (x && m === "dd" && this._minWeekdaysParse[k].test(d))
            return k;
          if (!x && this._weekdaysParse[k].test(d))
            return k;
        }
      }
      function iC(d) {
        if (!this.isValid())
          return d != null ? this : NaN;
        var m = Va(this, "Day");
        return d != null ? (d = $w(d, this.localeData()), this.add(d - m, "d")) : m;
      }
      function aC(d) {
        if (!this.isValid())
          return d != null ? this : NaN;
        var m = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return d == null ? m : this.add(d - m, "d");
      }
      function sC(d) {
        if (!this.isValid())
          return d != null ? this : NaN;
        if (d != null) {
          var m = Uw(d, this.localeData());
          return this.day(this.day() % 7 ? m : m - 7);
        } else
          return this.day() || 7;
      }
      function oC(d) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || mc.call(this), d ? this._weekdaysStrictRegex : this._weekdaysRegex) : (o(this, "_weekdaysRegex") || (this._weekdaysRegex = qw), this._weekdaysStrictRegex && d ? this._weekdaysStrictRegex : this._weekdaysRegex);
      }
      function lC(d) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || mc.call(this), d ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (o(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Jw), this._weekdaysShortStrictRegex && d ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
      }
      function cC(d) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || mc.call(this), d ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (o(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Qw), this._weekdaysMinStrictRegex && d ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
      }
      function mc() {
        function d(dn, Dr) {
          return Dr.length - dn.length;
        }
        var m = [], x = [], k = [], M = [], W, ee, Ae, ze, et;
        for (W = 0; W < 7; W++)
          ee = y([2e3, 1]).day(W), Ae = Cr(this.weekdaysMin(ee, "")), ze = Cr(this.weekdaysShort(ee, "")), et = Cr(this.weekdays(ee, "")), m.push(Ae), x.push(ze), k.push(et), M.push(Ae), M.push(ze), M.push(et);
        m.sort(d), x.sort(d), k.sort(d), M.sort(d), this._weekdaysRegex = new RegExp("^(" + M.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp(
          "^(" + k.join("|") + ")",
          "i"
        ), this._weekdaysShortStrictRegex = new RegExp(
          "^(" + x.join("|") + ")",
          "i"
        ), this._weekdaysMinStrictRegex = new RegExp(
          "^(" + m.join("|") + ")",
          "i"
        );
      }
      function gc() {
        return this.hours() % 12 || 12;
      }
      function uC() {
        return this.hours() || 24;
      }
      K("H", ["HH", 2], 0, "hour"), K("h", ["hh", 2], 0, gc), K("k", ["kk", 2], 0, uC), K("hmm", 0, 0, function() {
        return "" + gc.apply(this) + O(this.minutes(), 2);
      }), K("hmmss", 0, 0, function() {
        return "" + gc.apply(this) + O(this.minutes(), 2) + O(this.seconds(), 2);
      }), K("Hmm", 0, 0, function() {
        return "" + this.hours() + O(this.minutes(), 2);
      }), K("Hmmss", 0, 0, function() {
        return "" + this.hours() + O(this.minutes(), 2) + O(this.seconds(), 2);
      });
      function Ep(d, m) {
        K(d, 0, 0, function() {
          return this.localeData().meridiem(
            this.hours(),
            this.minutes(),
            m
          );
        });
      }
      Ep("a", !0), Ep("A", !1);
      function kp(d, m) {
        return m._meridiemParse;
      }
      De("a", kp), De("A", kp), De("H", Ie, dc), De("h", Ie, Yi), De("k", Ie, Yi), De("HH", Ie, T), De("hh", Ie, T), De("kk", Ie, T), De("hmm", yt), De("hmmss", At), De("Hmm", yt), De("Hmmss", At), ft(["H", "HH"], $t), ft(["k", "kk"], function(d, m, x) {
        var k = Qe(d);
        m[$t] = k === 24 ? 0 : k;
      }), ft(["a", "A"], function(d, m, x) {
        x._isPm = x._locale.isPM(d), x._meridiem = d;
      }), ft(["h", "hh"], function(d, m, x) {
        m[$t] = Qe(d), S(x).bigHour = !0;
      }), ft("hmm", function(d, m, x) {
        var k = d.length - 2;
        m[$t] = Qe(d.substr(0, k)), m[Zn] = Qe(d.substr(k)), S(x).bigHour = !0;
      }), ft("hmmss", function(d, m, x) {
        var k = d.length - 4, M = d.length - 2;
        m[$t] = Qe(d.substr(0, k)), m[Zn] = Qe(d.substr(k, 2)), m[Ir] = Qe(d.substr(M)), S(x).bigHour = !0;
      }), ft("Hmm", function(d, m, x) {
        var k = d.length - 2;
        m[$t] = Qe(d.substr(0, k)), m[Zn] = Qe(d.substr(k));
      }), ft("Hmmss", function(d, m, x) {
        var k = d.length - 4, M = d.length - 2;
        m[$t] = Qe(d.substr(0, k)), m[Zn] = Qe(d.substr(k, 2)), m[Ir] = Qe(d.substr(M));
      });
      function dC(d) {
        return (d + "").toLowerCase().charAt(0) === "p";
      }
      var fC = /[ap]\.?m?\.?/i, pC = Wi("Hours", !0);
      function hC(d, m, x) {
        return d > 11 ? x ? "pm" : "PM" : x ? "am" : "AM";
      }
      var Np = {
        calendar: ge,
        longDateFormat: Te,
        invalidDate: ue,
        ordinal: vt,
        dayOfMonthOrdinalParse: We,
        relativeTime: Et,
        months: Aw,
        monthsShort: bp,
        week: Yw,
        weekdays: Xw,
        weekdaysMin: Zw,
        weekdaysShort: _p,
        meridiemParse: fC
      }, kt = {}, Ya = {}, Wa;
      function mC(d, m) {
        var x, k = Math.min(d.length, m.length);
        for (x = 0; x < k; x += 1)
          if (d[x] !== m[x])
            return x;
        return k;
      }
      function Ap(d) {
        return d && d.toLowerCase().replace("_", "-");
      }
      function gC(d) {
        for (var m = 0, x, k, M, W; m < d.length; ) {
          for (W = Ap(d[m]).split("-"), x = W.length, k = Ap(d[m + 1]), k = k ? k.split("-") : null; x > 0; ) {
            if (M = to(W.slice(0, x).join("-")), M)
              return M;
            if (k && k.length >= x && mC(W, k) >= x - 1)
              break;
            x--;
          }
          m++;
        }
        return Wa;
      }
      function vC(d) {
        return !!(d && d.match("^[^/\\\\]*$"));
      }
      function to(d) {
        var m = null, x;
        if (kt[d] === void 0 && e && e.exports && vC(d))
          try {
            m = Wa._abbr, x = GB, x("./locale/" + d), Zr(m);
          } catch {
            kt[d] = null;
          }
        return kt[d];
      }
      function Zr(d, m) {
        var x;
        return d && (u(m) ? x = Er(d) : x = vc(d, m), x ? Wa = x : typeof console < "u" && console.warn && console.warn(
          "Locale " + d + " not found. Did you forget to load it?"
        )), Wa._abbr;
      }
      function vc(d, m) {
        if (m !== null) {
          var x, k = Np;
          if (m.abbr = d, kt[d] != null)
            Y(
              "defineLocaleOverride",
              "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."
            ), k = kt[d]._config;
          else if (m.parentLocale != null)
            if (kt[m.parentLocale] != null)
              k = kt[m.parentLocale]._config;
            else if (x = to(m.parentLocale), x != null)
              k = x._config;
            else
              return Ya[m.parentLocale] || (Ya[m.parentLocale] = []), Ya[m.parentLocale].push({
                name: d,
                config: m
              }), null;
          return kt[d] = new q(L(k, m)), Ya[d] && Ya[d].forEach(function(M) {
            vc(M.name, M.config);
          }), Zr(d), kt[d];
        } else
          return delete kt[d], null;
      }
      function yC(d, m) {
        if (m != null) {
          var x, k, M = Np;
          kt[d] != null && kt[d].parentLocale != null ? kt[d].set(L(kt[d]._config, m)) : (k = to(d), k != null && (M = k._config), m = L(M, m), k == null && (m.abbr = d), x = new q(m), x.parentLocale = kt[d], kt[d] = x), Zr(d);
        } else
          kt[d] != null && (kt[d].parentLocale != null ? (kt[d] = kt[d].parentLocale, d === Zr() && Zr(d)) : kt[d] != null && delete kt[d]);
        return kt[d];
      }
      function Er(d) {
        var m;
        if (d && d._locale && d._locale._abbr && (d = d._locale._abbr), !d)
          return Wa;
        if (!a(d)) {
          if (m = to(d), m)
            return m;
          d = [d];
        }
        return gC(d);
      }
      function bC() {
        return te(kt);
      }
      function yc(d) {
        var m, x = d._a;
        return x && S(d).overflow === -2 && (m = x[Sr] < 0 || x[Sr] > 11 ? Sr : x[ir] < 1 || x[ir] > pc(x[an], x[Sr]) ? ir : x[$t] < 0 || x[$t] > 24 || x[$t] === 24 && (x[Zn] !== 0 || x[Ir] !== 0 || x[di] !== 0) ? $t : x[Zn] < 0 || x[Zn] > 59 ? Zn : x[Ir] < 0 || x[Ir] > 59 ? Ir : x[di] < 0 || x[di] > 999 ? di : -1, S(d)._overflowDayOfYear && (m < an || m > ir) && (m = ir), S(d)._overflowWeeks && m === -1 && (m = Sw), S(d)._overflowWeekday && m === -1 && (m = Iw), S(d).overflow = m), d;
      }
      var xC = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, wC = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/, CC = /Z|[+-]\d\d(?::?\d\d)?/, no = [
        ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
        ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
        ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
        ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
        ["YYYY-DDD", /\d{4}-\d{3}/],
        ["YYYY-MM", /\d{4}-\d\d/, !1],
        ["YYYYYYMMDD", /[+-]\d{10}/],
        ["YYYYMMDD", /\d{8}/],
        ["GGGG[W]WWE", /\d{4}W\d{3}/],
        ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
        ["YYYYDDD", /\d{7}/],
        ["YYYYMM", /\d{6}/, !1],
        ["YYYY", /\d{4}/, !1]
      ], bc = [
        ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
        ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
        ["HH:mm:ss", /\d\d:\d\d:\d\d/],
        ["HH:mm", /\d\d:\d\d/],
        ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
        ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
        ["HHmmss", /\d\d\d\d\d\d/],
        ["HHmm", /\d\d\d\d/],
        ["HH", /\d\d/]
      ], SC = /^\/?Date\((-?\d+)/i, IC = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, _C = {
        UT: 0,
        GMT: 0,
        EDT: -240,
        EST: -300,
        CDT: -300,
        CST: -360,
        MDT: -360,
        MST: -420,
        PDT: -420,
        PST: -480
      };
      function Dp(d) {
        var m, x, k = d._i, M = xC.exec(k) || wC.exec(k), W, ee, Ae, ze, et = no.length, dn = bc.length;
        if (M) {
          for (S(d).iso = !0, m = 0, x = et; m < x; m++)
            if (no[m][1].exec(M[1])) {
              ee = no[m][0], W = no[m][2] !== !1;
              break;
            }
          if (ee == null) {
            d._isValid = !1;
            return;
          }
          if (M[3]) {
            for (m = 0, x = dn; m < x; m++)
              if (bc[m][1].exec(M[3])) {
                Ae = (M[2] || " ") + bc[m][0];
                break;
              }
            if (Ae == null) {
              d._isValid = !1;
              return;
            }
          }
          if (!W && Ae != null) {
            d._isValid = !1;
            return;
          }
          if (M[4])
            if (CC.exec(M[4]))
              ze = "Z";
            else {
              d._isValid = !1;
              return;
            }
          d._f = ee + (Ae || "") + (ze || ""), wc(d);
        } else
          d._isValid = !1;
      }
      function EC(d, m, x, k, M, W) {
        var ee = [
          kC(d),
          bp.indexOf(m),
          parseInt(x, 10),
          parseInt(k, 10),
          parseInt(M, 10)
        ];
        return W && ee.push(parseInt(W, 10)), ee;
      }
      function kC(d) {
        var m = parseInt(d, 10);
        return m <= 49 ? 2e3 + m : m <= 999 ? 1900 + m : m;
      }
      function NC(d) {
        return d.replace(/\([^()]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
      }
      function AC(d, m, x) {
        if (d) {
          var k = _p.indexOf(d), M = new Date(
            m[0],
            m[1],
            m[2]
          ).getDay();
          if (k !== M)
            return S(x).weekdayMismatch = !0, x._isValid = !1, !1;
        }
        return !0;
      }
      function DC(d, m, x) {
        if (d)
          return _C[d];
        if (m)
          return 0;
        var k = parseInt(x, 10), M = k % 100, W = (k - M) / 100;
        return W * 60 + M;
      }
      function Op(d) {
        var m = IC.exec(NC(d._i)), x;
        if (m) {
          if (x = EC(
            m[4],
            m[3],
            m[2],
            m[5],
            m[6],
            m[7]
          ), !AC(m[1], x, d))
            return;
          d._a = x, d._tzm = DC(m[8], m[9], m[10]), d._d = Ba.apply(null, d._a), d._d.setUTCMinutes(d._d.getUTCMinutes() - d._tzm), S(d).rfc2822 = !0;
        } else
          d._isValid = !1;
      }
      function OC(d) {
        var m = SC.exec(d._i);
        if (m !== null) {
          d._d = /* @__PURE__ */ new Date(+m[1]);
          return;
        }
        if (Dp(d), d._isValid === !1)
          delete d._isValid;
        else
          return;
        if (Op(d), d._isValid === !1)
          delete d._isValid;
        else
          return;
        d._strict ? d._isValid = !1 : r.createFromInputFallback(d);
      }
      r.createFromInputFallback = P(
        "value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
        function(d) {
          d._d = /* @__PURE__ */ new Date(d._i + (d._useUTC ? " UTC" : ""));
        }
      );
      function zi(d, m, x) {
        return d ?? m ?? x;
      }
      function MC(d) {
        var m = new Date(r.now());
        return d._useUTC ? [
          m.getUTCFullYear(),
          m.getUTCMonth(),
          m.getUTCDate()
        ] : [m.getFullYear(), m.getMonth(), m.getDate()];
      }
      function xc(d) {
        var m, x, k = [], M, W, ee;
        if (!d._d) {
          for (M = MC(d), d._w && d._a[ir] == null && d._a[Sr] == null && RC(d), d._dayOfYear != null && (ee = zi(d._a[an], M[an]), (d._dayOfYear > La(ee) || d._dayOfYear === 0) && (S(d)._overflowDayOfYear = !0), x = Ba(ee, 0, d._dayOfYear), d._a[Sr] = x.getUTCMonth(), d._a[ir] = x.getUTCDate()), m = 0; m < 3 && d._a[m] == null; ++m)
            d._a[m] = k[m] = M[m];
          for (; m < 7; m++)
            d._a[m] = k[m] = d._a[m] == null ? m === 2 ? 1 : 0 : d._a[m];
          d._a[$t] === 24 && d._a[Zn] === 0 && d._a[Ir] === 0 && d._a[di] === 0 && (d._nextDay = !0, d._a[$t] = 0), d._d = (d._useUTC ? Ba : Bw).apply(
            null,
            k
          ), W = d._useUTC ? d._d.getUTCDay() : d._d.getDay(), d._tzm != null && d._d.setUTCMinutes(d._d.getUTCMinutes() - d._tzm), d._nextDay && (d._a[$t] = 24), d._w && typeof d._w.d < "u" && d._w.d !== W && (S(d).weekdayMismatch = !0);
        }
      }
      function RC(d) {
        var m, x, k, M, W, ee, Ae, ze, et;
        m = d._w, m.GG != null || m.W != null || m.E != null ? (W = 1, ee = 4, x = zi(
          m.GG,
          d._a[an],
          Ga(St(), 1, 4).year
        ), k = zi(m.W, 1), M = zi(m.E, 1), (M < 1 || M > 7) && (ze = !0)) : (W = d._locale._week.dow, ee = d._locale._week.doy, et = Ga(St(), W, ee), x = zi(m.gg, d._a[an], et.year), k = zi(m.w, et.week), m.d != null ? (M = m.d, (M < 0 || M > 6) && (ze = !0)) : m.e != null ? (M = m.e + W, (m.e < 0 || m.e > 6) && (ze = !0)) : M = W), k < 1 || k > _r(x, W, ee) ? S(d)._overflowWeeks = !0 : ze != null ? S(d)._overflowWeekday = !0 : (Ae = Ip(x, k, M, W, ee), d._a[an] = Ae.year, d._dayOfYear = Ae.dayOfYear);
      }
      r.ISO_8601 = function() {
      }, r.RFC_2822 = function() {
      };
      function wc(d) {
        if (d._f === r.ISO_8601) {
          Dp(d);
          return;
        }
        if (d._f === r.RFC_2822) {
          Op(d);
          return;
        }
        d._a = [], S(d).empty = !0;
        var m = "" + d._i, x, k, M, W, ee, Ae = m.length, ze = 0, et, dn;
        for (M = Fe(d._f, d._locale).match(ie) || [], dn = M.length, x = 0; x < dn; x++)
          W = M[x], k = (m.match(xw(W, d)) || [])[0], k && (ee = m.substr(0, m.indexOf(k)), ee.length > 0 && S(d).unusedInput.push(ee), m = m.slice(
            m.indexOf(k) + k.length
          ), ze += k.length), oe[W] ? (k ? S(d).empty = !1 : S(d).unusedTokens.push(W), Cw(W, k, d)) : d._strict && !k && S(d).unusedTokens.push(W);
        S(d).charsLeftOver = Ae - ze, m.length > 0 && S(d).unusedInput.push(m), d._a[$t] <= 12 && S(d).bigHour === !0 && d._a[$t] > 0 && (S(d).bigHour = void 0), S(d).parsedDateParts = d._a.slice(0), S(d).meridiem = d._meridiem, d._a[$t] = TC(
          d._locale,
          d._a[$t],
          d._meridiem
        ), et = S(d).era, et !== null && (d._a[an] = d._locale.erasConvertYear(et, d._a[an])), xc(d), yc(d);
      }
      function TC(d, m, x) {
        var k;
        return x == null ? m : d.meridiemHour != null ? d.meridiemHour(m, x) : (d.isPM != null && (k = d.isPM(x), k && m < 12 && (m += 12), !k && m === 12 && (m = 0)), m);
      }
      function FC(d) {
        var m, x, k, M, W, ee, Ae = !1, ze = d._f.length;
        if (ze === 0) {
          S(d).invalidFormat = !0, d._d = /* @__PURE__ */ new Date(NaN);
          return;
        }
        for (M = 0; M < ze; M++)
          W = 0, ee = !1, m = A({}, d), d._useUTC != null && (m._useUTC = d._useUTC), m._f = d._f[M], wc(m), I(m) && (ee = !0), W += S(m).charsLeftOver, W += S(m).unusedTokens.length * 10, S(m).score = W, Ae ? W < k && (k = W, x = m) : (k == null || W < k || ee) && (k = W, x = m, ee && (Ae = !0));
        h(d, x || m);
      }
      function PC(d) {
        if (!d._d) {
          var m = $(d._i), x = m.day === void 0 ? m.date : m.day;
          d._a = g(
            [m.year, m.month, x, m.hour, m.minute, m.second, m.millisecond],
            function(k) {
              return k && parseInt(k, 10);
            }
          ), xc(d);
        }
      }
      function LC(d) {
        var m = new N(yc(Mp(d)));
        return m._nextDay && (m.add(1, "d"), m._nextDay = void 0), m;
      }
      function Mp(d) {
        var m = d._i, x = d._f;
        return d._locale = d._locale || Er(d._l), m === null || x === void 0 && m === "" ? b({ nullInput: !0 }) : (typeof m == "string" && (d._i = m = d._locale.preparse(m)), D(m) ? new N(yc(m)) : (p(m) ? d._d = m : a(x) ? FC(d) : x ? wc(d) : VC(d), I(d) || (d._d = null), d));
      }
      function VC(d) {
        var m = d._i;
        u(m) ? d._d = new Date(r.now()) : p(m) ? d._d = new Date(m.valueOf()) : typeof m == "string" ? OC(d) : a(m) ? (d._a = g(m.slice(0), function(x) {
          return parseInt(x, 10);
        }), xc(d)) : s(m) ? PC(d) : f(m) ? d._d = new Date(m) : r.createFromInputFallback(d);
      }
      function Rp(d, m, x, k, M) {
        var W = {};
        return (m === !0 || m === !1) && (k = m, m = void 0), (x === !0 || x === !1) && (k = x, x = void 0), (s(d) && c(d) || a(d) && d.length === 0) && (d = void 0), W._isAMomentObject = !0, W._useUTC = W._isUTC = M, W._l = x, W._i = d, W._f = m, W._strict = k, LC(W);
      }
      function St(d, m, x, k) {
        return Rp(d, m, x, k, !1);
      }
      var BC = P(
        "moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",
        function() {
          var d = St.apply(null, arguments);
          return this.isValid() && d.isValid() ? d < this ? this : d : b();
        }
      ), GC = P(
        "moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",
        function() {
          var d = St.apply(null, arguments);
          return this.isValid() && d.isValid() ? d > this ? this : d : b();
        }
      );
      function Tp(d, m) {
        var x, k;
        if (m.length === 1 && a(m[0]) && (m = m[0]), !m.length)
          return St();
        for (x = m[0], k = 1; k < m.length; ++k)
          (!m[k].isValid() || m[k][d](x)) && (x = m[k]);
        return x;
      }
      function YC() {
        var d = [].slice.call(arguments, 0);
        return Tp("isBefore", d);
      }
      function WC() {
        var d = [].slice.call(arguments, 0);
        return Tp("isAfter", d);
      }
      var zC = function() {
        return Date.now ? Date.now() : +/* @__PURE__ */ new Date();
      }, za = [
        "year",
        "quarter",
        "month",
        "week",
        "day",
        "hour",
        "minute",
        "second",
        "millisecond"
      ];
      function HC(d) {
        var m, x = !1, k, M = za.length;
        for (m in d)
          if (o(d, m) && !(Pt.call(za, m) !== -1 && (d[m] == null || !isNaN(d[m]))))
            return !1;
        for (k = 0; k < M; ++k)
          if (d[za[k]]) {
            if (x)
              return !1;
            parseFloat(d[za[k]]) !== Qe(d[za[k]]) && (x = !0);
          }
        return !0;
      }
      function jC() {
        return this._isValid;
      }
      function $C() {
        return qn(NaN);
      }
      function ro(d) {
        var m = $(d), x = m.year || 0, k = m.quarter || 0, M = m.month || 0, W = m.week || m.isoWeek || 0, ee = m.day || 0, Ae = m.hour || 0, ze = m.minute || 0, et = m.second || 0, dn = m.millisecond || 0;
        this._isValid = HC(m), this._milliseconds = +dn + et * 1e3 + // 1000
        ze * 6e4 + // 1000 * 60
        Ae * 1e3 * 60 * 60, this._days = +ee + W * 7, this._months = +M + k * 3 + x * 12, this._data = {}, this._locale = Er(), this._bubble();
      }
      function io(d) {
        return d instanceof ro;
      }
      function Cc(d) {
        return d < 0 ? Math.round(-1 * d) * -1 : Math.round(d);
      }
      function UC(d, m, x) {
        var k = Math.min(d.length, m.length), M = Math.abs(d.length - m.length), W = 0, ee;
        for (ee = 0; ee < k; ee++)
          Qe(d[ee]) !== Qe(m[ee]) && W++;
        return W + M;
      }
      function Fp(d, m) {
        K(d, 0, 0, function() {
          var x = this.utcOffset(), k = "+";
          return x < 0 && (x = -x, k = "-"), k + O(~~(x / 60), 2) + m + O(~~x % 60, 2);
        });
      }
      Fp("Z", ":"), Fp("ZZ", ""), De("Z", wr), De("ZZ", wr), ft(["Z", "ZZ"], function(d, m, x) {
        x._useUTC = !0, x._tzm = Sc(wr, d);
      });
      var XC = /([\+\-]|\d\d)/gi;
      function Sc(d, m) {
        var x = (m || "").match(d), k, M, W;
        return x === null ? null : (k = x[x.length - 1] || [], M = (k + "").match(XC) || ["-", 0, 0], W = +(M[1] * 60) + Qe(M[2]), W === 0 ? 0 : M[0] === "+" ? W : -W);
      }
      function Ic(d, m) {
        var x, k;
        return m._isUTC ? (x = m.clone(), k = (D(d) || p(d) ? d.valueOf() : St(d).valueOf()) - x.valueOf(), x._d.setTime(x._d.valueOf() + k), r.updateOffset(x, !1), x) : St(d).local();
      }
      function _c(d) {
        return -Math.round(d._d.getTimezoneOffset());
      }
      r.updateOffset = function() {
      };
      function ZC(d, m, x) {
        var k = this._offset || 0, M;
        if (!this.isValid())
          return d != null ? this : NaN;
        if (d != null) {
          if (typeof d == "string") {
            if (d = Sc(wr, d), d === null)
              return this;
          } else Math.abs(d) < 16 && !x && (d = d * 60);
          return !this._isUTC && m && (M = _c(this)), this._offset = d, this._isUTC = !0, M != null && this.add(M, "m"), k !== d && (!m || this._changeInProgress ? Bp(
            this,
            qn(d - k, "m"),
            1,
            !1
          ) : this._changeInProgress || (this._changeInProgress = !0, r.updateOffset(this, !0), this._changeInProgress = null)), this;
        } else
          return this._isUTC ? k : _c(this);
      }
      function qC(d, m) {
        return d != null ? (typeof d != "string" && (d = -d), this.utcOffset(d, m), this) : -this.utcOffset();
      }
      function JC(d) {
        return this.utcOffset(0, d);
      }
      function QC(d) {
        return this._isUTC && (this.utcOffset(0, d), this._isUTC = !1, d && this.subtract(_c(this), "m")), this;
      }
      function KC() {
        if (this._tzm != null)
          this.utcOffset(this._tzm, !1, !0);
        else if (typeof this._i == "string") {
          var d = Sc(Kt, this._i);
          d != null ? this.utcOffset(d) : this.utcOffset(0, !0);
        }
        return this;
      }
      function e1(d) {
        return this.isValid() ? (d = d ? St(d).utcOffset() : 0, (this.utcOffset() - d) % 60 === 0) : !1;
      }
      function t1() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
      }
      function n1() {
        if (!u(this._isDSTShifted))
          return this._isDSTShifted;
        var d = {}, m;
        return A(d, this), d = Mp(d), d._a ? (m = d._isUTC ? y(d._a) : St(d._a), this._isDSTShifted = this.isValid() && UC(d._a, m.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted;
      }
      function r1() {
        return this.isValid() ? !this._isUTC : !1;
      }
      function i1() {
        return this.isValid() ? this._isUTC : !1;
      }
      function Pp() {
        return this.isValid() ? this._isUTC && this._offset === 0 : !1;
      }
      var a1 = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/, s1 = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
      function qn(d, m) {
        var x = d, k = null, M, W, ee;
        return io(d) ? x = {
          ms: d._milliseconds,
          d: d._days,
          M: d._months
        } : f(d) || !isNaN(+d) ? (x = {}, m ? x[m] = +d : x.milliseconds = +d) : (k = a1.exec(d)) ? (M = k[1] === "-" ? -1 : 1, x = {
          y: 0,
          d: Qe(k[ir]) * M,
          h: Qe(k[$t]) * M,
          m: Qe(k[Zn]) * M,
          s: Qe(k[Ir]) * M,
          ms: Qe(Cc(k[di] * 1e3)) * M
          // the millisecond decimal point is included in the match
        }) : (k = s1.exec(d)) ? (M = k[1] === "-" ? -1 : 1, x = {
          y: fi(k[2], M),
          M: fi(k[3], M),
          w: fi(k[4], M),
          d: fi(k[5], M),
          h: fi(k[6], M),
          m: fi(k[7], M),
          s: fi(k[8], M)
        }) : x == null ? x = {} : typeof x == "object" && ("from" in x || "to" in x) && (ee = o1(
          St(x.from),
          St(x.to)
        ), x = {}, x.ms = ee.milliseconds, x.M = ee.months), W = new ro(x), io(d) && o(d, "_locale") && (W._locale = d._locale), io(d) && o(d, "_isValid") && (W._isValid = d._isValid), W;
      }
      qn.fn = ro.prototype, qn.invalid = $C;
      function fi(d, m) {
        var x = d && parseFloat(d.replace(",", "."));
        return (isNaN(x) ? 0 : x) * m;
      }
      function Lp(d, m) {
        var x = {};
        return x.months = m.month() - d.month() + (m.year() - d.year()) * 12, d.clone().add(x.months, "M").isAfter(m) && --x.months, x.milliseconds = +m - +d.clone().add(x.months, "M"), x;
      }
      function o1(d, m) {
        var x;
        return d.isValid() && m.isValid() ? (m = Ic(m, d), d.isBefore(m) ? x = Lp(d, m) : (x = Lp(m, d), x.milliseconds = -x.milliseconds, x.months = -x.months), x) : { milliseconds: 0, months: 0 };
      }
      function Vp(d, m) {
        return function(x, k) {
          var M, W;
          return k !== null && !isNaN(+k) && (Y(
            m,
            "moment()." + m + "(period, number) is deprecated. Please use moment()." + m + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."
          ), W = x, x = k, k = W), M = qn(x, k), Bp(this, M, d), this;
        };
      }
      function Bp(d, m, x, k) {
        var M = m._milliseconds, W = Cc(m._days), ee = Cc(m._months);
        d.isValid() && (k = k ?? !0, ee && wp(d, Va(d, "Month") + ee * x), W && yp(d, "Date", Va(d, "Date") + W * x), M && d._d.setTime(d._d.valueOf() + M * x), k && r.updateOffset(d, W || ee));
      }
      var l1 = Vp(1, "add"), c1 = Vp(-1, "subtract");
      function Gp(d) {
        return typeof d == "string" || d instanceof String;
      }
      function u1(d) {
        return D(d) || p(d) || Gp(d) || f(d) || f1(d) || d1(d) || d === null || d === void 0;
      }
      function d1(d) {
        var m = s(d) && !c(d), x = !1, k = [
          "years",
          "year",
          "y",
          "months",
          "month",
          "M",
          "days",
          "day",
          "d",
          "dates",
          "date",
          "D",
          "hours",
          "hour",
          "h",
          "minutes",
          "minute",
          "m",
          "seconds",
          "second",
          "s",
          "milliseconds",
          "millisecond",
          "ms"
        ], M, W, ee = k.length;
        for (M = 0; M < ee; M += 1)
          W = k[M], x = x || o(d, W);
        return m && x;
      }
      function f1(d) {
        var m = a(d), x = !1;
        return m && (x = d.filter(function(k) {
          return !f(k) && Gp(d);
        }).length === 0), m && x;
      }
      function p1(d) {
        var m = s(d) && !c(d), x = !1, k = [
          "sameDay",
          "nextDay",
          "lastDay",
          "nextWeek",
          "lastWeek",
          "sameElse"
        ], M, W;
        for (M = 0; M < k.length; M += 1)
          W = k[M], x = x || o(d, W);
        return m && x;
      }
      function h1(d, m) {
        var x = d.diff(m, "days", !0);
        return x < -6 ? "sameElse" : x < -1 ? "lastWeek" : x < 0 ? "lastDay" : x < 1 ? "sameDay" : x < 2 ? "nextDay" : x < 7 ? "nextWeek" : "sameElse";
      }
      function m1(d, m) {
        arguments.length === 1 && (arguments[0] ? u1(arguments[0]) ? (d = arguments[0], m = void 0) : p1(arguments[0]) && (m = arguments[0], d = void 0) : (d = void 0, m = void 0));
        var x = d || St(), k = Ic(x, this).startOf("day"), M = r.calendarFormat(this, k) || "sameElse", W = m && (z(m[M]) ? m[M].call(this, x) : m[M]);
        return this.format(
          W || this.localeData().calendar(M, this, St(x))
        );
      }
      function g1() {
        return new N(this);
      }
      function v1(d, m) {
        var x = D(d) ? d : St(d);
        return this.isValid() && x.isValid() ? (m = V(m) || "millisecond", m === "millisecond" ? this.valueOf() > x.valueOf() : x.valueOf() < this.clone().startOf(m).valueOf()) : !1;
      }
      function y1(d, m) {
        var x = D(d) ? d : St(d);
        return this.isValid() && x.isValid() ? (m = V(m) || "millisecond", m === "millisecond" ? this.valueOf() < x.valueOf() : this.clone().endOf(m).valueOf() < x.valueOf()) : !1;
      }
      function b1(d, m, x, k) {
        var M = D(d) ? d : St(d), W = D(m) ? m : St(m);
        return this.isValid() && M.isValid() && W.isValid() ? (k = k || "()", (k[0] === "(" ? this.isAfter(M, x) : !this.isBefore(M, x)) && (k[1] === ")" ? this.isBefore(W, x) : !this.isAfter(W, x))) : !1;
      }
      function x1(d, m) {
        var x = D(d) ? d : St(d), k;
        return this.isValid() && x.isValid() ? (m = V(m) || "millisecond", m === "millisecond" ? this.valueOf() === x.valueOf() : (k = x.valueOf(), this.clone().startOf(m).valueOf() <= k && k <= this.clone().endOf(m).valueOf())) : !1;
      }
      function w1(d, m) {
        return this.isSame(d, m) || this.isAfter(d, m);
      }
      function C1(d, m) {
        return this.isSame(d, m) || this.isBefore(d, m);
      }
      function S1(d, m, x) {
        var k, M, W;
        if (!this.isValid())
          return NaN;
        if (k = Ic(d, this), !k.isValid())
          return NaN;
        switch (M = (k.utcOffset() - this.utcOffset()) * 6e4, m = V(m), m) {
          case "year":
            W = ao(this, k) / 12;
            break;
          case "month":
            W = ao(this, k);
            break;
          case "quarter":
            W = ao(this, k) / 3;
            break;
          case "second":
            W = (this - k) / 1e3;
            break;
          // 1000
          case "minute":
            W = (this - k) / 6e4;
            break;
          // 1000 * 60
          case "hour":
            W = (this - k) / 36e5;
            break;
          // 1000 * 60 * 60
          case "day":
            W = (this - k - M) / 864e5;
            break;
          // 1000 * 60 * 60 * 24, negate dst
          case "week":
            W = (this - k - M) / 6048e5;
            break;
          // 1000 * 60 * 60 * 24 * 7, negate dst
          default:
            W = this - k;
        }
        return x ? W : Rn(W);
      }
      function ao(d, m) {
        if (d.date() < m.date())
          return -ao(m, d);
        var x = (m.year() - d.year()) * 12 + (m.month() - d.month()), k = d.clone().add(x, "months"), M, W;
        return m - k < 0 ? (M = d.clone().add(x - 1, "months"), W = (m - k) / (k - M)) : (M = d.clone().add(x + 1, "months"), W = (m - k) / (M - k)), -(x + W) || 0;
      }
      r.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", r.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
      function I1() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
      }
      function _1(d) {
        if (!this.isValid())
          return null;
        var m = d !== !0, x = m ? this.clone().utc() : this;
        return x.year() < 0 || x.year() > 9999 ? we(
          x,
          m ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"
        ) : z(Date.prototype.toISOString) ? m ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", we(x, "Z")) : we(
          x,
          m ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ"
        );
      }
      function E1() {
        if (!this.isValid())
          return "moment.invalid(/* " + this._i + " */)";
        var d = "moment", m = "", x, k, M, W;
        return this.isLocal() || (d = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", m = "Z"), x = "[" + d + '("]', k = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", M = "-MM-DD[T]HH:mm:ss.SSS", W = m + '[")]', this.format(x + k + M + W);
      }
      function k1(d) {
        d || (d = this.isUtc() ? r.defaultFormatUtc : r.defaultFormat);
        var m = we(this, d);
        return this.localeData().postformat(m);
      }
      function N1(d, m) {
        return this.isValid() && (D(d) && d.isValid() || St(d).isValid()) ? qn({ to: this, from: d }).locale(this.locale()).humanize(!m) : this.localeData().invalidDate();
      }
      function A1(d) {
        return this.from(St(), d);
      }
      function D1(d, m) {
        return this.isValid() && (D(d) && d.isValid() || St(d).isValid()) ? qn({ from: this, to: d }).locale(this.locale()).humanize(!m) : this.localeData().invalidDate();
      }
      function O1(d) {
        return this.to(St(), d);
      }
      function Yp(d) {
        var m;
        return d === void 0 ? this._locale._abbr : (m = Er(d), m != null && (this._locale = m), this);
      }
      var Wp = P(
        "moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
        function(d) {
          return d === void 0 ? this.localeData() : this.locale(d);
        }
      );
      function zp() {
        return this._locale;
      }
      var so = 1e3, Hi = 60 * so, oo = 60 * Hi, Hp = (365 * 400 + 97) * 24 * oo;
      function ji(d, m) {
        return (d % m + m) % m;
      }
      function jp(d, m, x) {
        return d < 100 && d >= 0 ? new Date(d + 400, m, x) - Hp : new Date(d, m, x).valueOf();
      }
      function $p(d, m, x) {
        return d < 100 && d >= 0 ? Date.UTC(d + 400, m, x) - Hp : Date.UTC(d, m, x);
      }
      function M1(d) {
        var m, x;
        if (d = V(d), d === void 0 || d === "millisecond" || !this.isValid())
          return this;
        switch (x = this._isUTC ? $p : jp, d) {
          case "year":
            m = x(this.year(), 0, 1);
            break;
          case "quarter":
            m = x(
              this.year(),
              this.month() - this.month() % 3,
              1
            );
            break;
          case "month":
            m = x(this.year(), this.month(), 1);
            break;
          case "week":
            m = x(
              this.year(),
              this.month(),
              this.date() - this.weekday()
            );
            break;
          case "isoWeek":
            m = x(
              this.year(),
              this.month(),
              this.date() - (this.isoWeekday() - 1)
            );
            break;
          case "day":
          case "date":
            m = x(this.year(), this.month(), this.date());
            break;
          case "hour":
            m = this._d.valueOf(), m -= ji(
              m + (this._isUTC ? 0 : this.utcOffset() * Hi),
              oo
            );
            break;
          case "minute":
            m = this._d.valueOf(), m -= ji(m, Hi);
            break;
          case "second":
            m = this._d.valueOf(), m -= ji(m, so);
            break;
        }
        return this._d.setTime(m), r.updateOffset(this, !0), this;
      }
      function R1(d) {
        var m, x;
        if (d = V(d), d === void 0 || d === "millisecond" || !this.isValid())
          return this;
        switch (x = this._isUTC ? $p : jp, d) {
          case "year":
            m = x(this.year() + 1, 0, 1) - 1;
            break;
          case "quarter":
            m = x(
              this.year(),
              this.month() - this.month() % 3 + 3,
              1
            ) - 1;
            break;
          case "month":
            m = x(this.year(), this.month() + 1, 1) - 1;
            break;
          case "week":
            m = x(
              this.year(),
              this.month(),
              this.date() - this.weekday() + 7
            ) - 1;
            break;
          case "isoWeek":
            m = x(
              this.year(),
              this.month(),
              this.date() - (this.isoWeekday() - 1) + 7
            ) - 1;
            break;
          case "day":
          case "date":
            m = x(this.year(), this.month(), this.date() + 1) - 1;
            break;
          case "hour":
            m = this._d.valueOf(), m += oo - ji(
              m + (this._isUTC ? 0 : this.utcOffset() * Hi),
              oo
            ) - 1;
            break;
          case "minute":
            m = this._d.valueOf(), m += Hi - ji(m, Hi) - 1;
            break;
          case "second":
            m = this._d.valueOf(), m += so - ji(m, so) - 1;
            break;
        }
        return this._d.setTime(m), r.updateOffset(this, !0), this;
      }
      function T1() {
        return this._d.valueOf() - (this._offset || 0) * 6e4;
      }
      function F1() {
        return Math.floor(this.valueOf() / 1e3);
      }
      function P1() {
        return new Date(this.valueOf());
      }
      function L1() {
        var d = this;
        return [
          d.year(),
          d.month(),
          d.date(),
          d.hour(),
          d.minute(),
          d.second(),
          d.millisecond()
        ];
      }
      function V1() {
        var d = this;
        return {
          years: d.year(),
          months: d.month(),
          date: d.date(),
          hours: d.hours(),
          minutes: d.minutes(),
          seconds: d.seconds(),
          milliseconds: d.milliseconds()
        };
      }
      function B1() {
        return this.isValid() ? this.toISOString() : null;
      }
      function G1() {
        return I(this);
      }
      function Y1() {
        return h({}, S(this));
      }
      function W1() {
        return S(this).overflow;
      }
      function z1() {
        return {
          input: this._i,
          format: this._f,
          locale: this._locale,
          isUTC: this._isUTC,
          strict: this._strict
        };
      }
      K("N", 0, 0, "eraAbbr"), K("NN", 0, 0, "eraAbbr"), K("NNN", 0, 0, "eraAbbr"), K("NNNN", 0, 0, "eraName"), K("NNNNN", 0, 0, "eraNarrow"), K("y", ["y", 1], "yo", "eraYear"), K("y", ["yy", 2], 0, "eraYear"), K("y", ["yyy", 3], 0, "eraYear"), K("y", ["yyyy", 4], 0, "eraYear"), De("N", Ec), De("NN", Ec), De("NNN", Ec), De("NNNN", eS), De("NNNNN", tS), ft(
        ["N", "NN", "NNN", "NNNN", "NNNNN"],
        function(d, m, x, k) {
          var M = x._locale.erasParse(d, k, x._strict);
          M ? S(x).era = M : S(x).invalidEra = d;
        }
      ), De("y", bt), De("yy", bt), De("yyy", bt), De("yyyy", bt), De("yo", nS), ft(["y", "yy", "yyy", "yyyy"], an), ft(["yo"], function(d, m, x, k) {
        var M;
        x._locale._eraYearOrdinalRegex && (M = d.match(x._locale._eraYearOrdinalRegex)), x._locale.eraYearOrdinalParse ? m[an] = x._locale.eraYearOrdinalParse(d, M) : m[an] = parseInt(d, 10);
      });
      function H1(d, m) {
        var x, k, M, W = this._eras || Er("en")._eras;
        for (x = 0, k = W.length; x < k; ++x)
          switch (typeof W[x].since === "string" && (M = r(W[x].since).startOf("day"), W[x].since = M.valueOf()), typeof W[x].until) {
            case "undefined":
              W[x].until = 1 / 0;
              break;
            case "string":
              M = r(W[x].until).startOf("day").valueOf(), W[x].until = M.valueOf();
              break;
          }
        return W;
      }
      function j1(d, m, x) {
        var k, M, W = this.eras(), ee, Ae, ze;
        for (d = d.toUpperCase(), k = 0, M = W.length; k < M; ++k)
          if (ee = W[k].name.toUpperCase(), Ae = W[k].abbr.toUpperCase(), ze = W[k].narrow.toUpperCase(), x)
            switch (m) {
              case "N":
              case "NN":
              case "NNN":
                if (Ae === d)
                  return W[k];
                break;
              case "NNNN":
                if (ee === d)
                  return W[k];
                break;
              case "NNNNN":
                if (ze === d)
                  return W[k];
                break;
            }
          else if ([ee, Ae, ze].indexOf(d) >= 0)
            return W[k];
      }
      function $1(d, m) {
        var x = d.since <= d.until ? 1 : -1;
        return m === void 0 ? r(d.since).year() : r(d.since).year() + (m - d.offset) * x;
      }
      function U1() {
        var d, m, x, k = this.localeData().eras();
        for (d = 0, m = k.length; d < m; ++d)
          if (x = this.clone().startOf("day").valueOf(), k[d].since <= x && x <= k[d].until || k[d].until <= x && x <= k[d].since)
            return k[d].name;
        return "";
      }
      function X1() {
        var d, m, x, k = this.localeData().eras();
        for (d = 0, m = k.length; d < m; ++d)
          if (x = this.clone().startOf("day").valueOf(), k[d].since <= x && x <= k[d].until || k[d].until <= x && x <= k[d].since)
            return k[d].narrow;
        return "";
      }
      function Z1() {
        var d, m, x, k = this.localeData().eras();
        for (d = 0, m = k.length; d < m; ++d)
          if (x = this.clone().startOf("day").valueOf(), k[d].since <= x && x <= k[d].until || k[d].until <= x && x <= k[d].since)
            return k[d].abbr;
        return "";
      }
      function q1() {
        var d, m, x, k, M = this.localeData().eras();
        for (d = 0, m = M.length; d < m; ++d)
          if (x = M[d].since <= M[d].until ? 1 : -1, k = this.clone().startOf("day").valueOf(), M[d].since <= k && k <= M[d].until || M[d].until <= k && k <= M[d].since)
            return (this.year() - r(M[d].since).year()) * x + M[d].offset;
        return this.year();
      }
      function J1(d) {
        return o(this, "_erasNameRegex") || kc.call(this), d ? this._erasNameRegex : this._erasRegex;
      }
      function Q1(d) {
        return o(this, "_erasAbbrRegex") || kc.call(this), d ? this._erasAbbrRegex : this._erasRegex;
      }
      function K1(d) {
        return o(this, "_erasNarrowRegex") || kc.call(this), d ? this._erasNarrowRegex : this._erasRegex;
      }
      function Ec(d, m) {
        return m.erasAbbrRegex(d);
      }
      function eS(d, m) {
        return m.erasNameRegex(d);
      }
      function tS(d, m) {
        return m.erasNarrowRegex(d);
      }
      function nS(d, m) {
        return m._eraYearOrdinalRegex || bt;
      }
      function kc() {
        var d = [], m = [], x = [], k = [], M, W, ee, Ae, ze, et = this.eras();
        for (M = 0, W = et.length; M < W; ++M)
          ee = Cr(et[M].name), Ae = Cr(et[M].abbr), ze = Cr(et[M].narrow), m.push(ee), d.push(Ae), x.push(ze), k.push(ee), k.push(Ae), k.push(ze);
        this._erasRegex = new RegExp("^(" + k.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + m.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + d.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp(
          "^(" + x.join("|") + ")",
          "i"
        );
      }
      K(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100;
      }), K(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100;
      });
      function lo(d, m) {
        K(0, [d, d.length], 0, m);
      }
      lo("gggg", "weekYear"), lo("ggggg", "weekYear"), lo("GGGG", "isoWeekYear"), lo("GGGGG", "isoWeekYear"), De("G", qt), De("g", qt), De("GG", Ie, T), De("gg", Ie, T), De("GGGG", Xt, le), De("gggg", Xt, le), De("GGGGG", Zt, Se), De("ggggg", Zt, Se), Pa(
        ["gggg", "ggggg", "GGGG", "GGGGG"],
        function(d, m, x, k) {
          m[k.substr(0, 2)] = Qe(d);
        }
      ), Pa(["gg", "GG"], function(d, m, x, k) {
        m[k] = r.parseTwoDigitYear(d);
      });
      function rS(d) {
        return Up.call(
          this,
          d,
          this.week(),
          this.weekday() + this.localeData()._week.dow,
          this.localeData()._week.dow,
          this.localeData()._week.doy
        );
      }
      function iS(d) {
        return Up.call(
          this,
          d,
          this.isoWeek(),
          this.isoWeekday(),
          1,
          4
        );
      }
      function aS() {
        return _r(this.year(), 1, 4);
      }
      function sS() {
        return _r(this.isoWeekYear(), 1, 4);
      }
      function oS() {
        var d = this.localeData()._week;
        return _r(this.year(), d.dow, d.doy);
      }
      function lS() {
        var d = this.localeData()._week;
        return _r(this.weekYear(), d.dow, d.doy);
      }
      function Up(d, m, x, k, M) {
        var W;
        return d == null ? Ga(this, k, M).year : (W = _r(d, k, M), m > W && (m = W), cS.call(this, d, m, x, k, M));
      }
      function cS(d, m, x, k, M) {
        var W = Ip(d, m, x, k, M), ee = Ba(W.year, 0, W.dayOfYear);
        return this.year(ee.getUTCFullYear()), this.month(ee.getUTCMonth()), this.date(ee.getUTCDate()), this;
      }
      K("Q", 0, "Qo", "quarter"), De("Q", J), ft("Q", function(d, m) {
        m[Sr] = (Qe(d) - 1) * 3;
      });
      function uS(d) {
        return d == null ? Math.ceil((this.month() + 1) / 3) : this.month((d - 1) * 3 + this.month() % 3);
      }
      K("D", ["DD", 2], "Do", "date"), De("D", Ie, Yi), De("DD", Ie, T), De("Do", function(d, m) {
        return d ? m._dayOfMonthOrdinalParse || m._ordinalParse : m._dayOfMonthOrdinalParseLenient;
      }), ft(["D", "DD"], ir), ft("Do", function(d, m) {
        m[ir] = Qe(d.match(Ie)[0]);
      });
      var Xp = Wi("Date", !0);
      K("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), De("DDD", Gt), De("DDDD", X), ft(["DDD", "DDDD"], function(d, m, x) {
        x._dayOfYear = Qe(d);
      });
      function dS(d) {
        var m = Math.round(
          (this.clone().startOf("day") - this.clone().startOf("year")) / 864e5
        ) + 1;
        return d == null ? m : this.add(d - m, "d");
      }
      K("m", ["mm", 2], 0, "minute"), De("m", Ie, dc), De("mm", Ie, T), ft(["m", "mm"], Zn);
      var fS = Wi("Minutes", !1);
      K("s", ["ss", 2], 0, "second"), De("s", Ie, dc), De("ss", Ie, T), ft(["s", "ss"], Ir);
      var pS = Wi("Seconds", !1);
      K("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
      }), K(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10);
      }), K(0, ["SSS", 3], 0, "millisecond"), K(0, ["SSSS", 4], 0, function() {
        return this.millisecond() * 10;
      }), K(0, ["SSSSS", 5], 0, function() {
        return this.millisecond() * 100;
      }), K(0, ["SSSSSS", 6], 0, function() {
        return this.millisecond() * 1e3;
      }), K(0, ["SSSSSSS", 7], 0, function() {
        return this.millisecond() * 1e4;
      }), K(0, ["SSSSSSSS", 8], 0, function() {
        return this.millisecond() * 1e5;
      }), K(0, ["SSSSSSSSS", 9], 0, function() {
        return this.millisecond() * 1e6;
      }), De("S", Gt, J), De("SS", Gt, T), De("SSS", Gt, X);
      var qr, Zp;
      for (qr = "SSSS"; qr.length <= 9; qr += "S")
        De(qr, bt);
      function hS(d, m) {
        m[di] = Qe(("0." + d) * 1e3);
      }
      for (qr = "S"; qr.length <= 9; qr += "S")
        ft(qr, hS);
      Zp = Wi("Milliseconds", !1), K("z", 0, 0, "zoneAbbr"), K("zz", 0, 0, "zoneName");
      function mS() {
        return this._isUTC ? "UTC" : "";
      }
      function gS() {
        return this._isUTC ? "Coordinated Universal Time" : "";
      }
      var pe = N.prototype;
      pe.add = l1, pe.calendar = m1, pe.clone = g1, pe.diff = S1, pe.endOf = R1, pe.format = k1, pe.from = N1, pe.fromNow = A1, pe.to = D1, pe.toNow = O1, pe.get = Ew, pe.invalidAt = W1, pe.isAfter = v1, pe.isBefore = y1, pe.isBetween = b1, pe.isSame = x1, pe.isSameOrAfter = w1, pe.isSameOrBefore = C1, pe.isValid = G1, pe.lang = Wp, pe.locale = Yp, pe.localeData = zp, pe.max = GC, pe.min = BC, pe.parsingFlags = Y1, pe.set = kw, pe.startOf = M1, pe.subtract = c1, pe.toArray = L1, pe.toObject = V1, pe.toDate = P1, pe.toISOString = _1, pe.inspect = E1, typeof Symbol < "u" && Symbol.for != null && (pe[/* @__PURE__ */ Symbol.for("nodejs.util.inspect.custom")] = function() {
        return "Moment<" + this.format() + ">";
      }), pe.toJSON = B1, pe.toString = I1, pe.unix = F1, pe.valueOf = T1, pe.creationData = z1, pe.eraName = U1, pe.eraNarrow = X1, pe.eraAbbr = Z1, pe.eraYear = q1, pe.year = vp, pe.isLeapYear = _w, pe.weekYear = rS, pe.isoWeekYear = iS, pe.quarter = pe.quarters = uS, pe.month = Cp, pe.daysInMonth = Pw, pe.week = pe.weeks = Hw, pe.isoWeek = pe.isoWeeks = jw, pe.weeksInYear = oS, pe.weeksInWeekYear = lS, pe.isoWeeksInYear = aS, pe.isoWeeksInISOWeekYear = sS, pe.date = Xp, pe.day = pe.days = iC, pe.weekday = aC, pe.isoWeekday = sC, pe.dayOfYear = dS, pe.hour = pe.hours = pC, pe.minute = pe.minutes = fS, pe.second = pe.seconds = pS, pe.millisecond = pe.milliseconds = Zp, pe.utcOffset = ZC, pe.utc = JC, pe.local = QC, pe.parseZone = KC, pe.hasAlignedHourOffset = e1, pe.isDST = t1, pe.isLocal = r1, pe.isUtcOffset = i1, pe.isUtc = Pp, pe.isUTC = Pp, pe.zoneAbbr = mS, pe.zoneName = gS, pe.dates = P(
        "dates accessor is deprecated. Use date instead.",
        Xp
      ), pe.months = P(
        "months accessor is deprecated. Use month instead",
        Cp
      ), pe.years = P(
        "years accessor is deprecated. Use year instead",
        vp
      ), pe.zone = P(
        "moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
        qC
      ), pe.isDSTShifted = P(
        "isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
        n1
      );
      function vS(d) {
        return St(d * 1e3);
      }
      function yS() {
        return St.apply(null, arguments).parseZone();
      }
      function qp(d) {
        return d;
      }
      var it = q.prototype;
      it.calendar = Ce, it.longDateFormat = He, it.invalidDate = rt, it.ordinal = Bt, it.preparse = qp, it.postformat = qp, it.relativeTime = jt, it.pastFuture = Ft, it.set = H, it.eras = H1, it.erasParse = j1, it.erasConvertYear = $1, it.erasAbbrRegex = Q1, it.erasNameRegex = J1, it.erasNarrowRegex = K1, it.months = Mw, it.monthsShort = Rw, it.monthsParse = Fw, it.monthsRegex = Vw, it.monthsShortRegex = Lw, it.week = Gw, it.firstDayOfYear = zw, it.firstDayOfWeek = Ww, it.weekdays = Kw, it.weekdaysMin = tC, it.weekdaysShort = eC, it.weekdaysParse = rC, it.weekdaysRegex = oC, it.weekdaysShortRegex = lC, it.weekdaysMinRegex = cC, it.isPM = dC, it.meridiem = hC;
      function co(d, m, x, k) {
        var M = Er(), W = y().set(k, m);
        return M[x](W, d);
      }
      function Jp(d, m, x) {
        if (f(d) && (m = d, d = void 0), d = d || "", m != null)
          return co(d, m, x, "month");
        var k, M = [];
        for (k = 0; k < 12; k++)
          M[k] = co(d, k, x, "month");
        return M;
      }
      function Nc(d, m, x, k) {
        typeof d == "boolean" ? (f(m) && (x = m, m = void 0), m = m || "") : (m = d, x = m, d = !1, f(m) && (x = m, m = void 0), m = m || "");
        var M = Er(), W = d ? M._week.dow : 0, ee, Ae = [];
        if (x != null)
          return co(m, (x + W) % 7, k, "day");
        for (ee = 0; ee < 7; ee++)
          Ae[ee] = co(m, (ee + W) % 7, k, "day");
        return Ae;
      }
      function bS(d, m) {
        return Jp(d, m, "months");
      }
      function xS(d, m) {
        return Jp(d, m, "monthsShort");
      }
      function wS(d, m, x) {
        return Nc(d, m, x, "weekdays");
      }
      function CS(d, m, x) {
        return Nc(d, m, x, "weekdaysShort");
      }
      function SS(d, m, x) {
        return Nc(d, m, x, "weekdaysMin");
      }
      Zr("en", {
        eras: [
          {
            since: "0001-01-01",
            until: 1 / 0,
            offset: 1,
            name: "Anno Domini",
            narrow: "AD",
            abbr: "AD"
          },
          {
            since: "0000-12-31",
            until: -1 / 0,
            offset: 1,
            name: "Before Christ",
            narrow: "BC",
            abbr: "BC"
          }
        ],
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(d) {
          var m = d % 10, x = Qe(d % 100 / 10) === 1 ? "th" : m === 1 ? "st" : m === 2 ? "nd" : m === 3 ? "rd" : "th";
          return d + x;
        }
      }), r.lang = P(
        "moment.lang is deprecated. Use moment.locale instead.",
        Zr
      ), r.langData = P(
        "moment.langData is deprecated. Use moment.localeData instead.",
        Er
      );
      var kr = Math.abs;
      function IS() {
        var d = this._data;
        return this._milliseconds = kr(this._milliseconds), this._days = kr(this._days), this._months = kr(this._months), d.milliseconds = kr(d.milliseconds), d.seconds = kr(d.seconds), d.minutes = kr(d.minutes), d.hours = kr(d.hours), d.months = kr(d.months), d.years = kr(d.years), this;
      }
      function Qp(d, m, x, k) {
        var M = qn(m, x);
        return d._milliseconds += k * M._milliseconds, d._days += k * M._days, d._months += k * M._months, d._bubble();
      }
      function _S(d, m) {
        return Qp(this, d, m, 1);
      }
      function ES(d, m) {
        return Qp(this, d, m, -1);
      }
      function Kp(d) {
        return d < 0 ? Math.floor(d) : Math.ceil(d);
      }
      function kS() {
        var d = this._milliseconds, m = this._days, x = this._months, k = this._data, M, W, ee, Ae, ze;
        return d >= 0 && m >= 0 && x >= 0 || d <= 0 && m <= 0 && x <= 0 || (d += Kp(Ac(x) + m) * 864e5, m = 0, x = 0), k.milliseconds = d % 1e3, M = Rn(d / 1e3), k.seconds = M % 60, W = Rn(M / 60), k.minutes = W % 60, ee = Rn(W / 60), k.hours = ee % 24, m += Rn(ee / 24), ze = Rn(eh(m)), x += ze, m -= Kp(Ac(ze)), Ae = Rn(x / 12), x %= 12, k.days = m, k.months = x, k.years = Ae, this;
      }
      function eh(d) {
        return d * 4800 / 146097;
      }
      function Ac(d) {
        return d * 146097 / 4800;
      }
      function NS(d) {
        if (!this.isValid())
          return NaN;
        var m, x, k = this._milliseconds;
        if (d = V(d), d === "month" || d === "quarter" || d === "year")
          switch (m = this._days + k / 864e5, x = this._months + eh(m), d) {
            case "month":
              return x;
            case "quarter":
              return x / 3;
            case "year":
              return x / 12;
          }
        else
          switch (m = this._days + Math.round(Ac(this._months)), d) {
            case "week":
              return m / 7 + k / 6048e5;
            case "day":
              return m + k / 864e5;
            case "hour":
              return m * 24 + k / 36e5;
            case "minute":
              return m * 1440 + k / 6e4;
            case "second":
              return m * 86400 + k / 1e3;
            // Math.floor prevents floating point math errors here
            case "millisecond":
              return Math.floor(m * 864e5) + k;
            default:
              throw new Error("Unknown unit " + d);
          }
      }
      function Nr(d) {
        return function() {
          return this.as(d);
        };
      }
      var th = Nr("ms"), AS = Nr("s"), DS = Nr("m"), OS = Nr("h"), MS = Nr("d"), RS = Nr("w"), TS = Nr("M"), FS = Nr("Q"), PS = Nr("y"), LS = th;
      function VS() {
        return qn(this);
      }
      function BS(d) {
        return d = V(d), this.isValid() ? this[d + "s"]() : NaN;
      }
      function pi(d) {
        return function() {
          return this.isValid() ? this._data[d] : NaN;
        };
      }
      var GS = pi("milliseconds"), YS = pi("seconds"), WS = pi("minutes"), zS = pi("hours"), HS = pi("days"), jS = pi("months"), $S = pi("years");
      function US() {
        return Rn(this.days() / 7);
      }
      var Ar = Math.round, $i = {
        ss: 44,
        // a few seconds to seconds
        s: 45,
        // seconds to minute
        m: 45,
        // minutes to hour
        h: 22,
        // hours to day
        d: 26,
        // days to month/week
        w: null,
        // weeks to month
        M: 11
        // months to year
      };
      function XS(d, m, x, k, M) {
        return M.relativeTime(m || 1, !!x, d, k);
      }
      function ZS(d, m, x, k) {
        var M = qn(d).abs(), W = Ar(M.as("s")), ee = Ar(M.as("m")), Ae = Ar(M.as("h")), ze = Ar(M.as("d")), et = Ar(M.as("M")), dn = Ar(M.as("w")), Dr = Ar(M.as("y")), Jr = W <= x.ss && ["s", W] || W < x.s && ["ss", W] || ee <= 1 && ["m"] || ee < x.m && ["mm", ee] || Ae <= 1 && ["h"] || Ae < x.h && ["hh", Ae] || ze <= 1 && ["d"] || ze < x.d && ["dd", ze];
        return x.w != null && (Jr = Jr || dn <= 1 && ["w"] || dn < x.w && ["ww", dn]), Jr = Jr || et <= 1 && ["M"] || et < x.M && ["MM", et] || Dr <= 1 && ["y"] || ["yy", Dr], Jr[2] = m, Jr[3] = +d > 0, Jr[4] = k, XS.apply(null, Jr);
      }
      function qS(d) {
        return d === void 0 ? Ar : typeof d == "function" ? (Ar = d, !0) : !1;
      }
      function JS(d, m) {
        return $i[d] === void 0 ? !1 : m === void 0 ? $i[d] : ($i[d] = m, d === "s" && ($i.ss = m - 1), !0);
      }
      function QS(d, m) {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var x = !1, k = $i, M, W;
        return typeof d == "object" && (m = d, d = !1), typeof d == "boolean" && (x = d), typeof m == "object" && (k = Object.assign({}, $i, m), m.s != null && m.ss == null && (k.ss = m.s - 1)), M = this.localeData(), W = ZS(this, !x, k, M), x && (W = M.pastFuture(+this, W)), M.postformat(W);
      }
      var Dc = Math.abs;
      function Ui(d) {
        return (d > 0) - (d < 0) || +d;
      }
      function uo() {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var d = Dc(this._milliseconds) / 1e3, m = Dc(this._days), x = Dc(this._months), k, M, W, ee, Ae = this.asSeconds(), ze, et, dn, Dr;
        return Ae ? (k = Rn(d / 60), M = Rn(k / 60), d %= 60, k %= 60, W = Rn(x / 12), x %= 12, ee = d ? d.toFixed(3).replace(/\.?0+$/, "") : "", ze = Ae < 0 ? "-" : "", et = Ui(this._months) !== Ui(Ae) ? "-" : "", dn = Ui(this._days) !== Ui(Ae) ? "-" : "", Dr = Ui(this._milliseconds) !== Ui(Ae) ? "-" : "", ze + "P" + (W ? et + W + "Y" : "") + (x ? et + x + "M" : "") + (m ? dn + m + "D" : "") + (M || k || d ? "T" : "") + (M ? Dr + M + "H" : "") + (k ? Dr + k + "M" : "") + (d ? Dr + ee + "S" : "")) : "P0D";
      }
      var tt = ro.prototype;
      tt.isValid = jC, tt.abs = IS, tt.add = _S, tt.subtract = ES, tt.as = NS, tt.asMilliseconds = th, tt.asSeconds = AS, tt.asMinutes = DS, tt.asHours = OS, tt.asDays = MS, tt.asWeeks = RS, tt.asMonths = TS, tt.asQuarters = FS, tt.asYears = PS, tt.valueOf = LS, tt._bubble = kS, tt.clone = VS, tt.get = BS, tt.milliseconds = GS, tt.seconds = YS, tt.minutes = WS, tt.hours = zS, tt.days = HS, tt.weeks = US, tt.months = jS, tt.years = $S, tt.humanize = QS, tt.toISOString = uo, tt.toString = uo, tt.toJSON = uo, tt.locale = Yp, tt.localeData = zp, tt.toIsoString = P(
        "toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
        uo
      ), tt.lang = Wp, K("X", 0, 0, "unix"), K("x", 0, 0, "valueOf"), De("x", qt), De("X", bw), ft("X", function(d, m, x) {
        x._d = new Date(parseFloat(d) * 1e3);
      }), ft("x", function(d, m, x) {
        x._d = new Date(Qe(d));
      });
      return r.version = "2.30.1", i(St), r.fn = pe, r.min = YC, r.max = WC, r.now = zC, r.utc = y, r.unix = vS, r.months = bS, r.isDate = p, r.locale = Zr, r.invalid = b, r.duration = qn, r.isMoment = D, r.weekdays = wS, r.parseZone = yS, r.localeData = Er, r.isDuration = io, r.monthsShort = xS, r.weekdaysMin = SS, r.defineLocale = vc, r.updateLocale = yC, r.locales = bC, r.weekdaysShort = CS, r.normalizeUnits = V, r.relativeTimeRounding = qS, r.relativeTimeThreshold = JS, r.calendarFormat = h1, r.prototype = pe, r.HTML5_FMT = {
        DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
        // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
        // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
        // <input type="datetime-local" step="0.001" />
        DATE: "YYYY-MM-DD",
        // <input type="date" />
        TIME: "HH:mm",
        // <input type="time" />
        TIME_SECONDS: "HH:mm:ss",
        // <input type="time" step="1" />
        TIME_MS: "HH:mm:ss.SSS",
        // <input type="time" step="0.001" />
        WEEK: "GGGG-[W]WW",
        // <input type="week" />
        MONTH: "YYYY-MM"
        // <input type="month" />
      }, r;
    }));
  })(Wo)), Wo.exports;
}
var zB = WB();
const Do = /* @__PURE__ */ li(zB);
function Wg({
  issue: e,
  equipment: t,
  issueAttachments: n,
  reloadQueryFn: r,
  expanded: i = !0
}) {
  const [a, s] = B(null), [o, c] = B(!1), [u, f] = B(i), p = (y) => {
    r(["issue", "attachment", "status_mail"]), r(["issue", "status_mail"]);
  }, g = () => n.filter((y) => y.issue.id === e.id), h = () => {
    s(
      /* @__PURE__ */ l(
        Js,
        {
          equipment: t,
          showModal: !0,
          onClose: (y) => {
            c(!1), y && p();
          },
          issue: e,
          attachments: g()
        }
      )
    ), c(!0);
  };
  return /* @__PURE__ */ v("div", { className: "p-3 mb-4 border-bottom", children: [
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center mb-2", children: [
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l(hn, { bg: "dark", children: "Issue" }),
        /* @__PURE__ */ l("h4", { className: e.date_closed ? "text-danger mb-0" : "mb-0", children: e.date_closed ? /* @__PURE__ */ l("s", { children: e.issue }) : e.issue })
      ] }),
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l(
          ce,
          {
            variant: "outline-primary",
            size: "sm",
            onClick: () => f((y) => !y),
            "aria-label": "Toggle Details",
            children: u ? "Hide Details" : "Show Details"
          }
        ),
        /* @__PURE__ */ l(ce, { variant: "secondary", size: "sm", onClick: h, "aria-label": "Edit Issue", children: "Edit" })
      ] })
    ] }),
    u && /* @__PURE__ */ v(ve, { children: [
      /* @__PURE__ */ l("div", { className: "mb-2", children: /* @__PURE__ */ l(Gi, { children: e.description }) }),
      /* @__PURE__ */ l("p", { className: "mb-3", children: e.actions }),
      /* @__PURE__ */ v("div", { className: "d-flex flex-wrap gap-4 text-muted", children: [
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Creator" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: e.owner.full_name })
        ] }),
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Date Created" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: Do(e.date_created).format("DD MMMM YYYY") })
        ] }),
        e.date_closed && /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Date Closed" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: Do(e.date_closed).format("DD MMMM YYYY") })
        ] }),
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Forecast Up" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: Do(e.forecast_up).format("DD MMMM YYYY") })
        ] }),
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Issue Type" }),
          /* @__PURE__ */ v("div", { className: "text-body", children: [
            e.issue_type === Pr.DEFAULT && "Issue",
            e.issue_type === Pr.ESCALATION && "Escalation",
            e.issue_type === Pr.PRIORITY && "Priority"
          ] })
        ] }),
        /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Attachments" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: e.attachments })
        ] }),
        e.updated_by && /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Last Update By" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: e.updated_by.full_name })
        ] }),
        e.last_update && /* @__PURE__ */ v("div", { children: [
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Last Update" }),
          /* @__PURE__ */ l("div", { className: "text-body", children: Do(e.last_update).format("DD MMMM YYYY") })
        ] })
      ] })
    ] }),
    o && a
  ] });
}
function zg({
  reservations: e
}) {
  if (!e || e.length < 1)
    return /* @__PURE__ */ l(ve, {});
  const t = e[0];
  return /* @__PURE__ */ l(
    Di,
    {
      placement: "top",
      overlay: /* @__PURE__ */ v(si, { id: `tooltip-${t.id}`, children: [
        /* @__PURE__ */ l("h5", { children: t.title }),
        /* @__PURE__ */ l("p", { children: e[0].active ? "Currently active" : `Upcoming in: ${xe(e[0].start).format("DD MMMM YYYY")}` }),
        /* @__PURE__ */ l("p", { children: e[1] ? `Next upcoming reservation in: ${xe(e[1].start).format("DD MMMM YYYY")}` : "No next upcoming reservations" })
      ] }),
      children: /* @__PURE__ */ v(hn, { bg: e[0].active ? "info" : "dark", children: [
        "Reserved by: ",
        e[0].user.full_name
      ] })
    }
  );
}
function HB({
  equipment: e,
  modules: t,
  issues: n,
  issueAttachments: r,
  ecnNotes: i,
  ecnAttachments: a,
  reloadQueryFn: s,
  showIssues: o,
  reservations: c
}) {
  const [u, f] = B(null), [p, g] = B(!1), [h, y] = B(null), [_, S] = B(!1), [w, I] = B([]), [b, E] = B(void 0), [C, A] = B([]), [N, D] = B([]), F = (L) => {
    s(["ecn", "attachment", "status_mail"]), A([...C, L]);
  }, P = (L) => {
    s(["issue", "status_mail"]), s(["issue", "attachment", "status_mail"]), D([...N, L]);
  };
  re(() => {
    A(i), D(n), I(t.filter((L) => L.equipment.id === e.id && !L.type.is_main_tool)), E(t.findLast((L) => L.equipment.id === e.id && L.type.is_main_tool));
  }, [i, n, e, t]);
  const G = (L) => C.filter((q) => q.module_id === L), Y = (L) => N.filter((q) => q.module_id === L), z = () => {
    y(
      /* @__PURE__ */ l(
        Ul,
        {
          equipment: e,
          showModal: !0,
          onClose: (L) => {
            S(!1), L && F(L);
          }
        }
      )
    ), S(!0);
  }, H = () => {
    f(
      /* @__PURE__ */ l(
        Js,
        {
          equipment: e,
          showModal: !0,
          onClose: (L) => {
            g(!1), L && P(L);
          }
        }
      )
    ), g(!0);
  };
  return /* @__PURE__ */ v("div", { className: "card mb-4", children: [
    /* @__PURE__ */ v("div", { className: "card-header d-flex justify-content-between align-items-center", children: [
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ v("h4", { className: "mb-0", children: [
          e.number,
          " - ",
          e.name
        ] }),
        b && /* @__PURE__ */ l(Oi, { module: b }),
        b && /* @__PURE__ */ l(
          zg,
          {
            reservations: c.filter(
              (L) => L.modules.some((q) => q.id === b.id)
            )
          }
        )
      ] }),
      /* @__PURE__ */ v(Ps, { as: _v, title: "Action", id: "bg-nested-dropdown", children: [
        /* @__PURE__ */ l(je.Item, { eventKey: "1", onClick: z, children: "New ECN" }),
        o !== 1 && /* @__PURE__ */ l(je.Item, { eventKey: "1", onClick: H, children: "New Issue" })
      ] })
    ] }),
    /* @__PURE__ */ l("div", { className: "card-body", children: /* @__PURE__ */ v(Yn, { children: [
      b && /* @__PURE__ */ l(Mt, { xs: 12, md: w.length > 0 ? 6 : 12, children: /* @__PURE__ */ l(Ze, { className: "mb-3", children: /* @__PURE__ */ v(Ze.Body, { children: [
        /* @__PURE__ */ v(Ze.Title, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { children: "Main module" }),
          /* @__PURE__ */ l("div", { className: "ms-2" })
        ] }),
        /* @__PURE__ */ v("div", { className: "mt-3", children: [
          G(b.id).map((L, q) => /* @__PURE__ */ l(
            Gg,
            {
              ecn: L,
              equipment: e,
              ecnAttachments: a,
              reloadQueryFn: s,
              expanded: !0
            },
            q
          )),
          o !== 1 && Y(b.id).map((L, q) => /* @__PURE__ */ l(
            Wg,
            {
              issue: L,
              equipment: e,
              issueAttachments: r,
              reloadQueryFn: s,
              expanded: o !== 3
            },
            q
          ))
        ] })
      ] }) }) }),
      w.length > 0 && /* @__PURE__ */ l(Mt, { xs: 12, md: b ? 6 : 12, children: w.map((L, q) => /* @__PURE__ */ l(Ze, { className: "mb-3", children: /* @__PURE__ */ v(Ze.Body, { children: [
        /* @__PURE__ */ l(Ze.Title, { className: "d-flex align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
          /* @__PURE__ */ l("span", { children: L.name }),
          /* @__PURE__ */ l(Oi, { module: L }),
          /* @__PURE__ */ l(
            zg,
            {
              reservations: c.filter(
                (te) => te.modules.some((ge) => ge.id === L.id)
              )
            }
          )
        ] }) }),
        /* @__PURE__ */ v("div", { className: "mt-3", children: [
          G(L.id).map((te, ge) => /* @__PURE__ */ l(
            Gg,
            {
              ecn: te,
              equipment: e,
              ecnAttachments: a,
              reloadQueryFn: s,
              expanded: !0
            },
            ge
          )),
          o !== 1 && Y(L.id).map((te, ge) => /* @__PURE__ */ l(
            Wg,
            {
              issue: te,
              equipment: e,
              issueAttachments: r,
              reloadQueryFn: s,
              expanded: o !== 3
            },
            ge
          ))
        ] })
      ] }) }, q)) })
    ] }) }),
    _ && h,
    p && u
  ] });
}
const zx = ({ showModal: e, onClose: t, message: n }) => {
  const { register: r, handleSubmit: i, setValue: a, reset: s, control: o } = rn({
    defaultValues: {
      title: n?.title,
      description: n?.description,
      rooms: n?.rooms,
      type: n?.type,
      owner: n?.owner
    }
  }), [c, u] = B([]), [f, p] = B([]), [g, h] = B(""), y = () => document.documentElement.getAttribute("data-bs-theme") === "dark", _ = {
    control: (b) => ({
      ...b,
      backgroundColor: y() ? "#212529" : b.backgroundColor,
      borderColor: y() ? "#495057" : b.borderColor,
      color: y() ? "#fff" : b.color
    }),
    menu: (b) => ({
      ...b,
      backgroundColor: y() ? "#212529" : b.backgroundColor
    }),
    option: (b, E) => ({
      ...b,
      backgroundColor: y() ? E.isSelected ? "#0d6efd" : E.isFocused ? "#343a40" : "#212529" : b.backgroundColor,
      color: y() ? "#fff" : b.color
    }),
    singleValue: (b) => ({
      ...b,
      color: y() ? "#fff" : b.color
    }),
    multiValue: (b) => ({
      ...b,
      backgroundColor: y() ? "#343a40" : b.backgroundColor
    }),
    multiValueLabel: (b) => ({
      ...b,
      color: y() ? "#fff" : b.color
    }),
    input: (b) => ({
      ...b,
      color: y() ? "#fff" : b.color
    })
  };
  let { statusMail: S } = ke(Ef);
  re(() => {
    ae.get("/list/room").then((b) => {
      const C = (b.data._embedded.items || []).map((A) => ({
        value: A,
        label: A.name
      }));
      u(C);
    }).catch((b) => {
      console.error("Error fetching rooms:", b), h("Error fetching rooms:" + b);
    }), ae.get("/list/location/message/type").then((b) => {
      const E = S.filter.messageType, A = (b.data._embedded.items || []).filter((N) => E.includes(N.id.toString())).map((N) => ({
        value: N,
        label: N.type
      }));
      p(A), a("type", n?.type || A[0].value);
    }).catch((b) => {
      console.error("Error fetching message types:", b), h("Error fetching message types:" + b);
    });
  }, []);
  const w = (b) => {
    if (b.title) {
      if (b?.owner.value === void 0 && n?.owner === void 0) return "owner";
      if (b.rooms === void 0 || b.rooms.map((E) => E.id).length <= 0) return "room";
      if (!b.type) return "type";
    } else return "title";
    return "";
  };
  return /* @__PURE__ */ l(be, { show: e, size: "lg", centered: !0, onHide: () => t(n), children: /* @__PURE__ */ v(j, { onSubmit: i(async (b) => {
    const E = w(b);
    if (E !== "") {
      h("Please fill: " + E);
      return;
    }
    try {
      const C = {
        title: b.title,
        description: b.description,
        // @ts-ignore
        owner: b?.owner.value || n?.owner.id,
        type: b.type.id,
        rooms: b.rooms.map((N) => N.id)
      };
      let A;
      if (n ? A = await ae.patch(`/update/location/message/${n.id}`, C) : A = await ae.post("/create/location/message", C), A) {
        t(A?.data), s();
        return;
      }
      console.error("No response received"), h("No response received");
    } catch (C) {
      console.error("Error submitting the form:", C), h("Error submitting the form:" + C);
    }
  }), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Edit status mail message" }) }),
    /* @__PURE__ */ v(be.Body, { children: [
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Title" }),
        /* @__PURE__ */ l(j.Control, { type: "text", placeholder: "Enter the title", ...r("title") })
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Message" }),
        /* @__PURE__ */ l(j.Control, { as: "textarea", rows: 3, placeholder: "Give the message", ...r("description") })
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Owner" }),
        /* @__PURE__ */ l(
          Hs,
          {
            control: o,
            ...r("owner", {
              required: "Owner is required"
            }),
            name: "owner"
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Rooms" }),
        /* @__PURE__ */ l(
          jn,
          {
            name: "rooms",
            control: o,
            render: ({ field: b }) => /* @__PURE__ */ l(
              td,
              {
                isMulti: !0,
                options: c,
                classNamePrefix: "react-select",
                placeholder: "Select one or more rooms",
                value: c.filter((E) => b.value?.some((C) => C.id === E.value.id)),
                onChange: (E) => b.onChange(E.map((C) => C.value)),
                styles: _
              }
            )
          }
        )
      ] }),
      /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Type" }),
        /* @__PURE__ */ l(
          jn,
          {
            name: "type",
            control: o,
            render: ({ field: b }) => /* @__PURE__ */ l(
              td,
              {
                options: f,
                classNamePrefix: "react-select",
                placeholder: "Select a message type",
                value: f.find((E) => E.value.id === b.value?.id) || null,
                onChange: (E) => b.onChange(E?.value),
                styles: _
              }
            )
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ v(be.Footer, { children: [
      g != "" && /* @__PURE__ */ l("span", { className: "text-danger", children: g }),
      /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => t(n), children: "Cancel" }),
      /* @__PURE__ */ l(ce, { variant: "primary", type: "submit", children: n ? "Update Message" : "Create Message" })
    ] })
  ] }) });
};
function jB({ message: e }) {
  const [t, n] = B(null), [r, i] = B(!1), [a, s] = B(e), o = (u) => {
    s({
      ...a,
      ...u
    });
  }, c = () => {
    n(
      /* @__PURE__ */ l(
        zx,
        {
          showModal: !0,
          onClose: (u) => {
            i(!1), u && o(u);
          },
          message: a
        }
      )
    ), i(!0);
  };
  return /* @__PURE__ */ v("div", { className: "card mb-4", children: [
    /* @__PURE__ */ v("div", { className: "card-header d-flex justify-content-between align-items-center", children: [
      /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
        /* @__PURE__ */ l(hn, { bg: "dark", children: a.type.type }),
        /* @__PURE__ */ l("h5", { className: "mb-0", children: a.title })
      ] }),
      /* @__PURE__ */ l(ce, { variant: "secondary", size: "sm", onClick: c, children: "Edit" })
    ] }),
    /* @__PURE__ */ l("div", { className: "card-body", children: /* @__PURE__ */ l(Gi, { children: a.description }) }),
    /* @__PURE__ */ l("div", { className: "card-footer bg-transparent", children: /* @__PURE__ */ v("small", { className: "text-muted d-flex flex-wrap gap-3", children: [
      /* @__PURE__ */ v("span", { children: [
        "Created: ",
        xe(a.date_created).format("DD MMM YYYY")
      ] }),
      a.last_update && /* @__PURE__ */ v("span", { children: [
        "Updated: ",
        xe(a.last_update).format("DD MMM YYYY")
      ] }),
      a.rooms.length > 0 && /* @__PURE__ */ v("span", { children: [
        "Rooms:",
        " ",
        a.rooms.map((u, f) => /* @__PURE__ */ v(ne.Fragment, { children: [
          f > 0 && ", ",
          u.name
        ] }, u.id))
      ] }),
      /* @__PURE__ */ v("span", { children: [
        "Owner: ",
        a.owner.full_name
      ] })
    ] }) }),
    r && t
  ] });
}
function $B({
  messageList: e,
  refetchFn: t
}) {
  const [n, r] = B(null), [i, a] = B(!1);
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("div", { className: "d-flex gap-3", children: [
      /* @__PURE__ */ l("h2", { children: "Messages" }),
      /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => {
        r(
          /* @__PURE__ */ l(
            zx,
            {
              showModal: !0,
              onClose: (o) => {
                a(!1), t();
              }
            }
          )
        ), a(!0);
      }, children: "New message" }) })
    ] }),
    e.map((o, c) => /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(jB, { message: o }) }, o.id)),
    i && n
  ] });
}
function UB({
  issue: e,
  moduleName: t,
  issueAttachments: n,
  equipment: r,
  reloadQueryFn: i
}) {
  const [a, s] = B(null), [o, c] = B(!1), u = (g) => {
    i(["issue", "status_mail"]), i(["issue", "attachment", "status_mail"]);
  }, f = () => n.filter((g) => g.issue.id === e.id), p = () => {
    if (!r) {
      console.error("equipment is null in the table");
      return;
    }
    c(!0), s(
      /* @__PURE__ */ l(
        Js,
        {
          equipment: r,
          showModal: !0,
          onClose: (g) => {
            c(!1), g && u();
          },
          issue: e,
          attachments: f()
        }
      )
    );
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("tr", { className: "align-middle", children: [
      /* @__PURE__ */ l("td", { className: "text-nowrap", children: t ?? "-" }),
      /* @__PURE__ */ l("td", { children: e.issue }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(Gi, { children: e.description }) }),
      /* @__PURE__ */ l("td", { className: "text-nowrap", children: xe(e.forecast_up).format("DD MMMM YYYY") }),
      /* @__PURE__ */ l("td", { className: "text-nowrap", children: e.owner.full_name }),
      /* @__PURE__ */ l("td", { className: "text-center", children: /* @__PURE__ */ l("button", { type: "button", className: "btn btn-sm btn-outline-light", onClick: p, children: "Edit" }) })
    ] }, e.id),
    o && a
  ] });
}
function XB({ issues: e, modules: t, issueAttachments: n, reloadQueryFn: r }) {
  return /* @__PURE__ */ l("div", { className: "table-responsive", children: /* @__PURE__ */ v("table", { className: "table table-hover table-striped table-bordered table-sm", children: [
    /* @__PURE__ */ l("thead", { className: "bg-primary text-white", children: /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("th", { scope: "col", children: "Module" }),
      /* @__PURE__ */ l("th", { scope: "col", children: "Issue" }),
      /* @__PURE__ */ l("th", { scope: "col", children: "Description" }),
      /* @__PURE__ */ l("th", { scope: "col", children: "Forecast Up" }),
      /* @__PURE__ */ l("th", { scope: "col", children: "Owner" }),
      /* @__PURE__ */ l("th", { scope: "col", className: "text-center", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ l("tbody", { children: e.map((i) => /* @__PURE__ */ l(
      UB,
      {
        issue: i,
        moduleName: t.find((a) => a.id === i.module_id)?.name,
        issueAttachments: n,
        equipment: t.find((a) => a.id === i.module_id)?.equipment,
        reloadQueryFn: r
      },
      i.id
    )) })
  ] }) });
}
function ZB({ statusMail: e }) {
  const [t, n] = B(!1), [r, i] = B(!1);
  return /* @__PURE__ */ l(ce, { variant: "primary", size: "sm", onClick: async () => {
    try {
      if (n(!0), !e.id || e.id <= 0)
        throw new Error("Status Mail ID is not correctly set");
      const s = {
        status_mail: e.id
      };
      await ae.post("/send/status-mail", s), i(!0);
    } catch (s) {
      console.error("Error sending status mail:", s), alert("Error sending status mail. Please try again.");
    } finally {
      n(!1);
    }
  }, disabled: t, "aria-label": "Toggle Details", children: t ? "Sending..." : r ? "Sending successful" : "Send Status Mail" });
}
function JY() {
  let { statusMail: e } = ke(Ef);
  const [t, n] = B([]), r = $n(), i = nn({
    queries: [
      {
        queryKey: ["equipment", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => ev({ statusMail: e })
      },
      {
        queryKey: ["module", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => Ni({ statusMail: e })
      },
      {
        queryKey: ["ecn", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => Dd({ statusMail: e })
      },
      {
        queryKey: ["issue", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => rv({ statusMail: e })
      },
      {
        queryKey: ["messages", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => _I({ statusMail: e })
      },
      {
        queryKey: ["ecn", "attachment", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => tv({ statusMail: e })
      },
      {
        queryKey: ["issue", "attachment", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => nv({ statusMail: e })
      },
      {
        queryKey: ["reservation", "active", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => Ho({ which: "active" })
      },
      {
        queryKey: ["reservation", "upcoming", "status_mail", JSON.stringify(e.filter)],
        queryFn: () => Ho({ which: "upcoming" })
      }
    ]
  }), a = (E) => {
    let C = E;
    C.push(JSON.stringify(e.filter)), r.refetchQueries({ queryKey: C });
  }, [
    s,
    o,
    c,
    u,
    f,
    p,
    g,
    h,
    y
  ] = i, _ = i.some((E) => E.isLoading), S = i.some((E) => E.isError), w = i.every((E) => E.isSuccess);
  re(() => {
    w && n(s.data.items);
  }, [w]);
  const I = () => {
    if (!t.length) return /* @__PURE__ */ l("p", { children: "No equipment available." });
    t.sort((N, D) => e.classification === mi.ROOM ? N.room.name.localeCompare(D.room.name) : N.area && D.area && e.classification === mi.AREA ? N.area.title.localeCompare(D.area.title) : N.area && D.area && e.classification === mi.AREA_PER_FACILITY ? N.area.facility.title.localeCompare(D.area.facility.title) || N.area.title.localeCompare(D.area.title) : 0);
    let E, C = null, A = "";
    return t.map((N, D) => {
      const F = [];
      return e.classification === mi.ROOM ? N.room.name !== A && (F.push(/* @__PURE__ */ v("h2", { children: [
        "Room: ",
        N.room.name
      ] }, `room-${N.room.name}`)), A = N.room.name) : e.classification === mi.AREA ? N.area && N.area !== C && (F.push(/* @__PURE__ */ v("h2", { children: [
        "Area: ",
        N.area.title
      ] }, `area-${N.area.id}`)), C = N.area) : e.classification === mi.AREA_PER_FACILITY && (N.area && N.area.facility !== E && (F.push(
        /* @__PURE__ */ v("h2", { children: [
          "Facility: ",
          N.area.facility.title
        ] }, `facility-${N.area.facility.id}`)
      ), E = N.area.facility), N.area && N.area !== C && (F.push(/* @__PURE__ */ v("h4", { children: [
        "Area: ",
        N.area.title
      ] }, `area-${N.area.id}`)), C = N.area)), F.push(
        /* @__PURE__ */ l(
          HB,
          {
            equipment: N,
            modules: o.data.items,
            issues: u.data.items,
            issueAttachments: g.data.items,
            ecnNotes: c.data.items,
            ecnAttachments: p.data.items,
            reloadQueryFn: a,
            showIssues: e.show_issues,
            reservations: e.show_reservations ? h.data.items.concat(y.data.items) : []
          },
          D
        )
      ), F;
    });
  }, b = () => {
    const E = u.data.items.filter((C) => C.issue_type === 2);
    return E.length === 0 ? /* @__PURE__ */ l(ve, {}) : /* @__PURE__ */ v(ve, { children: [
      /* @__PURE__ */ l("h2", { children: "Issues with priority" }),
      /* @__PURE__ */ l(
        XB,
        {
          issues: E,
          modules: o.data.items,
          issueAttachments: g.data.items,
          reloadQueryFn: a
        }
      )
    ] });
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center", children: [
      /* @__PURE__ */ v("h1", { className: "display-4", children: [
        "Status mail ",
        e.name
      ] }),
      /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ZB, { statusMail: e }) })
    ] }),
    /* @__PURE__ */ l("p", { children: e.subject }),
    _ && /* @__PURE__ */ l(Rt, { variant: "info", children: "Loading status mail" }),
    S && /* @__PURE__ */ l(Rt, { variant: "danger", children: "Error loading status mail" }),
    w && e.show_issues_with_priority && b(),
    w && f.data && /* @__PURE__ */ l($B, { messageList: f.data.items, refetchFn: f.refetch }),
    w && I()
  ] });
}
function qB(e) {
  if (!e) return null;
  if (e instanceof Date)
    return isNaN(e.getTime()) ? null : e;
  const t = new Date(e);
  return isNaN(t.getTime()) ? null : t;
}
function JB(e, t) {
  const n = qB(e);
  if (!n) return "";
  const r = (s) => s.toString().padStart(2, "0"), i = {
    YYYY: n.getFullYear().toString(),
    YY: n.getFullYear().toString().slice(-2),
    MM: r(n.getMonth() + 1),
    DD: r(n.getDate()),
    HH: r(n.getHours()),
    mm: r(n.getMinutes()),
    H: n.getHours().toString(),
    m: n.getMinutes().toString()
  };
  let a = t;
  return Object.keys(i).sort((s, o) => o.length - s.length).forEach((s) => {
    a = a.replace(new RegExp(s, "g"), i[s]);
  }), a;
}
function On(e, t = "DD-MM-YY HH:mm") {
  return JB(e, t);
}
function Hx({ monitor: e }) {
  const { environment: t } = mt(), [n] = nn({
    queries: [
      {
        queryKey: ["requirement", e],
        queryFn: () => iv({ monitorId: e.id })
      }
    ]
  });
  return n.isLoading ? /* @__PURE__ */ l("div", { children: "Loading requirements..." }) : n.data?.items.map((r, i) => {
    let a = "bg-secondary-subtle";
    if (r.latest_result)
      for (let s = 0; s < r.latest_result.values.length; s++) {
        if (r.latest_result.values[s].value_is_valid === !1) {
          a = "bg-danger-subtle";
          break;
        }
        if (r.latest_result.values[s].value_is_valid === !0) {
          a = "bg-success-subtle";
          break;
        }
      }
    return /* @__PURE__ */ l(Ze, { className: "mb-2 me-2", children: /* @__PURE__ */ v(Ze.Body, { className: a, children: [
      /* @__PURE__ */ l(Ze.Title, { children: /* @__PURE__ */ l(pn, { to: `/${t}/operator/monitor/` + e.id, children: e.name }) }),
      /* @__PURE__ */ v(Ze.Text, { children: [
        r.title,
        r.latest_result && /* @__PURE__ */ v(ve, { children: [
          "Latest measurement: ",
          On(r.latest_result.date_created, "DD-MM-YY HH:mm")
        ] })
      ] })
    ] }) }, i);
  });
}
const jx = ({ moduleId: e, size: t }) => {
  const [n, r] = B(!1), [i, a] = B(!1), [s, o] = B("");
  function c() {
    ae.create().post("create/equipment/module/changelog", {
      module: e,
      changelog: s
    }).finally(() => {
      r(!1), a(!0), o("");
    });
  }
  const u = (p) => {
    o(p.target.value);
  };
  function f() {
    return /* @__PURE__ */ l(Gs, { position: "top-end", className: "p-3", children: /* @__PURE__ */ v(Wn, { onClose: () => a(!1), show: i, delay: 3e3, autohide: !0, bg: "light", children: [
      /* @__PURE__ */ v(Wn.Header, { children: [
        /* @__PURE__ */ l("strong", { className: "me-auto", children: "Assist logged" }),
        /* @__PURE__ */ l("small", { children: "Just now" })
      ] }),
      /* @__PURE__ */ l(Wn.Body, { children: "Assist was logged successfully" })
    ] }) });
  }
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(ce, { variant: "primary", size: t, onClick: () => r(!0), children: "Log assist" }),
    /* @__PURE__ */ v(be, { show: n, size: "lg", onHide: () => r(!1), children: [
      /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Log assist" }) }),
      /* @__PURE__ */ l(be.Body, { children: /* @__PURE__ */ l(j, { children: /* @__PURE__ */ v(j.Group, { className: "mb-3", controlId: "modal.ControlTextarea1", children: [
        /* @__PURE__ */ l(j.Label, { children: "Describe the assist" }),
        /* @__PURE__ */ l(j.Control, { as: "textarea", rows: 3, value: s, onChange: (p) => u(p) })
      ] }) }) }),
      /* @__PURE__ */ v(be.Footer, { children: [
        /* @__PURE__ */ l(ce, { className: "float-end", variant: "primary", onClick: () => c(), children: "Log assist" }),
        /* @__PURE__ */ l(
          ce,
          {
            className: "float-end",
            variant: "secondary",
            onClick: () => {
              r(!1);
            },
            children: "Close"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ l(f, {})
  ] });
}, dp = vr({
  equipment: {},
  reloadEquipment: () => {
  }
});
function QB({
  issue: e,
  equipment: t,
  issueAttachments: n,
  reloadQueryFn: r
}) {
  const [i, a] = B(null), [s, o] = B(!1), [c, u] = B(e), f = (h) => {
    r(["issue", t.name]), r(["issue", "attachment", t.name]), u({
      ...c,
      ...h
    });
  }, p = () => n.filter((h) => h.issue.id === e.id), g = () => {
    a(
      /* @__PURE__ */ l(
        Js,
        {
          equipment: t,
          showModal: !0,
          onClose: (h) => {
            o(!1), h && f(h);
          },
          issue: c,
          attachments: p()
        }
      )
    ), o(!0);
  };
  return /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ v(Ze, { className: "my-2", children: [
      /* @__PURE__ */ v(Ze.Body, { children: [
        /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
          /* @__PURE__ */ v(Ze.Title, { children: [
            /* @__PURE__ */ l(hn, { bg: "dark", children: "Issue" }),
            " ",
            c.issue
          ] }),
          /* @__PURE__ */ l(ce, { variant: "secondary", size: "sm", onClick: g, children: "Edit" })
        ] }),
        /* @__PURE__ */ l(Ze.Text, { children: /* @__PURE__ */ l(Gi, { children: c.description }) })
      ] }),
      /* @__PURE__ */ v(kn, { className: "list-group-flush", children: [
        c.date_created && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Created:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: On(c.date_created, "DD-MM-YY HH:mm") })
        ] }),
        c.owner && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Owner:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: c.owner.full_name })
        ] }),
        c.updated_by && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Updated:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: c.updated_by.full_name }),
          /* @__PURE__ */ v("span", { className: "ms-1", children: [
            "(",
            On(c.last_update, "DD-MM-YY HH:mm"),
            ")"
          ] })
        ] })
      ] })
    ] }, c.module_id),
    s && i
  ] });
}
function KB({
  ecn: e,
  equipment: t,
  ecnAttachments: n,
  reloadQueryFn: r
}) {
  const [i, a] = B(null), [s, o] = B(!1), [c, u] = B(e), f = (h) => {
    r(["ecn", t.name]), r(["ecn", "attachment", t.name]), u({
      ...c,
      ...h
    });
  }, p = () => n.filter((h) => h.ecn.id === e.id), g = () => {
    a(
      /* @__PURE__ */ l(
        Ul,
        {
          equipment: t,
          showModal: !0,
          onClose: (h) => {
            o(!1), h && f(h);
          },
          ecn: c,
          attachments: p()
        }
      )
    ), o(!0);
  };
  return /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ v(Ze, { className: "my-2", children: [
      /* @__PURE__ */ v(Ze.Body, { children: [
        /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
          /* @__PURE__ */ v(Ze.Title, { children: [
            /* @__PURE__ */ l(hn, { bg: "dark", children: "ECN" }),
            " ",
            e.ecn
          ] }),
          /* @__PURE__ */ l(ce, { variant: "secondary", size: "sm", onClick: g, children: "Edit" })
        ] }),
        /* @__PURE__ */ l(Ze.Text, { children: /* @__PURE__ */ l(Gi, { children: e.description }) })
      ] }),
      /* @__PURE__ */ v(kn, { className: "list-group-flush", children: [
        c.date_created && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Created:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: On(c.date_created, "DD-MM-YY HH:mm") })
        ] }),
        c.owner && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Owner:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: c.owner.full_name })
        ] }),
        c.updated_by && /* @__PURE__ */ v(kn.Item, { className: "d-flex align-items-center", children: [
          /* @__PURE__ */ l("span", { className: "text-muted", children: "Updated:" }),
          /* @__PURE__ */ l("span", { className: "ms-1", children: c.updated_by.full_name }),
          /* @__PURE__ */ v("span", { className: "ms-1", children: [
            "(",
            On(c.last_update, "DD-MM-YY HH:mm"),
            ")"
          ] })
        ] })
      ] })
    ] }, e.module_id),
    s && i
  ] });
}
function eG() {
  const { id: e } = mt(), [t, n] = B([]), r = nn({
    queries: [
      {
        queryKey: ["service", "equipment", e],
        queryFn: () => GI({ equipmentId: Number(e) })
      }
    ]
  }), [i] = r, a = r.some((u) => u.isLoading), s = r.some((u) => u.isError), o = r.every((u) => u.isSuccess);
  if (re(() => {
    o && n(i.data.items);
  }, [o, i.data]), a)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  if (s)
    return /* @__PURE__ */ l("div", { children: "Error loading services." });
  const c = (u) => {
    if (u < 60) return `${u} min`;
    const f = Math.floor(u / 60), p = u % 60;
    return `${f}h ${p > 0 ? `${p}min` : ""}`.trim();
  };
  return i.data.items.length === 0 ? /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h2", { children: "Services" }),
    /* @__PURE__ */ l(Rt, { variant: "info", children: "No services found" })
  ] }) : /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h2", { children: "Services" }),
    /* @__PURE__ */ v(Qt, { striped: !0, bordered: !0, hover: !0, responsive: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "Id" }),
        /* @__PURE__ */ l("th", { children: "Name" }),
        /* @__PURE__ */ l("th", { children: "Type" }),
        /* @__PURE__ */ l("th", { children: "Team" }),
        /* @__PURE__ */ l("th", { children: "Department" }),
        /* @__PURE__ */ l("th", { children: "Duration" }),
        /* @__PURE__ */ l("th", { children: "Report2" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: t.map((u) => /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("td", { children: u.id }),
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("a", { href: `/${window.location.pathname.split("/")[1]}/service/details/${u.id}/general.html`, children: u.name }) }),
        /* @__PURE__ */ l("td", { children: u.type?.name || "N/A" }),
        /* @__PURE__ */ l("td", { children: u.team?.name || "N/A" }),
        /* @__PURE__ */ l("td", { children: u.department?.name || "N/A" }),
        /* @__PURE__ */ l("td", { children: c(u.minutes_needed_for_service) }),
        /* @__PURE__ */ l("td", { children: u.latest_event_report_id && /* @__PURE__ */ l(
          "a",
          {
            className: "btn btn-primary btn-sm",
            href: `/${window.location.pathname.split("/")[1]}/service/event/report/${u.latest_event_report_id}/results`,
            children: "View Report"
          }
        ) })
      ] }, u.id)) })
    ] })
  ] });
}
function QY() {
  const { environment: e } = mt(), { equipment: t } = ke(dp), n = $n(), [r, i] = B(null), [a, s] = B(!1), [o, c] = B(null), [u, f] = B(!1), [p, g, h, y, _, S, w] = nn({
    queries: [
      {
        queryKey: ["runs", t.name, e],
        queryFn: () => TI({
          firstUnfinishedStepEquipment: t,
          environment: e
        })
      },
      {
        queryKey: ["monitors", t.name],
        queryFn: () => av({ equipment: t })
      },
      {
        queryKey: ["ecn", t.name],
        queryFn: () => Dd({ equipment: t })
      },
      {
        queryKey: ["issue", t.name],
        queryFn: () => rv({ equipment: t })
      },
      {
        queryKey: ["module", t.name],
        queryFn: () => Ni({ equipment: t })
      },
      {
        queryKey: ["ecn", "attachment", t.name],
        queryFn: () => tv({ equipment: t })
      },
      {
        queryKey: ["issue", "attachment", t.name],
        queryFn: () => nv({ equipment: t })
      }
    ]
  }), I = (N) => {
    n.invalidateQueries({ queryKey: N });
  }, b = (N) => N ? h.data?.items.filter((D) => D.module_id === N) : [], E = (N) => N ? y.data?.items.filter((D) => D.module_id === N) : [], C = () => {
    c(
      /* @__PURE__ */ l(
        Ul,
        {
          equipment: t,
          showModal: !0,
          onClose: () => {
            f(!1), setTimeout(() => {
              I(["ecn", t.name]), I(["ecn", "attachment", t.name]);
            }, 100);
          }
        }
      )
    ), f(!0);
  }, A = () => {
    i(
      /* @__PURE__ */ l(
        Js,
        {
          equipment: t,
          showModal: !0,
          onClose: () => {
            s(!1), setTimeout(() => {
              I(["issue", t.name]), I(["issue", "attachment", t.name]);
            }, 100);
          }
        }
      )
    ), s(!0);
  };
  return /* @__PURE__ */ v(Fi, { fluid: !0, children: [
    /* @__PURE__ */ l("div", { className: "d-flex justify-content-left", children: g.data?.items && g.data.items.map((N, D) => /* @__PURE__ */ l(Hx, { monitor: N }, D)) }),
    /* @__PURE__ */ v(Yn, { children: [
      /* @__PURE__ */ v(Mt, { md: 8, children: [
        /* @__PURE__ */ l("h2", { children: "Runs" }),
        p.isLoading && /* @__PURE__ */ l("div", { children: "Loading..." }),
        " ",
        p.isError && /* @__PURE__ */ l("div", { children: "Error..." }),
        p.isFetched && p.data && p.data?.items.length === 0 && /* @__PURE__ */ l(Rt, { variant: "info", children: "No runs found" }),
        p.isFetched && p.data && p.data?.items.length > 0 && /* @__PURE__ */ v(Qt, { striped: !0, bordered: !0, hover: !0, children: [
          /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
            /* @__PURE__ */ l("th", { children: "Run" }),
            /* @__PURE__ */ l("th", { children: "Priority" }),
            /* @__PURE__ */ l("th", { children: "Hold Code" }),
            /* @__PURE__ */ l("th", { children: "Batch Card" }),
            /* @__PURE__ */ l("th", { children: "Project" })
          ] }) }),
          /* @__PURE__ */ l("tbody", { children: p.data?.items.map((N, D) => /* @__PURE__ */ v("tr", { children: [
            /* @__PURE__ */ v("td", { children: [
              N.first_unfinished_step && /* @__PURE__ */ l(pn, { to: `/${e}/operator/run/step/${N.first_unfinished_step.id}`, children: N.name }),
              N.first_unfinished_step === void 0 && N.last_finished_step && /* @__PURE__ */ l(pn, { to: `/${e}/operator/run/step/${N.last_finished_step.id}`, children: N.name })
            ] }),
            /* @__PURE__ */ v("td", { children: [
              N.priority && /* @__PURE__ */ l(
                "span",
                {
                  className: "badge",
                  style: {
                    backgroundColor: N.priority.priority.back_color,
                    color: N.priority.priority.front_color
                  },
                  children: N.priority.priority.code
                }
              ),
              !N.priority && /* @__PURE__ */ l("span", { className: "badge bg-info", children: "NORMAL" })
            ] }),
            /* @__PURE__ */ l("td", { children: N.hold_code && /* @__PURE__ */ l(
              "span",
              {
                className: "badge handle",
                style: {
                  backgroundColor: N.hold_code.hold_code.back_color,
                  color: N.hold_code.hold_code.front_color
                },
                children: N.hold_code.hold_code.code
              }
            ) }),
            /* @__PURE__ */ l("td", { children: N.batch_card && N.batch_card.content && /* @__PURE__ */ l("span", { className: "text-danger", children: N.batch_card.content }) }),
            /* @__PURE__ */ l("td", { children: N.project.name })
          ] }, D)) })
        ] }),
        /* @__PURE__ */ l(eG, {})
      ] }),
      /* @__PURE__ */ v(Mt, { md: 4, children: [
        /* @__PURE__ */ l("h2", { children: "Assistance" }),
        _.data?.items.map((N, D) => /* @__PURE__ */ v(ne.Fragment, { children: [
          /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
            /* @__PURE__ */ l("h3", { children: N.type.is_main_tool ? "Main tool" : N.name }),
            /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(Oi, { module: N }) })
          ] }),
          /* @__PURE__ */ v("div", { className: "pb-lg-5", children: [
            /* @__PURE__ */ l("div", { className: "d-flex justify-content-between", children: /* @__PURE__ */ v("div", { className: "d-flex gap-2", children: [
              /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "primary", size: "sm", onClick: A, children: "New Issue" }) }),
              /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "primary", size: "sm", onClick: C, children: "New ECN" }) }),
              /* @__PURE__ */ l("div", { children: N.type.is_main_tool && /* @__PURE__ */ l(jx, { size: "sm", moduleId: N.id }) })
            ] }) }),
            b(N.id)?.map((F, P) => /* @__PURE__ */ l(
              KB,
              {
                ecn: F,
                equipment: t,
                ecnAttachments: S.data?.items ?? [],
                reloadQueryFn: I
              },
              `ecn-${D}-${P}`
            )),
            E(N.id)?.map((F, P) => /* @__PURE__ */ l(
              QB,
              {
                issue: F,
                equipment: t,
                issueAttachments: w.data?.items ?? [],
                reloadQueryFn: I
              },
              `issue-${D}-${P}`
            ))
          ] })
        ] }, D))
      ] })
    ] }),
    u && o,
    a && r
  ] });
}
const tG = () => {
  const [e, t] = B(null), { id: n } = mt();
  re(() => {
    e === null && rh({ id: parseInt(n) }).then(t);
  }, [n, e]);
  function r() {
    rh({ id: parseInt(n) }).then(t);
  }
  return { equipment: e, setEquipment: t, reloadEquipment: r };
};
function nG({ children: e }) {
  const { equipment: t, reloadEquipment: n } = tG();
  return t === null ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center h-100 vh-100 flex-row align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column align-items-center", children: [
    /* @__PURE__ */ l("h1", { children: "Loading Equipment" }),
    /* @__PURE__ */ l("div", { className: "spinner-border", style: { width: "3rem", height: "3rem" }, role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading equipment" }) })
  ] }) }) : /* @__PURE__ */ l(
    dp.Provider,
    {
      value: {
        equipment: t,
        reloadEquipment: n
      },
      children: e
    }
  );
}
function rG() {
  const { equipment: e } = ke(dp), t = nn({
    queries: [
      {
        queryKey: ["activeReservationQuery", e],
        queryFn: () => Ho({ equipment: e, which: "active" })
      },
      {
        queryKey: ["upcomingReservationQuery", e],
        queryFn: () => Ho({
          equipment: e,
          which: "upcoming"
        })
      },
      {
        queryKey: ["modules", e],
        queryFn: () => Ni({ equipment: e })
      }
    ]
  }), [n, r, i] = t, a = t.some((o) => o.isLoading);
  t.some((o) => o.isError);
  const s = t.every((o) => o.isSuccess);
  return a ? /* @__PURE__ */ l("div", { children: "Loading..." }) : (i.data?.items.findLast((o) => o.type.is_main_tool), s && /* @__PURE__ */ v("div", { className: "d-flex align-items-center justify-content-between mb-3", children: [
    /* @__PURE__ */ v("h1", { className: "display-4", children: [
      e.name,
      " Operator Dashboard"
    ] }),
    /* @__PURE__ */ v("div", { children: [
      n.data?.items.map((o, c) => /* @__PURE__ */ v(
        "div",
        {
          className: "mx-2 p-2 rounded border-danger",
          style: {
            backgroundColor: o.color
          },
          children: [
            /* @__PURE__ */ l("i", { className: "fa fa-calendar-o text-white pe-2", "aria-hidden": "true" }),
            "Active reservation",
            /* @__PURE__ */ l("br", {}),
            "Until ",
            On(o.end, "DD-MM-YY HH:mm"),
            " by ",
            o.user.full_name
          ]
        },
        c
      )),
      r.data?.items.map((o, c) => /* @__PURE__ */ v(
        "div",
        {
          className: "mx-2 p-2 rounded border-success border-2",
          style: {
            backgroundColor: o.color
          },
          children: [
            /* @__PURE__ */ l("i", { className: "fa fa-calendar-o text-white pe-2", "aria-hidden": "true" }),
            "Next reservation",
            /* @__PURE__ */ l("br", {}),
            On(o.start, "DD-MM-YY HH:mm"),
            /* @__PURE__ */ l("br", {}),
            o.user.full_name
          ]
        },
        c
      ))
    ] })
  ] }));
}
function KY() {
  return /* @__PURE__ */ v(nG, { children: [
    /* @__PURE__ */ l(rG, {}),
    /* @__PURE__ */ l(Es, {})
  ] });
}
function eW({ children: e }) {
  const { id: t } = mt(), n = Gn({
    queryKey: ["statusMail", t],
    queryFn: () => xI({ id: parseInt(t) }),
    enabled: !!t
  });
  return n.isLoading || n.isFetching ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center h-100 vh-100 flex-row align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column align-items-center", children: [
    /* @__PURE__ */ l("h1", { children: "Loading statusMail" }),
    /* @__PURE__ */ l("div", { className: "spinner-border", style: { width: "3rem", height: "3rem" }, role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading status Mail" }) })
  ] }) }) : /* @__PURE__ */ l(
    Ef.Provider,
    {
      value: {
        statusMail: n.data
      },
      children: e
    }
  );
}
const $x = () => uv();
function iG(e) {
  const [t, n] = B(!0), [r, i] = B(null), [a, s] = B(!1), o = () => {
    n(!1), s(!0);
  };
  return re(() => {
    if (!document) {
      const p = new Error(`[ScriptLoadingError] document not defined when attempting to load ${e}`);
      i(p);
      return;
    }
    const c = document.querySelector(`script[src="${e}"]`);
    if (c?.dataset.loaded) {
      o();
      return;
    }
    const u = c || document.createElement("script");
    c || (u.src = e);
    const f = () => {
      u.dataset.loaded = "1", o();
    };
    u.addEventListener("load", f), u.addEventListener("error", (p) => {
      console.error("Failed to load script:", e, p);
      const g = new Error(`[ScriptLoadingError] Failed to load script: ${e}`);
      i(g);
    }), c || document.head.append(u);
  }, []), {
    isLoading: t,
    error: r,
    isSuccess: a
  };
}
const aG = (e) => e && e.charts, Hg = (e, t) => {
  const { controls: n, toolbarItems: r, getChartEditor: i } = e;
  return t && t.charts && t.visualization && t.visualization.ChartWrapper && t.visualization.Dashboard && (!n || t.visualization.ChartWrapper) && (!i || t.visualization.ChartEditor) && (!r || t.visualization.drawToolbar);
}, sG = (e) => window.google;
function oG(e) {
  const { chartVersion: t = "current", chartPackages: n = [
    "corechart",
    "controls"
  ], chartLanguage: r = "en", mapsApiKey: i } = e, [a, s] = B(null), [o, c] = B(null), [u, f] = B(null), { isLoading: p, error: g, isSuccess: h } = iG(e.chartLoaderScriptUrl || "https://www.gstatic.com/charts/loader.js");
  return re(() => {
    if (!h)
      return;
    const y = sG();
    if (!aG(y)) {
      const _ = new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");
      c(_);
      return;
    }
    if (Hg(e, y)) {
      s(y);
      return;
    }
    y.charts.load(t, {
      packages: n,
      language: r,
      mapsApiKey: i
    }), y.charts.setOnLoadCallback(() => {
      if (!Hg(e, y)) {
        const _ = new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");
        console.error(_), f(_);
        return;
      }
      s(y);
    });
  }, [
    h
  ]), {
    error: g || o || u,
    isLoading: p,
    google: a
  };
}
const Ux = {
  // <DEPRECATED_PROPS>
  legend_toggle: !1,
  // </DEPRECATED_PROPS>
  options: {},
  legendToggle: !1,
  getChartWrapper: () => {
  },
  spreadSheetQueryParameters: {
    headers: 1,
    gid: 1
  },
  rootProps: {},
  chartWrapperParams: {},
  chartLoaderScriptUrl: "https://www.gstatic.com/charts/loader.js"
}, lG = (e) => {
  const { isReady: t, chartControls: n, filter: r } = e;
  return !t || !n || !n?.length ? null : /* @__PURE__ */ ne.createElement(ne.Fragment, null, n.filter((i) => {
    let { controlProp: a, control: s } = i;
    return r ? r({
      control: s,
      controlProp: a
    }) : !0;
  }).map((i) => {
    let { control: a } = i;
    return /* @__PURE__ */ ne.createElement("div", {
      key: a.getContainerId(),
      id: a.getContainerId()
    });
  }));
};
let jg = 0;
const Xx = () => (jg += 1, `reactgooglegraph-${jg}`), or = class or {
};
/**
* Initialize the controls once chart is ready
*/
Jn(or, "initializeControls", (t) => {
  for (let n = 0; n < t.length; n += 1) {
    const { controlType: r, options: i, controlWrapperParams: a } = t[n].controlProp;
    a && "state" in a && t[n].control.setState(a.state), t[n].control.setOptions(i), t[n].control.setControlType(r);
  }
}), /**
* listen to the control events (ready, statechange, error) specified in the controlEvents prop
*/
Jn(or, "listenToControlEvents", (t, n) => {
  const { google: r } = n;
  return t.flatMap((i) => {
    const { control: a, controlProp: s } = i, { controlEvents: o = [] } = s;
    return o.map((c) => {
      const { callback: u, eventName: f } = c;
      return r.visualization.events.addListener(a, f, function() {
        for (var p = arguments.length, g = new Array(p), h = 0; h < p; h++)
          g[h] = arguments[h];
        u({
          chartWrapper: null,
          controlWrapper: a,
          props: n,
          google: r,
          eventArgs: g
        });
      });
    });
  });
}), /**
* If controlID is not provided, generate a unique controlID
*/
Jn(or, "createControlId", (t) => {
  let n;
  return typeof t > "u" ? n = `googlechart-control-${Xx()}` : n = t, n;
}), /**
* Map the control props to Google Chart Controls
*/
Jn(or, "createChartControls", (t) => {
  const { controls: n, google: r } = t;
  return n ? n.map((i, a) => {
    const { controlID: s, controlType: o, options: c, controlWrapperParams: u } = i, f = or.createControlId(s);
    return {
      controlProp: i,
      control: new r.visualization.ControlWrapper({
        containerId: f,
        controlType: o,
        options: c,
        ...u
      })
    };
  }) : null;
}), Jn(or, "addControls", (t) => {
  const { chartWrapper: n, chartDashboard: r } = t, i = or.createChartControls(t);
  return !i || !r || !n ? null : (r.bind(i.map((a) => {
    let { control: s } = a;
    return s;
  }), n), or.initializeControls(i), i);
});
let xl = or;
const cG = (e) => {
  const [t, n] = U.useState(null);
  return [
    U.useMemo(() => !t || !e ? null : e.map((i, a) => {
      const s = t[a];
      return s ? {
        controlProp: i,
        control: s
      } : void 0;
    }).flatMap((i) => i ? [
      i
    ] : []), [
      t,
      e
    ]),
    n
  ];
}, uG = (e, t) => {
  U.useEffect(() => {
    const n = xl.listenToControlEvents(e ?? [], t);
    return () => {
      n.forEach((r) => {
        t.google.visualization.events.removeListener(r);
      });
    };
  }, [
    e,
    t
  ]);
}, dG = (e) => {
  const [t, n] = cG(e.controls);
  return uG(t ?? [], e), {
    addControls: (i) => {
      const a = xl.addControls(i);
      n(a?.map((s) => s.control) ?? null);
    },
    renderControl: (i) => {
      const { chartWrapper: a, chartDashboard: s } = e;
      return /* @__PURE__ */ U.createElement(lG, {
        ...e,
        isReady: !!(a && s),
        chartControls: t,
        filter: i
      });
    }
  };
}, fG = (e) => {
  const t = U.useRef(null);
  return {
    chartId: (() => {
      const { graphID: i, graph_id: a } = e, s = i || a;
      let o;
      return s ? o = s : o = t.current || Xx(), t.current = o, t.current;
    })()
  };
}, pG = [
  "#3366CC",
  "#DC3912",
  "#FF9900",
  "#109618",
  "#990099",
  "#3B3EAC",
  "#0099C6",
  "#DD4477",
  "#66AA00",
  "#B82E2E",
  "#316395",
  "#994499",
  "#22AA99",
  "#AAAA11",
  "#6633CC",
  "#E67300",
  "#8B0707",
  "#329262",
  "#5574A6",
  "#3B3EAC"
], hG = async function(e, t) {
  let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
  return new Promise((r, i) => {
    const a = `${n.headers ? `headers=${n.headers}` : "headers=0"}`, s = `${n.query ? `&tq=${encodeURIComponent(n.query)}` : ""}`, o = `${n.gid ? `&gid=${n.gid}` : ""}`, c = `${n.sheet ? `&sheet=${n.sheet}` : ""}`, u = `${n.access_token ? `&access_token=${n.access_token}` : ""}`, f = `${a}${o}${c}${s}${u}`, p = `${t}/gviz/tq?${f}`;
    new e.visualization.Query(p).send((h) => {
      h.isError() ? i(`Error in query:  ${h.getMessage()} ${h.getDetailedMessage()}`) : r(h.getDataTable());
    });
  });
}, mG = "#CCCCCC", Fn = class Fn {
};
Jn(Fn, "grayOutHiddenColumnsLabel", (t, n) => {
  const { googleChartWrapper: r, options: i } = t;
  if (!r) {
    console.error("googleChartWrapper is not defined");
    return;
  }
  const a = r.getDataTable();
  if (!a) return;
  const s = a.getNumberOfColumns();
  if (n.length > 0 === !1) return;
  const c = Array.from({
    length: s - 1
  }).map((u, f) => {
    const p = Fn.getColumnId(a, f + 1);
    return n.includes(p) ? mG : i && i.colors ? i.colors[f] : pG[f];
  });
  r.setOptions({
    ...i,
    colors: c
  }), r.draw();
}), /**
* Listens to user clicking on the legend to toggle the visibility of a column.
* When a user clicks on a legend item, the column id is added to / removed from the hiddenColumns state.
*/
Jn(Fn, "listenToLegendToggle", (t, n) => {
  const [r, i] = n, { google: a, googleChartWrapper: s } = t;
  if (!s) {
    console.error("googleChartWrapper is not defined");
    return;
  }
  return a.visualization.events.addListener(s, "select", () => {
    const c = s.getChart().getSelection(), u = s.getDataTable();
    if (c.length === 0 || // We want to listen to when a whole row is selected. This is the case only when row === null
    c[0].row !== null || !u)
      return;
    const f = c[0].column, p = Fn.getColumnId(u, f);
    r?.includes(p) ? i((g) => [
      ...g.filter((h) => h !== p)
    ]) : i((g) => [
      ...g,
      p
    ]);
  });
}), /**
* (Re-)Draw a Google Chart with the given data, options, and chart type.
*/
Jn(Fn, "draw", async (t) => {
  const { data: n, diffdata: r, rows: i, columns: a, options: s, chartType: o, formatters: c, spreadSheetUrl: u, spreadSheetQueryParameters: f, googleChartDashboard: p, googleChartWrapper: g, google: h, hiddenColumns: y, legendToggle: _, legend_toggle: S } = t;
  if (!g) {
    console.error("draw was called with googleChartWrapper = null");
    return;
  }
  let w, I = null;
  if (r) {
    const N = h.visualization.arrayToDataTable(r.old), D = h.visualization.arrayToDataTable(r.new);
    I = h.visualization[o].prototype.computeDiff(N, D);
  }
  n ? n instanceof h.visualization.DataTable ? w = n : Array.isArray(n) ? w = h.visualization.arrayToDataTable(n) : w = new h.visualization.DataTable(n) : i && a ? w = h.visualization.arrayToDataTable([
    a,
    ...i
  ]) : u ? w = await hG(h, u, f) : w = h.visualization.arrayToDataTable([]);
  const b = w.getNumberOfColumns(), E = Array(b).fill(0).map((N, D) => {
    const F = Fn.getColumnId(w, D);
    return y.includes(F) ? {
      label: w.getColumnLabel(D),
      type: w.getColumnType(D),
      calc: () => null
    } : D;
  }), C = g.getChart();
  g.getChartType() === "Timeline" && C && C.clearChart(), g.setChartType(o), g.setOptions(s || {});
  const A = new h.visualization.DataView(w);
  A.setColumns(E), g.setDataTable(A), g.draw(), p && p.draw(w), I && (g.setDataTable(I), g.draw()), c && (Fn.applyFormatters({
    dataTable: w,
    formatters: c,
    google: h
  }), g.setDataTable(w), g.draw()), (_ === !0 || S === !0) && Fn.grayOutHiddenColumnsLabel(t, y);
}), /**
* Get the column ID of a column in a GoogleDataTable.
* If the column has an ID, return the ID, otherwise return the label.
*/
Jn(Fn, "getColumnId", (t, n) => t.getColumnId(n) || t.getColumnLabel(n)), /**
* Apply Chart Formatters passed under the formatters prop to the GoogleDataTable
*/
Jn(Fn, "applyFormatters", (t) => {
  let { dataTable: n, formatters: r, google: i } = t;
  for (let a of r)
    switch (a.type) {
      case "ArrowFormat": {
        new i.visualization.ArrowFormat(a.options).format(n, a.column);
        return;
      }
      case "BarFormat": {
        new i.visualization.BarFormat(a.options).format(n, a.column);
        return;
      }
      case "ColorFormat": {
        const s = new i.visualization.ColorFormat(a.options), { ranges: o } = a;
        if (o)
          for (let c of o)
            s.addRange(...c);
        s.format(n, a.column);
        return;
      }
      case "DateFormat": {
        new i.visualization.DateFormat(a.options).format(n, a.column);
        return;
      }
      case "NumberFormat": {
        new i.visualization.NumberFormat(a.options).format(n, a.column);
        return;
      }
      case "PatternFormat": {
        new i.visualization.PatternFormat(a.options).format(n, a.column);
        return;
      }
      default: {
        console.warn(`Unknown formatter type: ${a.type}`);
        return;
      }
    }
});
let us = Fn;
const gG = (e) => {
  const { google: t, googleChartWrapper: n, googleChartDashboard: r } = e, [i, a] = U.useState([]);
  U.useEffect(() => {
    n && us.draw({
      ...e,
      hiddenColumns: i,
      googleChartWrapper: n,
      googleChartDashboard: r,
      google: t
    });
  }, [
    i,
    e.data,
    e.rows,
    e.columns,
    e.options,
    e.chartLoaderScriptUrl,
    e.chartType,
    e.formatters,
    e.spreadSheetUrl,
    e.spreadSheetQueryParameters,
    e.legendToggle,
    e.legend_toggle
  ]);
  const s = () => {
    const { googleChartWrapper: u } = e;
    u && u.draw();
  }, o = (u) => {
    const f = [], { legendToggle: p, legend_toggle: g } = e;
    if (us.draw({
      ...e,
      hiddenColumns: i,
      googleChartWrapper: u,
      googleChartDashboard: r,
      google: t
    }), window.addEventListener("resize", s), g || p) {
      const h = us.listenToLegendToggle(e, [
        i,
        a
      ]);
      h && f.push(h);
    }
    return f;
  }, c = (u, f) => {
    window.removeEventListener("resize", s), f.forEach((p) => {
      t.visualization.events.removeListener(p);
    }), u.getChartType() === "Timeline" && u.getChart() && u.getChart().clearChart();
  };
  U.useEffect(() => {
    if (!n)
      return;
    const u = o(n);
    return () => {
      c(n, u);
    };
  }, [
    n,
    o,
    c
  ]);
}, vG = (e) => {
  const { chartEvents: t, google: n, googleChartWrapper: r } = e;
  if (t) {
    if (!r) {
      console.warn("listenToEvents was called before chart wrapper ready.");
      return;
    }
    return t.map((i) => {
      let { eventName: a, callback: s } = i;
      return n.visualization.events.addListener(r, a, function() {
        for (var o = arguments.length, c = new Array(o), u = 0; u < o; u++)
          c[u] = arguments[u];
        s({
          chartWrapper: r,
          props: e,
          google: n,
          eventArgs: c
        });
      });
    });
  }
}, yG = (e) => {
  re(() => {
    if (!e.googleChartWrapper) return;
    const t = vG(e);
    return () => {
      t?.forEach((n) => {
        e.google.visualization.events.removeListener(n);
      });
    };
  }, [
    e
  ]);
}, bG = (e) => {
  const [t, n] = U.useState(null), [r, i] = U.useState(null), { addControls: a, renderControl: s } = dG({
    ...e,
    chartDashboard: r,
    chartWrapper: t
  });
  yG({
    ...e,
    googleChartWrapper: t
  });
  const { chartId: o } = fG(e), c = U.useRef(null), u = U.useRef(null);
  U.useEffect(() => {
    const { options: w, google: I, chartType: b, chartWrapperParams: E, toolbarItems: C, getChartEditor: A, getChartWrapper: N, onLoad: D } = e, F = {
      chartType: b,
      options: w,
      containerId: o,
      ...E
    }, P = new I.visualization.ChartWrapper(F);
    P.setOptions(w || {}), N?.(P, I);
    const G = new I.visualization.Dashboard(c.current);
    C && I.visualization.drawToolbar(u.current, C);
    let Y = null;
    A && (Y = new I.visualization.ChartEditor(), A({
      chartEditor: Y,
      chartWrapper: P,
      google: I
    })), a({
      ...e,
      chartDashboard: G,
      chartWrapper: P
    }), n(P), i(G), D?.(I, {
      google: I,
      chartWrapper: P,
      chartEditor: Y,
      chartDashboard: G
    });
  }, []), gG({
    ...e,
    googleChartWrapper: t,
    googleChartDashboard: r
  });
  const f = () => {
    const { width: w, height: I, options: b, style: E, className: C, rootProps: A, google: N } = e, D = {
      height: I || b && b.height,
      width: w || b && b.width,
      ...E
    };
    return /* @__PURE__ */ U.createElement("div", {
      id: o,
      style: D,
      className: C,
      ...A
    });
  }, p = () => e.toolbarItems ? /* @__PURE__ */ U.createElement("div", {
    ref: u
  }) : null, { width: g, height: h, options: y, style: _ } = e, S = {
    height: h || y && y.height,
    width: g || y && y.width,
    ..._
  };
  return e.render ? /* @__PURE__ */ U.createElement("div", {
    ref: c,
    style: S
  }, /* @__PURE__ */ U.createElement("div", {
    ref: u,
    id: "toolbar"
  }), e.render({
    renderChart: f,
    renderControl: s,
    renderToolbar: p
  })) : /* @__PURE__ */ U.createElement("div", {
    ref: c,
    style: S
  }, s((w) => {
    let { controlProp: I } = w;
    return I.controlPosition !== "bottom";
  }), f(), s((w) => {
    let { controlProp: I } = w;
    return I.controlPosition === "bottom";
  }), p());
}, xG = /* @__PURE__ */ U.createContext(Ux), wG = (e) => {
  let { children: t, value: n } = e;
  return /* @__PURE__ */ U.createElement(xG.Provider, {
    value: n
  }, t);
}, CG = (e) => {
  const { google: t, isLoading: n, error: r } = oG(e);
  return n ? e.loader ?? null : r ? e.errorElement ?? null : t ? /* @__PURE__ */ ne.createElement(bG, {
    google: t,
    ...e
  }) : null;
}, SG = (e) => {
  const t = {
    ...Ux,
    ...e
  };
  return /* @__PURE__ */ ne.createElement(wG, {
    value: t
  }, /* @__PURE__ */ ne.createElement(CG, t));
};
var $g;
(function(e) {
  e.annotation = "annotation", e.annotationText = "annotationText", e.certainty = "certainty", e.emphasis = "emphasis", e.interval = "interval", e.scope = "scope", e.style = "style", e.tooltip = "tooltip", e.domain = "domain";
})($g || ($g = {}));
function IG({
  target: e,
  results: t
}) {
  const n = {
    title: e.logging_parameter.name,
    curveType: "function",
    series: {
      0: { pointSize: 10 },
      1: {},
      2: {},
      3: {}
    },
    legend: { position: "bottom" }
  };
  let r = [[{ type: "date", label: "Date" }, "Value"]], i = 1;
  return e.target && (r[0].push("Target"), n.series[i] = {
    color: "#38e22c",
    lineWidth: 2,
    pointShape: { type: "square" }
  }, i++), e.min_value && (r[0].push("Min"), n.series[i] = {
    color: "#e2431e",
    lineWidth: 2,
    pointShape: { type: "triangle" },
    pointSize: 10
  }, i++), e.max_value && (r[0].push("Max"), n.series[i] = {
    color: "#e2431e",
    lineWidth: 2,
    pointShape: { type: "triangle", rotation: 180 },
    pointSize: 10
  }), t.forEach((a) => {
    a.values.filter((s) => s.logging_parameter.id === e.logging_parameter.id).filter((s) => s.float_value !== 0).forEach((s) => {
      let o = new Date(a.date_created);
      r.push([o, s.float_value]), e.target && r[r.length - 1].push(e.target), e.min_value && r[r.length - 1].push(e.min_value), e.max_value && r[r.length - 1].push(e.max_value);
    });
  }), r.length === 1 ? /* @__PURE__ */ l("div", { className: "text-center", children: "No data available" }) : /* @__PURE__ */ l(SG, { chartType: "ScatterChart", width: "100%", height: "400px", data: r, options: n });
}
const lc = ({
  data: e,
  setPage: t,
  setPageSize: n,
  pageSize: r,
  isPlaceholderData: i
}) => {
  if (e === void 0 || i)
    return /* @__PURE__ */ l(ve, {});
  let a = [];
  for (let s = 1; s <= e.amountOfPages; s++)
    a.push(
      /* @__PURE__ */ l(Xh.Item, { active: s === e.currentPage, onClick: () => t((o) => s), children: s }, s)
    );
  return /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
    /* @__PURE__ */ v("div", { className: "d-flex gap-2", children: [
      /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { size: "sm", onClick: () => t((s) => Math.max(s - 1, 0)), disabled: e.currentPage === 1, children: "Previous Page" }) }),
      /* @__PURE__ */ l(Xh, { size: "sm", children: a.map((s, o) => /* @__PURE__ */ l("div", { children: s }, o)) }),
      /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
        ce,
        {
          size: "sm",
          onClick: () => {
            !i && e.hasMore && t((s) => s + 1);
          },
          disabled: i || !e.hasMore,
          children: "Next Page"
        }
      ) })
    ] }),
    n !== void 0 ? /* @__PURE__ */ l("div", { children: /* @__PURE__ */ v(
      j.Select,
      {
        onChange: (s) => {
          n((o) => parseInt(s.target.value));
        },
        value: r,
        size: "sm",
        children: [
          /* @__PURE__ */ l("option", { value: 10, children: "10" }),
          /* @__PURE__ */ l("option", { value: 25, children: "25" }),
          /* @__PURE__ */ l("option", { value: 50, children: "50" }),
          /* @__PURE__ */ l("option", { value: 100, children: "100" })
        ]
      }
    ) }) : null
  ] });
}, _G = (/* @__PURE__ */ new Date()).toISOString().split("T")[0], EG = ({
  requirement: e,
  targets: t,
  refetchResults: n
}) => {
  const [r, i] = B(!1), [a, s] = B(!1), [o, c] = B(!1), {
    control: u,
    register: f,
    handleSubmit: p,
    reset: g,
    watch: h,
    formState: { errors: y, isValid: _ }
  } = rn({
    defaultValues: {
      date: _G
    }
  }), { fields: S, append: w, remove: I } = WN({
    control: u,
    name: "results",
    rules: { required: !0 }
  });
  re(() => {
    I(), t.forEach((A) => {
      w({
        id: A.id,
        label: A.logging_parameter.name,
        logging_parameter_id: A.logging_parameter.id,
        value: ""
      });
    });
  }, [t]);
  const b = h();
  re(() => {
    c(_);
  }, [b, _]);
  async function E(A) {
    await ae.post("create/monitor/requirement/result", {
      requirement: e.id,
      date: A.date,
      values: A.results
    }), s(!0), i(!1), n(), g();
  }
  function C() {
    return /* @__PURE__ */ l(Gs, { position: "top-end", className: "p-3", children: /* @__PURE__ */ v(Wn, { onClose: () => s(!1), show: a, delay: 3e3, autohide: !0, bg: "light", children: [
      /* @__PURE__ */ v(Wn.Header, { children: [
        /* @__PURE__ */ l("strong", { className: "me-auto", children: "Results saved" }),
        /* @__PURE__ */ l("small", { children: "Just now" })
      ] }),
      /* @__PURE__ */ l(Wn.Body, { children: "Measurement results were saved successfully" })
    ] }) });
  }
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(ce, { variant: "primary", onClick: () => i(!0), children: "Add manual result" }),
    /* @__PURE__ */ l(be, { show: r, size: "lg", onHide: () => i(!1), children: /* @__PURE__ */ v(j, { onSubmit: p((A) => E(A)), validated: o, children: [
      /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Add manual result" }) }),
      /* @__PURE__ */ v(be.Body, { children: [
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Date" }),
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "date",
              placeholder: "Date",
              required: !0,
              ...f("date", {
                required: "This field is required"
              })
            },
            "date"
          ),
          y.date && /* @__PURE__ */ l(j.Control.Feedback, { children: y.date.message })
        ] }),
        S.map((A, N) => /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: A.label }),
          /* @__PURE__ */ v(ln, { hasValidation: !0, children: [
            /* @__PURE__ */ l(
              j.Control,
              {
                type: "number",
                step: 0.01,
                placeholder: A.label,
                required: !0,
                ...f(`results.${N}.value`, {
                  required: "This field is required"
                })
              },
              A.id
            ),
            y?.results?.[N]?.value && /* @__PURE__ */ l(j.Control.Feedback, { children: y.results[N].value.message })
          ] })
        ] }, N))
      ] }),
      /* @__PURE__ */ v(be.Footer, { children: [
        /* @__PURE__ */ l(ce, { className: "float-end", type: "submit", variant: "primary", children: "Add manual result" }),
        /* @__PURE__ */ l(
          ce,
          {
            className: "float-end",
            variant: "secondary",
            onClick: () => {
              g(), i(!1);
            },
            children: "Close"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ l(C, {})
  ] });
}, kG = ({
  requirement: e,
  result: t,
  refetchMonitorStepParameterValues: n
}) => {
  const [r, i] = B(!1), [a, s] = B(!1), [o, c] = B(!1), [u, f] = B([]), {
    control: p,
    register: g,
    handleSubmit: h,
    reset: y,
    watch: _,
    formState: { errors: S, isValid: w }
  } = rn({
    defaultValues: {}
  });
  re(() => {
    async function C() {
      const A = await sv({
        result: t
      }), N = await MI({
        requirement: e
      }), D = await II({
        module: e.step.process_module.module
      });
      N.items = N.items.filter(
        (F) => !A.items.map((P) => P.step_parameter.id).includes(F.id)
      ), N.items = N.items.filter(
        (F) => D.items.map((P) => P.parameter.id).includes(F.parameter.id)
      ), f(N.items);
    }
    r && C();
  }, [r]);
  const I = _();
  re(() => {
    c(w);
  }, [I, w]);
  async function b(C) {
    await ae.post("create/monitor/requirement/result/step-parameter-value", {
      result: t.id,
      step_parameter: C.module_step_parameter_id,
      value: C.value
    }), s(!0), i(!1), n(), y();
  }
  function E() {
    return /* @__PURE__ */ l(Gs, { position: "top-end", className: "p-3", children: /* @__PURE__ */ v(Wn, { onClose: () => s(!1), show: a, delay: 3e3, autohide: !0, bg: "light", children: [
      /* @__PURE__ */ v(Wn.Header, { children: [
        /* @__PURE__ */ l("strong", { className: "me-auto", children: "Results saved" }),
        /* @__PURE__ */ l("small", { children: "Just now" })
      ] }),
      /* @__PURE__ */ l(Wn.Body, { children: "Measurement results were saved successfully" })
    ] }) });
  }
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(ce, { variant: "primary", size: "sm", onClick: () => i(!0), children: "+" }),
    /* @__PURE__ */ l(be, { show: r, size: "lg", onHide: () => i(!1), children: /* @__PURE__ */ v(j, { onSubmit: h((C) => b(C)), validated: o, children: [
      /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Add process parameter" }) }),
      /* @__PURE__ */ v(be.Body, { children: [
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Date" }),
          /* @__PURE__ */ l(j.Control, { type: "text", value: t.date_created, readOnly: !0 })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Module Step Parameter" }),
          /* @__PURE__ */ v(
            j.Select,
            {
              ...g("module_step_parameter_id", {
                required: !0
              }),
              children: [
                /* @__PURE__ */ l("option", { value: "", children: "â€” Select a parameter" }),
                u.map((C) => /* @__PURE__ */ l("option", { value: C.id, children: C.parameter.name }, C.id))
              ]
            }
          ),
          /* @__PURE__ */ l(j.Text, { className: "text-muted", children: "Only parameters are shown here which are active on the Equipment Module and in the monitor step. In case parameters are missing you should replace the process in the monitor with the same process from the process library to reload the parameters" })
        ] }),
        /* @__PURE__ */ v(ln, { hasValidation: !0, children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "number",
              step: 0.01,
              required: !0,
              ...g("value", {
                required: "This field is required"
              })
            }
          ),
          S?.value && /* @__PURE__ */ l(j.Control.Feedback, { children: S.value.message })
        ] })
      ] }),
      /* @__PURE__ */ v(be.Footer, { children: [
        /* @__PURE__ */ l(ce, { className: "float-end", type: "submit", variant: "primary", children: "Add manual result" }),
        /* @__PURE__ */ l(
          ce,
          {
            className: "float-end",
            variant: "secondary",
            onClick: () => {
              y(), i(!1);
            },
            children: "Close"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ l(E, {})
  ] });
}, NG = ({
  monitorResultStepParameterValue: e,
  refetchMonitorStepParameterValues: t
}) => {
  const [n, r] = B(!1), [i, a] = B(!1), [s, o] = B(!1), {
    control: c,
    register: u,
    handleSubmit: f,
    reset: p,
    watch: g,
    formState: { errors: h, isValid: y }
  } = rn({
    defaultValues: {
      value: e.value.toString()
    }
  }), _ = g();
  re(() => {
    o(y);
  }, [_, y]);
  async function S(b) {
    await ae.patch("update/monitor/requirement/result/step-parameter-value/" + e.id, {
      value: b.value
    }), a(!0), r(!1), t(), p();
  }
  async function w() {
    await ae.delete(
      "delete/monitor/requirement/result/step-parameter-value/" + e.id,
      {}
    ), a(!0), r(!1), t(), p();
  }
  function I() {
    return /* @__PURE__ */ l(Gs, { position: "top-end", className: "p-3", children: /* @__PURE__ */ v(Wn, { onClose: () => a(!1), show: i, delay: 3e3, autohide: !0, bg: "light", children: [
      /* @__PURE__ */ v(Wn.Header, { children: [
        /* @__PURE__ */ l("strong", { className: "me-auto", children: "Results saved" }),
        /* @__PURE__ */ l("small", { children: "Just now" })
      ] }),
      /* @__PURE__ */ l(Wn.Body, { children: "Measurement results were saved successfully" })
    ] }) });
  }
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l("span", { onClick: () => r(!0), children: e.value }),
    /* @__PURE__ */ l(be, { show: n, size: "lg", onHide: () => r(!1), children: /* @__PURE__ */ v(j, { onSubmit: f((b) => S(b)), validated: s, children: [
      /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Add process parameter" }) }),
      /* @__PURE__ */ v(be.Body, { children: [
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Date" }),
          /* @__PURE__ */ l(j.Control, { type: "text", value: e.date_created, readOnly: !0 })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Module Step Parameter" }),
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "text",
              value: e.step_parameter.parameter.name,
              readOnly: !0
            }
          )
        ] }),
        /* @__PURE__ */ v(ln, { hasValidation: !0, children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "number",
              step: 0.01,
              required: !0,
              ...u("value", {
                required: "This field is required"
              })
            }
          ),
          h?.value && /* @__PURE__ */ l(j.Control.Feedback, { children: h.value.message })
        ] })
      ] }),
      /* @__PURE__ */ v(be.Footer, { children: [
        /* @__PURE__ */ l(ce, { className: "float-end", type: "submit", variant: "primary", children: "Update value" }),
        /* @__PURE__ */ l(ce, { className: "float-end", variant: "danger", onClick: () => w(), children: "Delete value" }),
        /* @__PURE__ */ l(
          ce,
          {
            className: "float-end",
            variant: "secondary",
            onClick: () => {
              p(), r(!1);
            },
            children: "Close"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ l(I, {})
  ] });
};
function AG({ requirement: e }) {
  const [n, r] = B([]), [i, a] = B(""), [s, o] = B(1), [c, u] = B(15), [f, p] = B([]), [g, h, y, _] = nn({
    queries: [
      {
        queryKey: ["requirement", "files", e.step, 11],
        queryFn: () => OI({
          step: e.step,
          pageSize: 11,
          order: "date-created",
          direction: "desc"
        })
      },
      {
        queryKey: ["requirement", "target", e],
        queryFn: () => DI({ requirement: e })
      },
      {
        queryKey: ["requirement", "results", e, s, c],
        queryFn: () => AI({
          requirement: e,
          pageSize: c,
          order: "date-created",
          direction: "desc",
          page: s
        }),
        placeholderData: ma
      },
      {
        queryKey: ["requirement", "monitor_step_parameters", e, s, c],
        queryFn: () => sv({
          requirement: e,
          pageSize: c,
          order: "date-created",
          direction: "desc",
          page: s
        }),
        placeholderData: ma
      }
    ]
  });
  re(() => {
    r([]), !g.isLoading && g.data.items.forEach((N) => {
      r((D) => [...D, N]);
    });
  }, [g.isLoading]), re(() => {
    if (!_.data) return;
    const N = Array.from(
      new Map(
        _.data.items.map((D) => [D.step_parameter.id, D.step_parameter])
      ).values()
    );
    p(N);
  }, [_.isLoading, _.data]);
  const S = _e(
    (N) => {
      N.forEach((D) => {
        const F = new FileReader();
        F.onload = async () => {
          const P = F.result;
          try {
            await ae.create().post("update/monitor/requirement/upload-file/" + e.id, {
              content: P,
              filename: D.name,
              type: D.type
            });
          } catch (G) {
            a("Upload failed due to: " + G.response.data.detail);
          }
          await g.refetch(), await y.refetch();
        }, F.readAsDataURL(D);
      });
    },
    [e.id, g, y]
  ), { getRootProps: w, getInputProps: I, isDragActive: b, isDragAccept: E, isDragReject: C } = zs({ onDrop: S }), A = Xe(
    () => ({
      ...b ? { borderColor: "#83afee" } : {},
      ...E ? { borderColor: "#00e676" } : {},
      ...C ? { borderColor: "#ff1744" } : {}
    }),
    [E, C, b]
  );
  return h.isLoading || h.isFetching ? /* @__PURE__ */ l(Rt, { variant: "info", children: "Loading targets..." }) : y.isLoading || y.isFetching ? /* @__PURE__ */ l(Rt, { variant: "info", children: "Loading results..." }) : /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("h1", { className: "display-5", children: [
      "Requirement: ",
      e.title
    ] }),
    /* @__PURE__ */ l("p", { className: "lead", children: e.definition }),
    /* @__PURE__ */ l(Yn, { className: "my-3", children: /* @__PURE__ */ v(Mt, { children: [
      /* @__PURE__ */ l("h2", { children: "Charts" }),
      /* @__PURE__ */ l("div", { className: "d-flex", children: h.data?.items.map((N, D) => /* @__PURE__ */ l(IG, { target: N, results: y.data.items }, D)) })
    ] }) }),
    /* @__PURE__ */ v(Yn, { children: [
      /* @__PURE__ */ v(Mt, { md: 8, children: [
        e.method && e.method !== "-" && /* @__PURE__ */ v(ve, { children: [
          /* @__PURE__ */ l("h2", { children: "Method" }),
          /* @__PURE__ */ l("p", { children: e.method })
        ] }),
        h.data?.items.length === 0 && /* @__PURE__ */ l(Rt, { variant: "danger", children: "No targets found" }),
        /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
          /* @__PURE__ */ l("h2", { children: "Results" }),
          /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
            EG,
            {
              requirement: e,
              targets: h.data.items,
              refetchResults: y.refetch
            }
          ) })
        ] }),
        /* @__PURE__ */ v(Qt, { size: "sm", striped: !0, bordered: !0, hover: !0, children: [
          /* @__PURE__ */ v("thead", { children: [
            /* @__PURE__ */ v("tr", { children: [
              /* @__PURE__ */ l("th", { children: "ID" }),
              /* @__PURE__ */ l("th", { children: "Date" }),
              h.data?.items.map((N, D) => /* @__PURE__ */ l("th", { children: N.logging_parameter.name }, D)),
              f.map((N, D) => /* @__PURE__ */ l("th", { children: N.parameter.name }, D)),
              /* @__PURE__ */ l("th", { children: "+" })
            ] }),
            /* @__PURE__ */ v("tr", { children: [
              /* @__PURE__ */ l("th", { colSpan: 2 }),
              h.data?.items.map((N, D) => /* @__PURE__ */ v("td", { children: [
                N.min_value,
                N.is_value_inclusive && /* @__PURE__ */ l("span", { className: "text-muted px-2", children: "â‰¤" }),
                !N.is_value_inclusive && /* @__PURE__ */ l("span", { className: "text-muted px-2", children: "<" }),
                N.target ?? "X",
                N.is_value_inclusive && /* @__PURE__ */ l("span", { className: "text-muted px-2", children: "â‰¥" }),
                !N.is_value_inclusive && /* @__PURE__ */ l("span", { className: "text-muted px-2", children: ">" }),
                N.max_value
              ] }, D)),
              f.map((N, D) => /* @__PURE__ */ l("th", { className: "table-secondary" }, D)),
              /* @__PURE__ */ l("th", {})
            ] })
          ] }),
          /* @__PURE__ */ l("tbody", { children: y.data?.items.map((N, D) => /* @__PURE__ */ v("tr", { children: [
            /* @__PURE__ */ l("th", { children: /* @__PURE__ */ l("small", { className: "text-muted", children: N.id }) }, D),
            /* @__PURE__ */ l("td", { children: On(N.date_created, "DD-MM-YY HH:mm") }),
            h.data?.items.map((F, P) => /* @__PURE__ */ l("td", { children: N.values.filter((G) => G.logging_parameter.id === F.logging_parameter.id).map((G, Y) => /* @__PURE__ */ l("span", { className: G.value_is_valid ? "text-success" : "text-danger", children: G.float_value }, Y)) }, P)),
            f.map((F, P) => /* @__PURE__ */ l("td", { className: "table-secondary", children: _.data?.items.filter(
              (G) => G.step_parameter.id === F.id && G.result.id === N.id
            ).map((G, Y) => /* @__PURE__ */ l(
              NG,
              {
                monitorResultStepParameterValue: G,
                refetchMonitorStepParameterValues: _.refetch
              },
              Y
            )) }, P)),
            /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
              kG,
              {
                result: N,
                requirement: e,
                refetchMonitorStepParameterValues: _.refetch
              }
            ) })
          ] }, D)) })
        ] }),
        /* @__PURE__ */ l(
          lc,
          {
            data: y.data,
            setPage: o,
            setPageSize: u,
            pageSize: c,
            isPlaceholderData: y.isPlaceholderData
          }
        )
      ] }),
      /* @__PURE__ */ v(Mt, { md: 4, children: [
        /* @__PURE__ */ l("h2", { children: "Upload new results" }),
        /* @__PURE__ */ l("p", { children: "Drop your results file here" }),
        /* @__PURE__ */ v("div", { ...w({ style: A, className: "dropzone" }), children: [
          /* @__PURE__ */ l("input", { ...I() }),
          b ? /* @__PURE__ */ l("p", { children: "Drop file(s) here ..." }) : /* @__PURE__ */ l("p", { children: "Drag and drop file(s) here, or click to select files" }),
          /* @__PURE__ */ l("p", { children: i })
        ] }),
        n.length > 0 && /* @__PURE__ */ v(ve, { children: [
          /* @__PURE__ */ l("h2", { className: "mt-2", children: "Uploaded files" }),
          /* @__PURE__ */ v("p", { children: [
            "Last ",
            11,
            " uploaded files"
          ] }),
          /* @__PURE__ */ l("ul", { className: "list-group", children: n.map((N, D) => /* @__PURE__ */ v("li", { className: "list-group-item", children: [
            /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
              /* @__PURE__ */ v("span", { children: [
                D + 1,
                " ",
                /* @__PURE__ */ l("a", { href: $x() + N.url, children: N.name }),
                N.has_monitor_step_loggings && /* @__PURE__ */ l(hn, { className: "ms-1 bg-primary", children: "Logging" })
              ] }),
              /* @__PURE__ */ v("span", { children: [
                Math.round(N.size / 1024),
                "kiB"
              ] })
            ] }),
            /* @__PURE__ */ l("small", { className: "text-muted", children: On(N.date_created, "DD-MM-YY HH:mm") })
          ] }, D)) })
        ] })
      ] })
    ] })
  ] });
}
function tW() {
  let { id: e } = mt();
  const [t, n] = nn({
    queries: [
      {
        queryKey: ["monitor", e],
        queryFn: () => Au({ id: parseInt(e) })
      },
      {
        queryKey: ["requirements", e],
        queryFn: () => iv({ monitorId: parseInt(e) })
      }
    ]
  });
  return t.isLoading ? /* @__PURE__ */ l("div", { children: "Loading..." }) : /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ v("h1", { className: "display-4", children: [
      "SPC Test ",
      t.data?.name
    ] }),
    n.data?.items.map((r, i) => /* @__PURE__ */ l("div", { className: "border border-1 p-3 my-3", children: /* @__PURE__ */ l(AG, { requirement: r }) }, i))
  ] });
}
function nW() {
  return /* @__PURE__ */ l(Fi, { fluid: !0, children: /* @__PURE__ */ l(Es, {}) });
}
const DG = () => {
  const [e, t] = B(null), { id: n } = mt();
  re(() => {
    e === null && Au({ id: parseInt(n) }).then(t);
  }, [n, e]);
  function r() {
    Au({ id: parseInt(n) }).then(t);
  }
  return { monitor: e, setMonitor: t, reloadMonitor: r };
}, OG = vr({
  monitor: {},
  reloadMonitor: () => {
  }
});
function rW({ children: e }) {
  const { monitor: t, reloadMonitor: n } = DG();
  return t === null ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center h-100 vh-100 flex-row align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column align-items-center", children: [
    /* @__PURE__ */ l("h1", { children: "Loading Monitor" }),
    /* @__PURE__ */ l("div", { className: "spinner-border", style: { width: "3rem", height: "3rem" }, role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading monitor" }) })
  ] }) }) : /* @__PURE__ */ l(
    OG.Provider,
    {
      value: {
        monitor: t,
        reloadMonitor: n
      },
      children: e
    }
  );
}
const MG = () => {
  const [e, t] = B(null), { id: n } = mt();
  re(() => {
    (e === null || n !== e.id.toString()) && jo({ id: parseInt(n) }).then(t);
  }, [n, e]);
  function r() {
    jo({ id: parseInt(n) }).then(t);
  }
  return { run: e, reloadRun: r };
}, Ta = vr({
  run: {},
  reloadRun: () => {
  }
});
function RG({ children: e }) {
  const { run: t, reloadRun: n } = MG();
  return t === null ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center h-100 vh-100 flex-row align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column align-items-center", children: [
    /* @__PURE__ */ l("h1", { children: "Loading run" }),
    /* @__PURE__ */ l("div", { className: "spinner-border", style: { width: "3rem", height: "3rem" }, role: "status", children: /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading run" }) })
  ] }) }) : /* @__PURE__ */ l(
    Ta.Provider,
    {
      value: {
        run: t,
        reloadRun: n
      },
      children: e
    }
  );
}
function TG({ text: e }) {
  if (!e) return null;
  const t = e.split(/\r\n|\n|\r/);
  return /* @__PURE__ */ l(ve, { children: t.map((n, r) => /* @__PURE__ */ v(ne.Fragment, { children: [
    n,
    r < t.length - 1 && /* @__PURE__ */ l("br", {})
  ] }, r)) });
}
const Ia = ({ children: e, format: t = "d-M-Y" }) => {
  const n = Date.parse(e);
  return /* @__PURE__ */ l(ve, { children: xe(n).format(t) });
}, Zx = ({ run: e }) => {
  const [t, n] = B(e.batch_card), [r, i] = B(!1), { register: a, handleSubmit: s, formState: o, resetField: c } = rn({
    defaultValues: {
      content: t?.content
    }
  }), { isSubmitting: u, errors: f } = o, p = async (h) => {
    await ae.create().patch("update/run/batch-card/" + e.id, {
      content: h.content
    }), i(!1);
    const y = await ae.get("view/run/" + e.id);
    n(y.data.batch_card);
  }, g = async (h) => {
    await ae.create().delete("delete/run/batch-card/" + e.id), i(!1), n(void 0), c("content");
  };
  return r ? /* @__PURE__ */ v(j, { onSubmit: s(p), className: "mb-3", children: [
    /* @__PURE__ */ v(ln, { hasValidation: !0, children: [
      /* @__PURE__ */ l(
        j.Control,
        {
          as: "textarea",
          rows: 6,
          ...a("content", { required: !0 }),
          isInvalid: f.content !== void 0
        }
      ),
      f.content && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: "This field is required" })
    ] }),
    /* @__PURE__ */ v("div", { className: "d-flex gap-2 justify-content-between mt-2", children: [
      /* @__PURE__ */ v("div", { children: [
        /* @__PURE__ */ v(ce, { variant: "primary", type: "submit", disabled: u, children: [
          u && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
          "Save batch card"
        ] }),
        /* @__PURE__ */ l(ce, { variant: "secondary", className: "ms-2", onClick: () => i(!1), children: "Cancel" })
      ] }),
      t && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "danger", className: "ms-auto", onClick: () => g(), children: "Delete batch card" }) })
    ] })
  ] }) : t ? t && /* @__PURE__ */ v(Ze, { className: "rounded my-4", children: [
    /* @__PURE__ */ v(Ze.Body, { children: [
      /* @__PURE__ */ l(Ze.Title, { className: "text-muted", children: "Batch card" }),
      /* @__PURE__ */ l(Ze.Text, { children: t && /* @__PURE__ */ l("span", { className: "text-danger fs-3", children: /* @__PURE__ */ l(TG, { text: t.content }) }) })
    ] }),
    /* @__PURE__ */ v(Ze.Footer, { className: "d-flex justify-content-between align-items-center", children: [
      /* @__PURE__ */ v("div", { children: [
        "Created by ",
        t.user.first_name,
        " ",
        t.user.last_name,
        " on",
        " ",
        /* @__PURE__ */ l(Ia, { format: "DD-MM-YY", children: t.date_created }),
        t.last_update && /* @__PURE__ */ v("span", { children: [
          " ",
          "- Updated on ",
          /* @__PURE__ */ l(Ia, { format: "DD-MM-YY H:m", children: t.last_update })
        ] })
      ] }),
      /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "primary", size: "sm", onClick: () => i(!0), children: "Update Batch Card" }) })
    ] })
  ] }) : /* @__PURE__ */ l(ce, { variant: "primary", className: "mb-4", onClick: () => i(!0), children: "Create Batch Card" });
};
function FG() {
  const { run: e } = ke(Ta);
  return /* @__PURE__ */ v(ve, { children: [
    e.run_type === Vn.RESEARCH && /* @__PURE__ */ l("small", { children: "Research run" }),
    e.run_type === Vn.PRODUCTION && /* @__PURE__ */ l("small", { children: "Production run" }),
    /* @__PURE__ */ l("div", { className: "d-flex justify-content-between align-items-center mb-3", children: /* @__PURE__ */ v("h1", { className: "display-4", children: [
      e.name,
      " (",
      e.project.name,
      ")"
    ] }) }),
    /* @__PURE__ */ l(Zx, { run: e })
  ] });
}
function PG(e) {
  const { run: t, reloadRun: n } = ke(Ta), { environment: r } = mt(), i = window.location.pathname;
  let a = [
    {
      title: "Information",
      link: `/${r}/operator/run/details/${t.id}/information`
    }
  ];
  return a.push({
    title: "Steps",
    link: `/${r}/operator/run/details/${t.id}/steps`
  }), /* @__PURE__ */ l(jh, { variant: "tabs", className: e.className, defaultActiveKey: "/home", activeKey: i, children: a.map((s, o) => /* @__PURE__ */ l(jh.Item, { children: /* @__PURE__ */ l(pn, { to: s.link, className: "nav-link " + (s.link === i ? "active" : ""), children: s.title }) }, o)) });
}
function iW() {
  return /* @__PURE__ */ l(RG, { children: /* @__PURE__ */ v(Fi, { fluid: !0, children: [
    /* @__PURE__ */ l(FG, {}),
    /* @__PURE__ */ l(PG, { className: "mb-4" }),
    /* @__PURE__ */ l(Es, {})
  ] }) });
}
const fp = vr({
  showOnlyEmphasizedParameters: !1,
  setShowOnlyEmphasizedParameters: () => {
  }
}), LG = ({ parameter: e, value: t, refetchFn: n }) => {
  const [r, i] = B(!1), [a, s] = B(t.value), o = async (c) => {
    const u = {
      value: c
    };
    try {
      t.id !== void 0 ? await ae.patch(`/update/run/step/parameter/value/${t.id}`, u) : (u.parameter = e.id, await ae.post("/create/run/step/parameter/value", u));
    } catch (f) {
      console.error("Failed to update parameter value with error: ", f);
    }
    n(), i(!1);
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(
      "span",
      {
        style: {
          cursor: "pointer",
          borderBottom: "1px dashed #999",
          display: r ? "none" : ""
        },
        className: t.value == "" || t.value == null ? "text-muted" : "",
        onClick: () => {
          i(!r);
        },
        children: t.value !== "" && t.value !== null ? t.value : "edit"
      }
    ),
    /* @__PURE__ */ v("div", { style: { display: r ? "" : "none" }, className: "btn-group", children: [
      /* @__PURE__ */ l(
        "input",
        {
          type: "text",
          value: a ?? "",
          className: "form-control",
          onChange: (c) => s(c.target.value)
        }
      ),
      /* @__PURE__ */ l(
        "button",
        {
          onClick: () => {
            o(a);
          },
          className: "btn btn-success btn-sm",
          children: /* @__PURE__ */ l("i", { className: "fa fa-check" })
        }
      ),
      /* @__PURE__ */ l(
        "button",
        {
          onClick: () => {
            i(!1);
          },
          className: "btn btn-danger btn-sm",
          children: /* @__PURE__ */ l("i", { className: "fa fa-times" })
        }
      )
    ] })
  ] });
}, cc = ({
  runStep: e,
  showOnlyEmphasizedParameters: t,
  editableParameters: n = !0,
  refetchFn: r
}) => {
  const { data: i, isLoading: a } = Gn({
    queryKey: ["runStepParameters", e.id],
    queryFn: () => LI({ runStep: e })
  }), s = $n(), o = () => {
    s.refetchQueries({ queryKey: ["runStepParameters", e.id] }), r && r();
  }, c = i?.items ?? [], u = t ? c.filter((f) => f.emphasize) : c;
  return a ? /* @__PURE__ */ l("div", { children: "Loading..." }) : c.length === 0 ? /* @__PURE__ */ l(Rt, { variant: "info", children: "No parameters found" }) : /* @__PURE__ */ v(Qt, { children: [
    /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("th", { children: "Pos" }),
      /* @__PURE__ */ l("th", { children: "Parameter" }),
      c[0].values.map((f, p) => /* @__PURE__ */ l("th", { children: "Value" }, p)),
      /* @__PURE__ */ l("th", { children: "Unit" })
    ] }) }),
    /* @__PURE__ */ l("tbody", { children: u.length > 0 ? u.map((f) => /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("small", { className: "text-muted", children: f.sequence }) }),
      /* @__PURE__ */ l("td", { children: f.parameter.name }),
      f.values.map((p, g) => /* @__PURE__ */ l("td", { children: n ? /* @__PURE__ */ l(LG, { parameter: f, refetchFn: o, value: p }) : /* @__PURE__ */ l("span", { children: p.value }) }, g)),
      /* @__PURE__ */ l("td", { children: f.unit?.abbr ?? "" })
    ] }, f.id)) : /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { colSpan: 3 + c[0].values.length, children: "No emphasized parameters found." }) }) })
  ] });
}, VG = (e) => {
  if (e === 0) return "0 Bytes";
  const t = 1024, n = ["Bytes", "KB", "MB", "GB", "TB"], r = Math.floor(Math.log(e) / Math.log(t));
  return `${parseFloat((e / Math.pow(t, r)).toFixed(2))} ${n[r]}`;
};
function uc({ runStep: e, refetchFn: t }) {
  const [n, r] = B([]), [i, a] = B(""), { data: s, isLoading: o } = Gn({
    queryKey: ["files", e.id],
    queryFn: () => PI({ step: e })
  }), c = $n(), u = () => {
    c.refetchQueries({ queryKey: ["files", e.id] }), t && t();
  }, f = s?.items ?? [], p = async (E) => {
    if (confirm(`Are you sure you want to delete ${E.name}? You can not undo this action`))
      try {
        await ae.delete(`delete/run/step/file/${E.id}`), u();
      } catch (C) {
        console.error(C);
      }
  }, g = (E) => {
    r((C) => [...C, ...E]), a(`${E.length} file(s) selected`);
  }, { getRootProps: h, getInputProps: y, isDragActive: _, isDragAccept: S, isDragReject: w } = zs({ onDrop: g }), I = Xe(
    () => ({
      ..._ ? { borderColor: "#83afee" } : {},
      ...S ? { borderColor: "#00e676" } : {},
      ...w ? { borderColor: "#ff1744" } : {}
    }),
    [S, w, _]
  ), b = () => {
    n.forEach((E) => {
      const C = new FileReader();
      C.onload = async () => {
        const A = C.result;
        try {
          await ae.create().post("update/run/step/upload-file/" + e.id, {
            content: A,
            filename: E.name,
            type: E.type
          });
        } catch (N) {
          a("Upload failed due to: " + N.response.data.detail);
        }
        try {
          u(), a("Files uploaded succesfully"), r([]);
        } catch (N) {
          a("Error refetching file data"), console.error(N);
        }
      }, C.readAsDataURL(E);
    });
  };
  return o ? /* @__PURE__ */ l("div", { children: "Loading..." }) : /* @__PURE__ */ v("div", { children: [
    f && f.length > 0 && /* @__PURE__ */ v(Qt, { hover: !0, striped: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "No" }),
        /* @__PURE__ */ l("th", { children: "File" }),
        /* @__PURE__ */ l("th", { children: "Size" }),
        /* @__PURE__ */ l("th", { children: "Date" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: f.map((E, C) => /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("small", { className: "text-muted", children: C + 1 }) }),
        /* @__PURE__ */ v("td", { children: [
          /* @__PURE__ */ l("a", { href: `${$x()}${E.url}`, children: E.name }),
          E.has_run_step_loggings && /* @__PURE__ */ l(hn, { className: "ms-1 bg-primary", children: "Logging" })
        ] }),
        /* @__PURE__ */ v("td", { children: [
          /* @__PURE__ */ l(
            "i",
            {
              className: "fa fa-trash-o remove-file handle",
              style: { cursor: "pointer" },
              onClick: () => p(E)
            }
          ),
          " ",
          VG(E.size)
        ] }),
        /* @__PURE__ */ l("td", { children: On(E.date_created, "DD-MM-YY HH:mm") })
      ] }, C)) })
    ] }),
    /* @__PURE__ */ v(
      "div",
      {
        ...h({
          style: I,
          className: "dropzone bg-secondary-subtle border rounded dz-clickable"
        }),
        children: [
          /* @__PURE__ */ l("input", { ...y() }),
          _ ? /* @__PURE__ */ l("p", { children: "Drop files here..." }) : /* @__PURE__ */ l("p", { children: "Drag and drop files here or click to select" })
        ]
      }
    ),
    n.length > 0 && /* @__PURE__ */ l(kn, { className: "mt-3", children: n.map((E, C) => /* @__PURE__ */ l(kn.Item, { children: E.name }, C)) }),
    /* @__PURE__ */ v("div", { className: "text-start", children: [
      /* @__PURE__ */ l(ce, { className: "mt-3", onClick: b, disabled: n.length === 0, children: "Upload Selected Files" }),
      /* @__PURE__ */ l("p", { className: "mt-2 text-muted", children: i })
    ] })
  ] });
}
const Id = ({
  runStepPart: e,
  setRunStepPart: t,
  editable: n = !0
}) => {
  const [r, i] = B(!1), [a, s] = B(e.comment), { register: o, handleSubmit: c, formState: u, resetField: f } = rn({
    defaultValues: {
      comment: a
    }
  }), { isSubmitting: p, errors: g } = u, h = async (y) => {
    await ae.create().patch("update/run/step/part/" + e.id, {
      comment: y.comment
    }).then((_) => {
      t({
        ...e,
        comment: _.data.comment
      }), s(_.data.comment), i(!1);
    });
  };
  return n ? r ? /* @__PURE__ */ v(j, { onSubmit: c(h), children: [
    /* @__PURE__ */ l(j.Group, { className: "mb-3", controlId: "formBasicEmail", children: /* @__PURE__ */ l(j.Control, { as: "textarea", ...o("comment") }) }),
    /* @__PURE__ */ l(ce, { size: "sm", type: "submit", disabled: p, children: "Save" }),
    /* @__PURE__ */ l(ce, { variant: "warning", size: "sm", className: "ms-2", onClick: () => i(!1), children: "Cancel" })
  ] }) : a === null ? /* @__PURE__ */ l(ce, { variant: "link", size: "sm", className: "p-0 text-muted", onClick: () => i(!0), children: "Add comment" }) : /* @__PURE__ */ v("div", { className: "d-flex align-items-start gap-2", children: [
    /* @__PURE__ */ l("div", { className: "text-break", children: a }),
    /* @__PURE__ */ l(
      ce,
      {
        variant: "link",
        size: "sm",
        className: "p-0 text-muted",
        onClick: () => i(!0),
        children: "Edit"
      }
    )
  ] }) : /* @__PURE__ */ l("div", { children: a });
}, BG = ({
  runStepPart: e,
  editable: t = !0,
  reloadFn: n,
  partIsSelected: r,
  setPartAsSelected: i
}) => {
  const [a, s] = B(e);
  re(() => {
    s(e);
  }, [e]);
  const o = a.latest_action?.type.id === Ge.FINISH_PROCESSING, c = a.latest_action?.type.id === Ge.FAILED_PROCESSING, u = ({
    runStepPart: f,
    runStepPartAction: p
  }) => {
    _l({ runStepPart: f, runStepPartAction: p }).then((g) => {
      s({
        ...f,
        latest_action: g,
        actions: f.actions + 1
      });
    }).then(() => {
      n && n();
    });
  };
  return e.part_processing_failed_in_previous_step ? /* @__PURE__ */ v("tr", { className: "table-danger", children: [
    /* @__PURE__ */ v("td", { children: [
      e.part.short_label,
      e.part.label && e.part.label.trim().length > 0 ? ` (${e.part.label})` : ""
    ] }),
    /* @__PURE__ */ l("td", { colSpan: t ? 3 : 2, children: /* @__PURE__ */ l("span", { children: "Processing failed in a previous step" }) }),
    /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(Id, { runStepPart: e, setRunStepPart: s }) })
  ] }) : /* @__PURE__ */ v("tr", { className: o ? "table-success" : c ? "table-danger" : "", children: [
    /* @__PURE__ */ v("td", { children: [
      a.part.short_label,
      a.part.label && a.part.label.trim().length > 0 ? ` (${a.part.label})` : "",
      " ",
      i && r !== void 0 && /* @__PURE__ */ l(
        "input",
        {
          type: "checkbox",
          name: "tomato",
          checked: r,
          onChange: () => {
            i(a.id);
          }
        }
      )
    ] }),
    /* @__PURE__ */ l("td", { className: "text-center", children: a.latest_action?.type.name }),
    t && /* @__PURE__ */ l("td", { className: "text-center", children: /* @__PURE__ */ v("div", { className: " d-flex gap-2 justify-content-center", children: [
      a.actions === 0 && /* @__PURE__ */ l(
        ce,
        {
          onClick: () => u({
            runStepPart: a,
            runStepPartAction: Ge.START_PROCESSING
          }),
          className: "btn-success btn-sm",
          children: "Start"
        }
      ),
      a.actions > 0 && a.latest_action?.type.id !== Ge.FINISH_PROCESSING && a.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
        ce,
        {
          onClick: () => u({
            runStepPart: a,
            runStepPartAction: Ge.FINISH_PROCESSING
          }),
          className: "btn-primary btn-sm",
          children: "Finish"
        }
      ),
      a.actions > 0 && a.latest_action?.type.id !== Ge.FINISH_PROCESSING && a.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
        ce,
        {
          onClick: () => u({
            runStepPart: a,
            runStepPartAction: Ge.FAILED_PROCESSING
          }),
          className: "btn-danger btn-sm",
          children: "Failed"
        }
      ),
      a.actions > 0 && /* @__PURE__ */ l(
        ce,
        {
          onClick: () => u({
            runStepPart: a,
            runStepPartAction: Ge.REWORK
          }),
          className: "btn-info btn-sm",
          children: "Rework"
        }
      )
    ] }) }),
    /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(Id, { editable: t, runStepPart: e, setRunStepPart: s }) })
  ] });
}, pp = ({
  run: e,
  runStep: t,
  runStepParts: n,
  editable: r = !0,
  refetchFn: i = () => {
  }
}) => {
  const [a, s] = B(n || []), { isLoading: o, isError: c, error: u, data: f } = Gn({
    queryKey: ["stepParts", t],
    queryFn: () => Ns({ step: t }),
    enabled: !n
    // Only run the query if runStepParts is not provided
  }), [p, g] = B(/* @__PURE__ */ new Map());
  if (re(() => {
    for (const w of a)
      g((I) => {
        const b = new Map(I);
        return b.set(w.id, !1), b;
      });
  }, [a]), re(() => {
    c && console.error("RunPartsResearchRun query error", { error: u, runStep: t });
  }, [c, u, t]), re(() => {
    !o && f && !n && s(f.items);
  }, [o, f, n]), re(() => {
    n && s(n);
  }, [n]), o)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  if (c)
    return /* @__PURE__ */ l("div", { className: "text-danger", children: "Error loading run parts." });
  if (a.length === 0)
    return null;
  const h = (w) => {
    g((I) => {
      const b = new Map(I);
      return b.set(w, !I.get(w)), b;
    });
  }, y = () => {
    g((w) => {
      const I = new Map(w);
      for (const b of I.keys())
        I.set(b, !0);
      return I;
    });
  }, _ = () => {
    g((w) => {
      const I = new Map(w);
      for (const b of I.keys())
        I.set(b, !1);
      return I;
    });
  }, S = () => {
    const w = n?.filter((b) => p.get(b.id));
    if (!w || w.length === 0)
      return null;
    const I = /* @__PURE__ */ new Set();
    return w.forEach((b) => {
      Du(b).forEach((C) => I.add(C));
    }), I.size === 0 ? null : /* @__PURE__ */ v(je, { align: "end", children: [
      /* @__PURE__ */ l(je.Toggle, { size: "sm", variant: "outline-secondary", children: "Actions" }),
      /* @__PURE__ */ v(je.Menu, { children: [
        I.has(Ge.START_PROCESSING) && /* @__PURE__ */ l(je.Item, { onClick: () => !1, children: "Start" }),
        I.has(Ge.FINISH_PROCESSING) && /* @__PURE__ */ l(je.Item, { onClick: () => !1, children: "Finish" }),
        I.has(Ge.FAILED_PROCESSING) && /* @__PURE__ */ l(je.Item, { onClick: () => !1, children: "Failed" }),
        I.has(Ge.REWORK) && /* @__PURE__ */ l(je.Item, { onClick: () => !1, children: "Rework" })
      ] })
    ] });
  };
  return /* @__PURE__ */ l(ne.Fragment, { children: a && a.length > 0 && /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(Qt, { size: "sm", striped: !0, bordered: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "Part" }),
        /* @__PURE__ */ l("th", { className: "text-center", children: "Status" }),
        r && /* @__PURE__ */ l("th", { className: "text-center", children: "Operation" }),
        /* @__PURE__ */ l("th", { children: "Comment" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: a.map((w, I) => /* @__PURE__ */ l(
        BG,
        {
          editable: r,
          runStepPart: w,
          reloadFn: i,
          ...r ? {
            partIsSelected: p.get(w.id),
            setPartAsSelected: h
          } : {}
        },
        I
      )) })
    ] }),
    r && /* @__PURE__ */ v("div", { children: [
      /* @__PURE__ */ v("div", { className: "btn-group", children: [
        /* @__PURE__ */ l("button", { className: "part-check-all btn btn-sm btn-outline-secondary", onClick: y, children: "All" }),
        /* @__PURE__ */ l("button", { className: "part-check-none btn btn-sm btn-outline-secondary", onClick: _, children: "None" })
      ] }),
      p.values().some((w) => w) && S()
    ] })
  ] }) });
}, GG = ({
  runPart: e,
  runStepParts: t,
  runStep: n,
  refetchFn: r = () => {
  },
  partIsSelected: i,
  setPartAsSelected: a
}) => {
  const [s, o] = B(void 0), c = $n();
  re(() => {
    o(
      t.find(
        (h) => h.part.id === e.id && h.step.id === n.id
      )
    );
  }, [t, e, n]);
  const u = () => {
    ae.post("/create/run/step/part", {
      run_part_id: e.id,
      run_step_id: n.id
    }).then((h) => {
      o({ ...h.data }), r(), c.invalidateQueries({
        queryKey: ["runSteps", "runStepParts"]
      });
    });
  }, f = ({
    runStepPart: h,
    runStepPartAction: y
  }) => {
    _l({ runStepPart: h, runStepPartAction: y }).then((_) => {
      o({
        ...h,
        latest_action: _,
        actions: h.actions + 1
      });
    }).then(() => {
      r(), c.invalidateQueries({
        queryKey: ["runSteps"]
      });
    });
  };
  if (!s)
    return /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ v("td", { children: [
        "Part ",
        e.short_label,
        e.label && e.label.trim().length > 0 ? ` (${e.label})` : "",
        a && /* @__PURE__ */ l(
          "input",
          {
            type: "checkbox",
            name: "tomato",
            checked: i,
            onChange: () => {
              a(e.id);
            }
          }
        )
      ] }),
      /* @__PURE__ */ l("td", { colSpan: 2 }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(ce, { size: "sm", variant: "outline-info", onClick: () => u(), children: "Init" }) }),
      /* @__PURE__ */ l("td", {})
    ] });
  const p = s.latest_action?.type.id === Ge.FINISH_PROCESSING, g = s.latest_action?.type.id === Ge.FAILED_PROCESSING;
  return /* @__PURE__ */ v("tr", { className: p ? "table-success" : g ? "table-danger" : "", children: [
    /* @__PURE__ */ v("td", { children: [
      "Part ",
      s.part.short_label,
      s.part.label && s.part.label.trim().length > 0 ? ` (${s.part.label})` : "",
      a && /* @__PURE__ */ l(
        "input",
        {
          type: "checkbox",
          name: "tomato",
          checked: i,
          onChange: () => {
            a(e.id);
          }
        }
      )
    ] }),
    /* @__PURE__ */ l("td", { children: s.latest_action?.type.name }),
    /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(ve, { children: On(s.latest_action?.date_created, "DD-MM-YY HH:mm") }) }),
    /* @__PURE__ */ l("td", { children: /* @__PURE__ */ v(je, { align: "end", children: [
      /* @__PURE__ */ l(je.Toggle, { size: "sm", variant: "outline-secondary", children: "Actions" }),
      /* @__PURE__ */ v(je.Menu, { children: [
        s.actions === 0 && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => f({
              runStepPart: s,
              runStepPartAction: Ge.START_PROCESSING
            }),
            children: "Start"
          }
        ),
        s.actions > 0 && s.latest_action?.type.id !== Ge.FINISH_PROCESSING && s.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => f({
              runStepPart: s,
              runStepPartAction: Ge.FINISH_PROCESSING
            }),
            children: "Finish"
          }
        ),
        s.actions > 0 && s.latest_action?.type.id !== Ge.FINISH_PROCESSING && s.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => f({
              runStepPart: s,
              runStepPartAction: Ge.FAILED_PROCESSING
            }),
            children: "Failed"
          }
        ),
        s.actions > 0 && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => f({
              runStepPart: s,
              runStepPartAction: Ge.REWORK
            }),
            children: "Rework"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(Id, { runStepPart: s, setRunStepPart: o }) })
  ] });
}, hp = ({
  run: e,
  runStep: t,
  runStepParts: n,
  runParts: r,
  refetchFn: i = () => {
  }
}) => {
  const a = $n(), s = nn({
    queries: [
      {
        queryKey: ["runParts", e],
        queryFn: () => Sl({ run: e }),
        enabled: !r
        // don't fetch if runParts prop provided
      },
      {
        queryKey: ["runStepParts", t.id],
        queryFn: () => Ns({ step: t }),
        enabled: !n
        // don't fetch if runStepParts prop provided
      }
    ]
  }), [o, c] = s, u = s.some((C) => C.isLoading), f = s.some((C) => C.isError), p = Xe(
    () => r ?? o.data?.items ?? [],
    [r, o.data]
  ), g = Xe(
    () => n ?? c.data?.items ?? [],
    [n, c.data]
  ), h = Xe(
    () => p.filter((C) => C.part_level === t.part_level),
    [p]
  ), [y, _] = B(/* @__PURE__ */ new Map());
  re(() => {
    _((C) => {
      const A = /* @__PURE__ */ new Map();
      for (const N of h)
        A.set(N.id, C.get(N.id) ?? !1);
      return A;
    });
  }, [h]);
  const S = (C) => {
    _((A) => {
      const N = new Map(A);
      return N.set(C, !A.get(C)), N;
    });
  }, w = () => {
    _((C) => {
      const A = new Map(C);
      for (const N of A.keys())
        A.set(N, !0);
      return A;
    });
  }, I = () => {
    _((C) => {
      const A = new Map(C);
      for (const N of A.keys())
        A.set(N, !1);
      return A;
    });
  };
  if (u)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  if (f)
    return /* @__PURE__ */ l("div", { className: "text-danger", children: "Error loading run parts." });
  const b = (C) => {
    g.filter((N) => h.find((D) => D.id == N.part.id)).filter((N) => y.get(N.part.id)).forEach((N) => {
      Du(N).some((D) => D === C) && _l({ runStepPart: N, runStepPartAction: C }).then(() => {
        a.refetchQueries({ queryKey: ["runStepParts", t.id] }), i && i();
      });
    });
  }, E = () => {
    const C = h.filter((P) => y.get(P.id));
    if (!C || C.length === 0)
      return null;
    const A = g.filter((P) => h.find((G) => G.id == P.part.id)).filter((P) => y.get(P.part.id)), N = C.some(
      (P) => !g.find(
        (G) => G.part.id === P.id && G.step.id === t.id
      )
    ), D = () => {
      const P = C.filter(
        (G) => !g.find(
          (Y) => Y.part.id === G.id && Y.step.id === t.id
        )
      );
      Promise.all(
        P.map(
          (G) => ae.post("/create/run/step/part", {
            run_part_id: G.id,
            run_step_id: t.id
          })
        )
      ).then(() => {
        a.refetchQueries({ queryKey: ["runStepParts", t.id] }), i && i();
      });
    }, F = /* @__PURE__ */ new Set();
    return A.forEach((P) => {
      Du(P).forEach((Y) => F.add(Y));
    }), F.size === 0 && !N ? null : /* @__PURE__ */ v(je, { align: "end", children: [
      /* @__PURE__ */ l(je.Toggle, { size: "sm", variant: "secondary", children: "Actions" }),
      /* @__PURE__ */ v(je.Menu, { children: [
        N && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => {
              D();
            },
            children: "Init"
          }
        ),
        F.has(Ge.START_PROCESSING) && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => {
              b(Ge.START_PROCESSING);
            },
            children: "Start"
          }
        ),
        F.has(Ge.FINISH_PROCESSING) && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => {
              b(Ge.FINISH_PROCESSING);
            },
            children: "Finish"
          }
        ),
        F.has(Ge.FAILED_PROCESSING) && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => {
              b(Ge.FAILED_PROCESSING);
            },
            children: "Failed"
          }
        ),
        F.has(Ge.REWORK) && /* @__PURE__ */ l(
          je.Item,
          {
            onClick: () => {
              b(Ge.REWORK);
            },
            children: "Rework"
          }
        )
      ] })
    ] });
  };
  return /* @__PURE__ */ l(ne.Fragment, { children: h.length > 0 && /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(Qt, { size: "sm", striped: !0, hover: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "Part" }),
        /* @__PURE__ */ l("th", { children: "Status" }),
        /* @__PURE__ */ l("th", { children: "Date" }),
        /* @__PURE__ */ l("th", { children: "Actions" }),
        /* @__PURE__ */ l("th", { children: "Comment" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: h.map((C, A) => /* @__PURE__ */ l(
        GG,
        {
          runStep: t,
          runPart: C,
          runStepParts: g,
          refetchFn: i,
          partIsSelected: y.get(C.id) ?? !1,
          setPartAsSelected: S
        },
        A
      )) })
    ] }),
    /* @__PURE__ */ v("div", { className: "d-flex gap-3", children: [
      /* @__PURE__ */ v("div", { className: "btn-group", children: [
        /* @__PURE__ */ l("button", { className: "part-check-all btn btn-sm btn-outline-secondary", onClick: w, children: "All" }),
        /* @__PURE__ */ l("button", { className: "part-check-none btn btn-sm btn-outline-secondary", onClick: I, children: "None" })
      ] }),
      y.values().some((C) => C) && E()
    ] })
  ] }) });
};
function YG({
  run: e,
  step: t,
  stepParts: n,
  parts: r,
  refetchFn: i = () => null
}) {
  const { showOnlyEmphasizedParameters: a } = ke(fp);
  return e || (e = ke(Ta).run), /* @__PURE__ */ l(Ze, { className: "p-4 my-3", children: /* @__PURE__ */ l(Ze.Body, { children: /* @__PURE__ */ v(Yn, { children: [
    /* @__PURE__ */ v(Mt, { md: "6", children: [
      e.run_type === Vn.RESEARCH && /* @__PURE__ */ l(
        pp,
        {
          run: e,
          runStep: t,
          runStepParts: n,
          refetchFn: () => {
            i(["runStepParts"]);
          }
        }
      ),
      e.run_type === Vn.PRODUCTION && /* @__PURE__ */ l(
        hp,
        {
          run: e,
          runStep: t,
          runParts: r,
          refetchFn: () => {
            i(["runStepParts"]);
          }
        }
      ),
      t.has_remark && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l("h4", { children: "Remark" }),
        /* @__PURE__ */ l("span", { dangerouslySetInnerHTML: { __html: t.remark } })
      ] })
    ] }),
    /* @__PURE__ */ v(Mt, { md: "6", children: [
      /* @__PURE__ */ l("h4", { children: "Parameters" }),
      /* @__PURE__ */ l(
        cc,
        {
          runStep: t,
          showOnlyEmphasizedParameters: a,
          refetchFn: () => {
            i([JSON.stringify(t), "parameters"]);
          }
        }
      ),
      /* @__PURE__ */ l("h4", { children: "Files" }),
      /* @__PURE__ */ l(
        uc,
        {
          runStep: t,
          refetchFn: () => {
            i(["runSteps"]);
          }
        }
      )
    ] })
  ] }) }) });
}
const qx = ({
  step: e,
  parts: t,
  stepParts: n
}) => {
  const r = t.filter((o) => o.part_level === e.part_level).sort((o, c) => o.root_id && c.root_id && o.root_id !== c.root_id ? o.root_id - c.root_id : o.left - c.left), i = r.reduce((o, c) => {
    const u = c.root_id ?? c.id;
    return o[u] || (o[u] = []), o[u].push(c), o;
  }, {}), a = (o) => {
    const c = n.find((u) => u.part.id === o.id && u.step.id === e.id);
    return c ? c.part_processing_failed_in_previous_step ? "badge-failed-previous" : c.failed ? "badge-failed" : c.processed ? "badge-processed" : c.started ? "badge-started" : "" : "badge-inactive";
  }, s = (o) => /* @__PURE__ */ l(
    Di,
    {
      placement: "top",
      overlay: /* @__PURE__ */ l(si, { id: `tooltip-${o.id}`, children: `Level: ${o.part_level}${o.parent ? `, Parent: ${o.parent.short_label}` : ""}` }),
      children: /* @__PURE__ */ l(
        "span",
        {
          className: `badge badge-level-${o.part_level} ${a(o)} me-1`,
          children: o.label ?? o.short_label
        },
        o.id
      )
    },
    o.id
  );
  return /* @__PURE__ */ l(ve, { children: r[0] && r[0].parent ? Object.entries(i).map(([o, c]) => /* @__PURE__ */ v("div", { className: "mb-2", children: [
    /* @__PURE__ */ v("label", { className: "text-muted me-1", children: [
      c[0].parent?.short_label,
      ":"
    ] }),
    " ",
    c.map((u) => s(u))
  ] }, o)) : r.map((o) => s(o)) });
}, WG = ({
  runPart: e,
  runStepParts: t,
  runStep: n,
  reloadFn: r = () => {
  }
}) => {
  const [i, a] = B(void 0), s = $n();
  re(() => {
    a(
      t.find(
        (f) => f.part.id === e.id && f.step.id === n.id
      )
    );
  }, [t, e, n]);
  const o = () => {
    ae.post("/create/run/step/part", {
      run_part_id: e.id,
      run_step_id: n.id
    }).then((f) => {
      a({ ...f.data }), r(), s.invalidateQueries({
        queryKey: ["runSteps", "runStepParts"]
      });
    });
  }, c = ({
    runStepPart: f,
    runStepPartAction: p
  }) => {
    _l({ runStepPart: f, runStepPartAction: p }).then((g) => {
      a({
        ...f,
        latest_action: g,
        actions: f.actions + 1
      });
    }).then(() => {
      r(), s.invalidateQueries({
        queryKey: ["runSteps"]
      });
    });
  }, u = (f) => {
    const p = t.find((g) => g.part.id === f.id && g.step.id === n.id);
    return p ? p.part_processing_failed_in_previous_step ? "badge-failed-previous" : p.failed ? "badge-failed" : p.processed ? "badge-processed" : p.started ? "badge-started" : "" : "badge-inactive";
  };
  return i ? /* @__PURE__ */ l("div", { style: { minWidth: "100px" }, children: /* @__PURE__ */ v(je, { children: [
    /* @__PURE__ */ v(
      je.Toggle,
      {
        size: "sm",
        variant: "outline-secondary",
        className: "border-2 w-100 " + u(e),
        children: [
          "Part ",
          i.part.label ?? i.part.short_label
        ]
      }
    ),
    /* @__PURE__ */ v(je.Menu, { children: [
      i.actions === 0 && /* @__PURE__ */ l(
        je.Item,
        {
          onClick: () => c({
            runStepPart: i,
            runStepPartAction: Ge.START_PROCESSING
          }),
          children: "Start"
        }
      ),
      i.actions > 0 && i.latest_action?.type.id !== Ge.FINISH_PROCESSING && i.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
        je.Item,
        {
          onClick: () => c({
            runStepPart: i,
            runStepPartAction: Ge.FINISH_PROCESSING
          }),
          children: "Finish"
        }
      ),
      i.actions > 0 && i.latest_action?.type.id !== Ge.FINISH_PROCESSING && i.latest_action?.type.id !== Ge.FAILED_PROCESSING && /* @__PURE__ */ l(
        je.Item,
        {
          onClick: () => c({
            runStepPart: i,
            runStepPartAction: Ge.FAILED_PROCESSING
          }),
          children: "Failed"
        }
      ),
      i.actions > 0 && /* @__PURE__ */ l(
        je.Item,
        {
          onClick: () => c({
            runStepPart: i,
            runStepPartAction: Ge.REWORK
          }),
          children: "Rework"
        }
      )
    ] })
  ] }) }) : /* @__PURE__ */ v(
    ce,
    {
      size: "sm",
      variant: "outline-secondary",
      style: { minWidth: "100px" },
      onClick: () => o(),
      children: [
        "Init ",
        e.label ?? e.short_label
      ]
    }
  );
}, zG = ({
  runStep: e,
  parts: t,
  runStepParts: n,
  reloadFn: r
}) => {
  const i = t.filter((o) => o.part_level === e.part_level).sort((o, c) => o.root_id && c.root_id && o.root_id !== c.root_id ? o.root_id - c.root_id : o.left - c.left), a = i.reduce((o, c) => {
    const u = c.root_id ?? c.id;
    return o[u] || (o[u] = []), o[u].push(c), o;
  }, {}), s = (o) => /* @__PURE__ */ l(
    WG,
    {
      runStep: e,
      runPart: o,
      runStepParts: n,
      reloadFn: r
    },
    o.id
  );
  return /* @__PURE__ */ l("div", { className: "d-flex flex-wrap gap-2", children: i[0] && i[0].parent ? Object.entries(a).map(([o, c]) => /* @__PURE__ */ v("div", { className: "mb-2", children: [
    /* @__PURE__ */ v("label", { className: "text-muted me-1", children: [
      c[0].parent?.short_label,
      ":"
    ] }),
    " ",
    c.map((u) => s(u))
  ] }, o)) : i.map((o) => s(o)) });
};
function HG({
  run: e,
  step: t,
  parts: n,
  stepParts: r,
  monitoredBy: i,
  refetchFn: a
}) {
  const { environment: s } = mt(), [o, c] = B(!1), u = () => {
    c(!o);
  }, [f, p] = B(t.process_module.module);
  return re(() => {
    p(t.process_module.module);
  }, [t.process_module.module]), /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
        "i",
        {
          className: "fa ms-2 " + (o ? "fa-chevron-down" : "fa-chevron-right"),
          style: { cursor: "pointer" },
          onClick: u
        }
      ) }),
      /* @__PURE__ */ v(
        "td",
        {
          className: f.latest_module_status && f.latest_module_status.status.is_down_status ? "table-danger" : "",
          children: [
            e.run_type === Vn.RESEARCH && /* @__PURE__ */ l(qx, { step: t, parts: n, stepParts: r }),
            e.run_type === Vn.PRODUCTION && /* @__PURE__ */ l(
              zG,
              {
                runStep: t,
                parts: n,
                runStepParts: r,
                reloadFn: () => {
                  a(["runStepParts"]);
                }
              }
            )
          ]
        }
      ),
      /* @__PURE__ */ v("td", { children: [
        i && /* @__PURE__ */ l(
          Di,
          {
            placement: "top",
            overlay: /* @__PURE__ */ l(si, { id: `tooltip-${i.id}`, children: `Monitored by step: ${i.step.number}` }),
            children: /* @__PURE__ */ l("i", { className: "fa fa-search me-2" })
          }
        ),
        t.amount_of_files > 0 && /* @__PURE__ */ v("span", { children: [
          /* @__PURE__ */ l("i", { className: "fa fa-paperclip" }),
          " ",
          t.amount_of_files
        ] }),
        t.has_remark && /* @__PURE__ */ l("i", { className: "fa fa-comment-o text-warning me-3" }),
        t.is_finished && /* @__PURE__ */ l("i", { className: "fa fa-check text-success me-3" })
      ] }),
      /* @__PURE__ */ v("td", { className: t.has_step_group ? "ps-4" : "", children: [
        t.number,
        " - ",
        /* @__PURE__ */ l(pn, { to: `/${s}/operator/run/step/${t.id}`, children: /* @__PURE__ */ l(
          "span",
          {
            dangerouslySetInnerHTML: {
              __html: t.name
            }
          }
        ) }),
        " "
      ] }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l(pn, { to: `/${s}/operator/equipment/${f.equipment.id}`, className: "me-2", children: f.equipment.name }),
        /* @__PURE__ */ l(
          Oi,
          {
            module: f,
            refetchFn: () => {
              a(["runSteps"]);
            }
          }
        )
      ] })
    ] }),
    o && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { colSpan: n.length + 6, children: /* @__PURE__ */ l(YG, { step: t, stepParts: r, parts: n, refetchFn: a }) }) })
  ] });
}
const _d = ({
  requirement: e,
  result: t,
  show: n,
  setShow: r,
  refetchFn: i,
  part: a,
  stepPart: s
}) => {
  const [o, c] = B({}), [u, f] = B(!1), [p, g] = B(null), [h, y] = B(!1);
  re(() => {
    if (Object.keys(o).length > 0)
      return;
    let b = {};
    for (const E of e.targets) {
      let C = "";
      t !== void 0 && (C = t.values.find((A) => A.logging_parameter.id == E.logging_parameter.id)?.string_value ?? ""), b[E.logging_parameter.id] = C;
    }
    c(b);
  }, [e]), re(() => {
    y(!1), g(null), f(!1);
  }, [n]);
  const _ = async () => {
    try {
      g(null), y(!1), f(!0), await ae.delete(`/delete/run/measurement/result/${t?.id ?? 0}`), y(!0), i(["requirement", "measurementResults", JSON.stringify(e.measurement.id)]);
    } catch (b) {
      console.error(b), g("Update of results failed");
    } finally {
      f(!1);
    }
  }, S = async () => {
    try {
      g(null), y(!1), f(!0);
      const b = Object.entries(o).map(async ([E, C]) => {
        const A = Number.parseInt(E), N = { value: C }, D = t?.values.find((F) => F.logging_parameter.id === A)?.id;
        await ae.patch(`/update/run/measurement/result/value/${D ?? 0}`, N);
      });
      await Promise.all(b), y(!0), i(["requirement", "measurementResults", JSON.stringify(e.measurement.id)]);
    } catch (b) {
      console.error(b), g("Update of results failed");
    } finally {
      f(!1);
    }
  }, w = async () => {
    const b = {
      measurement: e.measurement.id,
      values: Object.entries(o).flatMap((E) => ({ logging_parameter: Number.parseInt(E[0]), value: E[1] }))
    };
    s && (b.step_part = s?.id ?? 0, b.part = a?.id ?? 0, b.step = e.step.id ?? 0);
    try {
      g(null), y(!1), f(!0), await ae.post("/create/run/measurement/result", b), y(!0), i(["requirement", "measurementResults", JSON.stringify(e.measurement.id)]);
    } catch (E) {
      console.error(E), g("Update of results failed");
    } finally {
      f(!1);
    }
  }, I = (b) => {
    b.preventDefault(), t ? S() : w();
  };
  return /* @__PURE__ */ v(be, { show: n, size: "lg", onHide: () => r(!1), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: t ? /* @__PURE__ */ l(ve, { children: "Update results" }) : /* @__PURE__ */ l(ve, { children: "Create result" }) }) }),
    /* @__PURE__ */ v(j, { onSubmit: I, children: [
      /* @__PURE__ */ v(be.Body, { children: [
        p && /* @__PURE__ */ l(Rt, { variant: "danger", children: p }),
        h && /* @__PURE__ */ l(Rt, { variant: "success", children: "Results have been updated successfully" }),
        e.targets.map((b) => (t?.values.find(
          (E) => E.logging_parameter.id === b.logging_parameter.id
        )?.string_value, /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: b.logging_parameter.name }),
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "number",
              step: "any",
              placeholder: "Thickness",
              value: o[b.logging_parameter.id] ?? "",
              onChange: (E) => c((C) => ({
                ...C,
                [b.logging_parameter.id]: E.target.value
              }))
            }
          )
        ] }, b.id)))
      ] }),
      /* @__PURE__ */ v(be.Footer, { children: [
        /* @__PURE__ */ l(ce, { variant: "warning", onClick: () => r(!1), children: "Close" }),
        u ? /* @__PURE__ */ v(ce, { type: "submit", variant: "info", disabled: u, children: [
          /* @__PURE__ */ l(of, { animation: "border", size: "sm", className: "me-2" }),
          " Updating results..."
        ] }) : t ? /* @__PURE__ */ v(ve, { children: [
          /* @__PURE__ */ l(ce, { variant: "danger", disabled: u, onClick: _, children: "Delete result" }),
          /* @__PURE__ */ l(ce, { type: "submit", variant: "info", disabled: u, children: "Update result" })
        ] }) : /* @__PURE__ */ l(ce, { type: "submit", variant: "info", disabled: u, children: "Create result" })
      ] })
    ] })
  ] });
}, Ht = vr({
  runStep: {},
  setRunStep: (e) => {
  },
  reloadRunStep: () => {
  },
  run: {},
  modalProperties: {},
  setModalProperties: (e) => {
  }
});
function mp({
  requirement: e,
  step: t,
  stepParts: n,
  parts: r,
  measurementResults: i,
  refetchFn: a,
  editOnly: s = !1
}) {
  const { run: o } = ke(Ht), [c, u] = B(r ?? []), [f, p] = B(n ?? []), [g, h] = B(i ?? []), y = $n(), _ = nn({
    queries: [
      {
        queryKey: ["runParts", `${o?.id ?? "unknown"}`],
        queryFn: async () => await Sl({ run: o }),
        enabled: !r || r.length === 0,
        retry: 1
      },
      {
        queryKey: ["runStepParts", `${t?.run_id ?? "unknown"}`, `${t?.id ?? "unknown"}`],
        queryFn: async () => await Ns({ step: e.requirement_for_step ?? e.step }),
        enabled: !n || n.length === 0,
        retry: 1
      },
      {
        queryKey: ["requirement", "measurementResults", e.measurement.id],
        queryFn: async () => await Il({ measurement: e.measurement }),
        enabled: !i || i.length === 0,
        retry: 1
      }
    ]
  }), S = () => {
    y.refetchQueries({ queryKey: ["requirement", "measurementResults", e.measurement.id] });
  }, [w, I, b] = _;
  re(() => {
    r && r.length > 0 ? u(r) : w?.data && u(w.data.items);
  }, [r, w?.data]), re(() => {
    n && n.length > 0 ? p(n) : I?.data && p(I.data.items);
  }, [n, I?.data]), re(() => {
    i && i.length > 0 ? h(i) : b?.data && h(b.data.items);
  }, [i, b?.data]);
  const [E, C] = B(null), A = r && r.length > 0 ? r : c, D = ((n && n.length > 0 ? n : f) ?? []).filter(
    (L) => (A ?? []).find(
      (q) => q.id === L.part.id && q.part_level === t.part_level
    ) !== void 0
  ), F = !r || r.length === 0, P = !n || n.length === 0, G = !i || i.length === 0, Y = F && w?.isLoading || P && I?.isLoading || G && b?.isLoading, z = F && w?.isError || P && I?.isError || G && b?.isError;
  if (Y && D.length === 0)
    return /* @__PURE__ */ v("div", { className: "d-flex align-items-center gap-2", children: [
      /* @__PURE__ */ l(of, { animation: "border", size: "sm" }),
      " ",
      /* @__PURE__ */ l("span", { children: "Loading dataâ€¦" })
    ] });
  if (z && D.length === 0)
    return /* @__PURE__ */ v(Rt, { variant: "danger", className: "d-flex justify-content-between align-items-center", children: [
      /* @__PURE__ */ l("div", { children: "Failed to load required data. Please try again." }),
      /* @__PURE__ */ v("div", { children: [
        F && w?.isError && /* @__PURE__ */ l(ce, { size: "sm", variant: "outline-light", onClick: () => w.refetch(), children: "Retry parts" }),
        " ",
        P && I?.isError && /* @__PURE__ */ l(ce, { size: "sm", variant: "outline-light", onClick: () => I.refetch(), children: "Retry step parts" }),
        " ",
        G && b?.isError && /* @__PURE__ */ l(ce, { size: "sm", variant: "outline-light", onClick: () => b.refetch(), children: "Retry results" })
      ] })
    ] });
  const H = (L) => {
    if (!(L && !isNaN(parseFloat(L.string_value)))) return "";
    const q = parseFloat(L.string_value), te = e.targets.find((Ce) => Ce.logging_parameter.id === L.logging_parameter.id);
    return te ? (te.inclusive ? !(te.min_value <= q && te.max_value >= q) : !(te.min_value < q && te.max_value > q)) ? "table-danger" : "table-success" : "";
  };
  return /* @__PURE__ */ l(ve, { children: D.length > 0 ? /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(Qt, { size: "sm", striped: !0, hover: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { style: { width: "26%" }, children: "Part" }),
        /* @__PURE__ */ l("th", { children: "Parameter" }),
        /* @__PURE__ */ l("th", { children: "Value" }),
        /* @__PURE__ */ l("th", { children: "Unit" }),
        !s && /* @__PURE__ */ l("th", { style: { width: "1%" } })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: D.map((L) => {
        const q = g.find(
          (Ce) => Ce.values.some((O) => O.step_part_id === L.id)
        ), te = (q?.values ?? []).filter(
          (Ce) => Ce.step_part_id === L.id
        ), ge = e.targets.length;
        return e.targets.map((Ce, O) => {
          const ie = te.find(
            (R) => R.logging_parameter.id === Ce.logging_parameter.id
          ) ?? null, se = ie ? H(ie) : "";
          return /* @__PURE__ */ v("tr", { className: se, children: [
            O === 0 && /* @__PURE__ */ v("td", { rowSpan: ge, children: [
              L.part.short_label,
              " ",
              /* @__PURE__ */ v("small", { className: "text-muted", children: [
                "(",
                L.id,
                ")"
              ] })
            ] }),
            /* @__PURE__ */ l("td", { children: Ce.logging_parameter.name }),
            /* @__PURE__ */ l("td", { children: ie ? ie.string_value : /* @__PURE__ */ l("span", { className: "text-muted", children: "not set" }) }),
            /* @__PURE__ */ l("td", { children: Ce.logging_parameter.unit?.abbr ?? "" }),
            !s && O === 0 && /* @__PURE__ */ l("td", { rowSpan: ge, className: "align-middle text-nowrap", children: /* @__PURE__ */ v(
              ce,
              {
                size: "sm",
                variant: q ? "outline-primary" : "outline-success",
                onClick: () => C(String(L.id)),
                children: [
                  /* @__PURE__ */ l("i", { className: "fa fa-edit" }),
                  " ",
                  q ? "Edit values" : "Add values"
                ]
              }
            ) })
          ] }, `${L.id}:${Ce.logging_parameter.id}`);
        });
      }) })
    ] }),
    !s && D.map((L) => {
      const q = g.find(
        (te) => te.values.some((ge) => ge.step_part_id === L.id)
      );
      return /* @__PURE__ */ l(
        _d,
        {
          requirement: e,
          ...q ? { result: q } : { part: L.part, stepPart: L },
          show: E === String(L.id),
          setShow: (te) => {
            te || C(null);
          },
          refetchFn: a ?? S
        },
        `modal:${L.id}`
      );
    })
  ] }) : /* @__PURE__ */ l(Rt, { variant: "secondary", className: "mb-0", children: "No selected parts" }) });
}
function Jx({
  requirement: e,
  measurementResults: t,
  refetchFn: n,
  editOnly: r = !1
}) {
  const [i, a] = B(
    t ?? []
  ), s = $n(), o = nn({
    queries: [
      {
        queryKey: ["requirement", "measurementResults", e.measurement.id],
        queryFn: async () => await Il({ measurement: e.measurement }),
        enabled: !t || t.length === 0,
        retry: 1
      }
    ]
  }), c = () => {
    s.refetchQueries({ queryKey: ["requirement", "measurementResults", e.measurement.id] });
  }, [u] = o;
  re(() => {
    t && t.length > 0 ? a(
      t.filter((w) => w.values.some((I) => !I.step_part_id))
    ) : u?.data && a(
      u.data.items.filter((w) => w.values.some((I) => !I.step_part_id))
    );
  }, [t, u?.data]);
  const [f, p] = B(null), [g, h] = B(!1), y = o.some((w) => w.isLoading);
  if (o.some((w) => w.isError))
    return o.filter((w) => w.isError).forEach((w, I) => {
      console.error("StepDashboard query error", { index: I, error: w.error });
    }), /* @__PURE__ */ l(ve, { children: "Error fetching data" });
  if (y)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  const S = (w) => {
    if (!(w && !isNaN(parseFloat(w.string_value)))) return "";
    const I = parseFloat(w.string_value), b = e.targets.find((C) => C.logging_parameter.id === w.logging_parameter.id);
    return b && (b.inclusive ? !(b.min_value <= I && b.max_value >= I) : !(b.min_value < I && b.max_value > I)) ? "table-danger" : "";
  };
  return /* @__PURE__ */ v("div", { className: "d-flex flex-column gap-4", children: [
    i.map((w) => /* @__PURE__ */ v("div", { className: "border rounded p-3 shadow-sm", children: [
      /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center mb-3", children: [
        /* @__PURE__ */ v("h6", { className: "mb-0", children: [
          "Result ",
          /* @__PURE__ */ v("small", { className: "text-muted", children: [
            "#",
            w.id
          ] })
        ] }),
        !r && /* @__PURE__ */ v(ce, { size: "sm", variant: "outline-primary", onClick: () => p(w.id), children: [
          /* @__PURE__ */ l("i", { className: "fa fa-edit" }),
          " Update value"
        ] })
      ] }),
      /* @__PURE__ */ v("table", { className: "table table-striped table-sm mb-0", children: [
        /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
          /* @__PURE__ */ l("th", { children: "Parameter" }),
          /* @__PURE__ */ l("th", { children: "Value" }),
          /* @__PURE__ */ l("th", { children: "Unit" })
        ] }) }),
        /* @__PURE__ */ l("tbody", { children: w.values.map((I) => /* @__PURE__ */ v("tr", { className: I ? S(I) : "", children: [
          /* @__PURE__ */ l("td", { children: I.logging_parameter.name }),
          /* @__PURE__ */ l("td", { children: I.string_value }),
          /* @__PURE__ */ l("td", { children: I.logging_parameter.unit?.abbr ?? "" })
        ] }, `value:${I.id}`)) })
      ] }),
      /* @__PURE__ */ l(
        _d,
        {
          requirement: e,
          result: w,
          show: f === w.id,
          setShow: (I) => {
            I || p(null);
          },
          refetchFn: n ?? c
        }
      )
    ] }, w.id)),
    /* @__PURE__ */ l("div", { className: "mt-3", children: /* @__PURE__ */ v(ce, { size: "sm", onClick: () => h(!g), children: [
      /* @__PURE__ */ l("i", { className: "fa fa-plus" }),
      " Add results"
    ] }) }),
    /* @__PURE__ */ l(
      _d,
      {
        requirement: e,
        show: g,
        setShow: (w) => {
          w || h(!1);
        },
        refetchFn: n ?? c
      }
    )
  ] });
}
function jG({
  requirement: e,
  step: t,
  stepParts: n,
  parts: r,
  measurementResults: i,
  refetchFn: a
}) {
  const { environment: s } = mt();
  return /* @__PURE__ */ l(Ze, { className: "p-4 my-3", children: /* @__PURE__ */ l(Ze.Body, { children: /* @__PURE__ */ v(Yn, { children: [
    /* @__PURE__ */ v(Mt, { md: "7", children: [
      /* @__PURE__ */ l("h4", { children: "Measurements by part" }),
      /* @__PURE__ */ l(
        mp,
        {
          requirement: e,
          step: t,
          stepParts: n,
          parts: r,
          measurementResults: i,
          refetchFn: a
        }
      ),
      /* @__PURE__ */ l("h4", { children: "Measurements for whole step" }),
      /* @__PURE__ */ l(
        Jx,
        {
          requirement: e,
          measurementResults: i,
          refetchFn: a
        }
      )
    ] }),
    /* @__PURE__ */ v(Mt, { md: "5", children: [
      /* @__PURE__ */ l("h4", { children: "Monitored Step" }),
      /* @__PURE__ */ l(pn, { to: `/${s}/operator/run/step/${e.requirement_for_step?.id ?? e.step.id}`, children: /* @__PURE__ */ v("span", { children: [
        /* @__PURE__ */ l("i", { className: "fa fa-search" }),
        " ",
        e.requirement_for_step?.name ?? e.step.name
      ] }) }),
      /* @__PURE__ */ l("h4", { children: "Definition" }),
      /* @__PURE__ */ l("span", { children: e.definition }),
      /* @__PURE__ */ l("h4", { children: "Targets" }),
      /* @__PURE__ */ v(Qt, { size: "sm", striped: !1, bordered: !1, children: [
        /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
          /* @__PURE__ */ l("th", { children: "parameter" }),
          /* @__PURE__ */ l("th", { children: "min value" }),
          /* @__PURE__ */ l("th", { children: "max value" }),
          /* @__PURE__ */ l("th", { children: "inclusive" })
        ] }) }),
        /* @__PURE__ */ l("tbody", { children: e.targets.map((o) => /* @__PURE__ */ v("tr", { children: [
          /* @__PURE__ */ l("td", { children: o.logging_parameter.name }),
          /* @__PURE__ */ l("td", { children: o.min_value }),
          /* @__PURE__ */ l("td", { children: o.max_value }),
          /* @__PURE__ */ l("td", { children: o.inclusive ? "yes" : "no" })
        ] }, o.id)) })
      ] }),
      /* @__PURE__ */ l("h4", { children: "Files" }),
      /* @__PURE__ */ l(
        uc,
        {
          runStep: t,
          refetchFn: () => {
            a(["requirements"]);
          }
        }
      )
    ] })
  ] }) }) });
}
const Qx = ({
  requirement: e,
  step: t,
  measurementResults: n,
  parts: r,
  stepParts: i
}) => {
  const a = r.filter((u) => u.part_level === t.part_level).sort((u, f) => u.root_id && f.root_id && u.root_id !== f.root_id ? u.root_id - f.root_id : u.left - f.left), s = a.reduce((u, f) => {
    const p = f.root_id ?? f.id;
    return u[p] || (u[p] = []), u[p].push(f), u;
  }, {}), o = (u) => {
    const f = i.find((g) => g.part.id === u.id);
    if (!f)
      return "badge-inactive";
    const p = n.find((g) => g.values.some((h) => h.step_part_id === f.id));
    if (!p)
      return "";
    for (const g of p.values) {
      const h = parseFloat(g.string_value), y = e.targets.find((_) => _.logging_parameter.id == g.logging_parameter.id);
      if (y) {
        if (y.inclusive) {
          if (!(y.min_value <= h && y.max_value >= h))
            return "badge-failed";
        } else if (!(y.min_value < h && y.max_value > h))
          return "badge-failed";
      }
    }
    return "badge-processed";
  }, c = (u) => /* @__PURE__ */ l(
    Di,
    {
      placement: "top",
      overlay: /* @__PURE__ */ l(si, { id: `tooltip-${u.id}`, children: `Level: ${u.part_level}${u.parent ? `, Parent: ${u.parent.short_label}` : ""}` }),
      children: /* @__PURE__ */ l(
        "span",
        {
          className: `badge badge-level-${u.part_level} ${o(u)} me-1`,
          children: u.short_label
        },
        u.id
      )
    },
    u.id
  );
  return /* @__PURE__ */ v("div", { children: [
    a[0].parent ? Object.entries(s).map(([u, f]) => /* @__PURE__ */ v("div", { className: "mb-2", children: [
      /* @__PURE__ */ v("label", { className: "text-muted me-1", children: [
        f[0].parent?.short_label,
        ":"
      ] }),
      " ",
      f.map((p) => c(p))
    ] }, u)) : a.map((u) => c(u)),
    /* @__PURE__ */ l("label", { children: "(measurements)" })
  ] });
};
function $G({
  requirement: e,
  step: t,
  parts: n,
  stepParts: r,
  refetchFn: i
}) {
  const { environment: a } = mt(), [s, o] = B(!1), [c, u] = B(t.process_module.module);
  re(() => {
    u(t.process_module.module);
  }, [t.process_module.module]);
  const f = () => {
    o(!s);
  }, p = $n(), g = nn({
    queries: [
      {
        queryKey: ["requirement", "measurementResults", JSON.stringify(e.measurement.id)],
        queryFn: () => Il({ measurement: e.measurement })
      }
    ]
  }), h = (w) => {
    w[0] === "requirement" && p.refetchQueries({ queryKey: w }), i(w);
  }, [y] = g, _ = g.some((w) => w.isLoading);
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("tr", { className: ((w) => {
      if (w.length == 0)
        return _ ? "" : "table-info";
      let I = !1;
      for (const b of w)
        if (b.values.some((C) => {
          if (!(C && !isNaN(parseFloat(C.string_value))))
            return !1;
          const A = parseFloat(C.string_value), N = e.targets.find((D) => D.logging_parameter.id == C.logging_parameter.id);
          return N ? N.inclusive ? !(N.min_value <= A && N.max_value >= A) : !(N.min_value < A && N.max_value > A) : !1;
        })) {
          I = !0;
          break;
        }
      return I ? "table-danger" : "";
    })(y.data?.items ?? []), children: [
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
        "i",
        {
          className: "fa ms-2 " + (s ? "fa-chevron-down" : "fa-chevron-right"),
          style: { cursor: "pointer" },
          onClick: f
        }
      ) }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
        Qx,
        {
          requirement: e,
          step: t,
          measurementResults: y.data?.items ?? [],
          parts: n,
          stepParts: r
        }
      ) }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l(hn, { bg: "info", children: "requirement" }),
        t.amount_of_files > 0 && /* @__PURE__ */ v("span", { children: [
          /* @__PURE__ */ l("i", { className: "fa fa-paperclip" }),
          " ",
          t.amount_of_files
        ] }),
        t.has_remark && /* @__PURE__ */ l("i", { className: "fa fa-comment-o text-warning" })
      ] }),
      /* @__PURE__ */ l("td", { className: t.has_step_group ? "ps-4" : "", children: /* @__PURE__ */ v("div", { children: [
        "(",
        t.number,
        ")",
        " ",
        /* @__PURE__ */ l(pn, { to: `/${a}/operator/run/step/${t.id}`, children: /* @__PURE__ */ l(
          "span",
          {
            dangerouslySetInnerHTML: {
              __html: t.name
            }
          }
        ) }),
        " "
      ] }) }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l(pn, { to: `/${a}/operator/equipment/${c.equipment.id}`, className: "me-2", children: c.equipment.name }),
        /* @__PURE__ */ l(
          Oi,
          {
            module: c,
            refetchFn: () => {
              i(["runSteps"]);
            }
          }
        )
      ] })
    ] }),
    s && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { colSpan: n.length + 5, children: _ ? "Loading..." : /* @__PURE__ */ l(
      jG,
      {
        requirement: e,
        step: t,
        stepParts: r,
        parts: n,
        measurementResults: y.data?.items ?? [],
        refetchFn: h
      }
    ) }) })
  ] });
}
function aW() {
  const { run: e } = ke(Ta), { showOnlyEmphasizedParameters: t, setShowOnlyEmphasizedParameters: n } = ke(fp), [r, i] = B(1), [a] = B(25), [s, o] = B(/* @__PURE__ */ new Map()), c = $n(), u = nn({
    queries: [
      {
        queryKey: ["runSteps", JSON.stringify(e), r],
        queryFn: () => Md({ run: e, page: r, pageSize: a }),
        placeholderData: ma
      },
      {
        queryKey: ["runParts", JSON.stringify(e)],
        queryFn: () => Sl({ run: e })
      },
      {
        queryKey: ["runStepParts", JSON.stringify(e)],
        queryFn: () => Ns({ run: e })
      },
      {
        queryKey: ["requirements", JSON.stringify(e)],
        queryFn: () => Od({ run: e })
      }
    ]
  }), f = (P) => {
    const G = [...P, JSON.stringify(e)];
    P[0] === "runSteps" && G.push(r), c.refetchQueries({ queryKey: G });
  }, [p, g, h, y] = u, _ = u.some((P) => P.isLoading), S = u.some((P) => P.isError);
  S && u.filter((P) => P.isError).forEach((P, G) => {
    console.error("RunStepsElement query error", { index: G, error: P.error, run: e });
  });
  const w = Xe(() => p.data?.items ?? [], [p.data?.items]), I = Xe(() => g.data?.items ?? [], [g.data?.items]), b = Xe(
    () => h.data?.items ?? [],
    [h.data?.items]
  ), E = Xe(
    () => y.data?.items ?? [],
    [y.data?.items]
  );
  if (re(() => {
    o((P) => {
      const G = new Map(P);
      return w.forEach((Y) => {
        const z = Y.label?.id;
        z !== void 0 && !G.has(z) && G.set(z, !0);
      }), G;
    });
  }, [w]), _) return /* @__PURE__ */ l("div", { children: "Loading..." });
  if (S) return /* @__PURE__ */ l("div", { className: "text-danger", children: "Error loading run steps." });
  const C = /* @__PURE__ */ new Set(), A = w.filter((P) => !P.has_step_group || typeof P.step_group?.id != "number" || C.has(String(P.step_group.id)) ? !1 : (C.add(String(P.step_group.id)), !0)), N = {};
  for (const P of E)
    P.requirement_for_step != null && (N[String(P.requirement_for_step.id)] = P);
  const D = (P) => /* @__PURE__ */ l("tr", { style: { pointerEvents: "none" }, children: /* @__PURE__ */ l("td", { colSpan: 5, style: { margin: 0 }, className: "bg-info", children: /* @__PURE__ */ l("span", { children: P.step_group?.label }) }) }), F = (P) => {
    const G = P.label, Y = G?.id;
    if (!P.is_own_label || !G || Y === void 0) return null;
    const z = (H) => {
      o((L) => {
        const q = new Map(L);
        return q.set(H, !q.get(H)), q;
      });
    };
    return /* @__PURE__ */ l("tr", { style: { cursor: "pointer" }, onClick: () => z(Y), children: /* @__PURE__ */ l("td", { colSpan: 5, style: { margin: 0 }, className: "bg-secondary", children: /* @__PURE__ */ v("span", { className: "label-toggle", children: [
      /* @__PURE__ */ l("i", { className: "fa " + (s.get(P.label?.id ?? -1) ? "fa-caret-down" : "fa-caret-right") }),
      " ",
      G.label
    ] }) }) });
  };
  return /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h2", { children: "Run steps" }),
    /* @__PURE__ */ l("div", { className: "d-flex justify-content-between align-items-center", children: /* @__PURE__ */ v("div", { className: "form-check form-switch", children: [
      /* @__PURE__ */ l(
        "input",
        {
          type: "checkbox",
          checked: t,
          className: "form-check-input",
          "data-toggle": "toggle",
          onChange: () => n(!t)
        }
      ),
      /* @__PURE__ */ l("label", { className: "ms-2", children: "Show only emphasized parameters" })
    ] }) }),
    /* @__PURE__ */ v(Qt, { borderless: !0, hover: !0, striped: !0, size: "sm", children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", {}),
        /* @__PURE__ */ l("th", { children: "Parts" }),
        /* @__PURE__ */ l("th", {}),
        /* @__PURE__ */ l("th", { children: "Process" }),
        /* @__PURE__ */ l("th", { children: "Equipment" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: w.map((P, G) => {
        const Y = `step-${P.id}`;
        return /* @__PURE__ */ v(ne.Fragment, { children: [
          P.has_label && F(P),
          (!P.has_label || s.get(P.label?.id ?? -1)) && /* @__PURE__ */ v(ve, { children: [
            P.has_step_group && A.includes(P) && D(P),
            P.has_requirement ? (() => {
              const z = E.find((H) => H.step.id === P.id);
              return /* @__PURE__ */ l(
                $G,
                {
                  requirement: z,
                  step: P,
                  parts: I,
                  stepParts: b.filter(
                    (H) => H.step.id === (z.requirement_for_step?.id ?? z.step.id)
                  ),
                  refetchFn: f
                }
              );
            })() : /* @__PURE__ */ l(
              HG,
              {
                run: e,
                step: P,
                parts: I,
                stepParts: b.filter((z) => z.step.id === P.id),
                monitoredBy: N[P.id],
                refetchFn: f
              }
            )
          ] })
        ] }, Y);
      }) })
    ] }),
    /* @__PURE__ */ l(
      lc,
      {
        data: p.data,
        setPage: i,
        isPlaceholderData: p.isPlaceholderData
      }
    )
  ] });
}
function sW() {
  const { run: e } = ke(Ta);
  return /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h2", { children: "Run information" }),
    /* @__PURE__ */ l("h3", { children: "Run name" }),
    /* @__PURE__ */ l("p", { children: e.name }),
    /* @__PURE__ */ l("h3", { children: "Project name" }),
    /* @__PURE__ */ l("p", { children: e.project.name })
  ] });
}
const UG = () => {
  const [e, t] = B(null), [n, r] = B(null), { id: i } = mt();
  re(() => {
    (e === null || i !== e.id.toString()) && ih({ id: parseInt(i) }).then((s) => (jo({ id: s.run_id }).then(r), s)).then(t);
  }, [i, e]);
  function a() {
    ih({ id: parseInt(i) }).then((s) => (jo({ id: s.run_id }).then(r), s)).then(t);
  }
  return { run: n, runStep: e, setRunStep: t, reloadRunStep: a };
};
function XG({ children: e }) {
  const { runStep: t, setRunStep: n, run: r, reloadRunStep: i } = UG(), [a, s] = B({});
  return t === null || r === null ? /* @__PURE__ */ l("div", { className: "d-flex justify-content-center h-100 vh-100 flex-row align-items-center", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column align-items-center", children: [
    t === null && /* @__PURE__ */ l("h1", { children: "Loading run..." }),
    r === null && /* @__PURE__ */ l("h1", { children: "Loading run step..." }),
    /* @__PURE__ */ v("div", { className: "spinner-border", style: { width: "3rem", height: "3rem" }, role: "status", children: [
      t === null && /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading run step..." }),
      r === null && /* @__PURE__ */ l("span", { className: "visually-hidden", children: "Loading run..." })
    ] })
  ] }) }) : /* @__PURE__ */ l(
    Ht.Provider,
    {
      value: {
        runStep: t,
        setRunStep: n,
        reloadRunStep: i,
        run: r,
        modalProperties: a,
        setModalProperties: s
      },
      children: e
    }
  );
}
function oW() {
  return /* @__PURE__ */ l(XG, { children: /* @__PURE__ */ l(Fi, { fluid: !0, children: /* @__PURE__ */ l(Es, {}) }) });
}
const ZG = ({ label: e }) => /* @__PURE__ */ l("div", { className: "p-2 h4 mb-1 bg-info text-white", children: e.label }), qG = ({ runStep: e }) => {
  const { environment: t } = mt();
  return /* @__PURE__ */ v("h2", { children: [
    " ",
    e.number,
    " -",
    e.process_module.process.name,
    " on",
    " ",
    /* @__PURE__ */ v(pn, { to: `/${t}/operator/equipment/${e.process_module.module.equipment.id}`, children: [
      e.process_module.module.equipment.name,
      " (",
      e.process_module.module.name,
      ")"
    ] })
  ] });
}, JG = ({
  checklistItem: e,
  show: t,
  setModalShow: n,
  mutation: r
}) => /* @__PURE__ */ v(be, { show: t, size: "lg", onHide: () => n(!1), children: [
  /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Checklist item" }) }),
  /* @__PURE__ */ v(be.Body, { children: [
    /* @__PURE__ */ l("h2", { children: e.task }),
    /* @__PURE__ */ l(
      "span",
      {
        dangerouslySetInnerHTML: {
          __html: e.description
        }
      }
    )
  ] }),
  /* @__PURE__ */ v(be.Footer, { children: [
    /* @__PURE__ */ l(
      ce,
      {
        className: "float-end",
        variant: "primary",
        onClick: () => {
          r.mutate();
        },
        children: "Done"
      }
    ),
    /* @__PURE__ */ l(ce, { variant: "secondary", onClick: () => n(!1), children: "Close" })
  ] })
] }), Kx = ({
  checklistItem: e,
  refetch: t
}) => {
  const [n, r] = B(!1), a = aI({
    mutationFn: async () => (await ae.create().patch("update/run/step/checklist/done/" + e.id, {})).data,
    onSuccess: (o) => {
      r(!1), t();
    }
  }), s = () => e.can_finish ? e.description !== "" ? /* @__PURE__ */ l(ce, { className: "float-end", variant: "primary", onClick: () => r(!0), children: "Execute checklist step" }) : /* @__PURE__ */ l(
    ce,
    {
      className: "float-end",
      variant: "success",
      onClick: () => {
        a.mutate();
      },
      children: "Done checklist step"
    }
  ) : null;
  return /* @__PURE__ */ v(kn.Item, { disabled: e.is_executed, className: "d-flex justify-content-between align-items-start", children: [
    /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
      /* @__PURE__ */ l("span", { className: "h5", children: e.task }),
      e.is_executed && /* @__PURE__ */ v("small", { children: [
        "Executed on ",
        /* @__PURE__ */ l(Ia, { format: "DD-MM-YYYY", children: e.date_executed })
      ] })
    ] }),
    /* @__PURE__ */ l("div", { className: "flex-shrink-0", children: /* @__PURE__ */ l(s, {}) }),
    /* @__PURE__ */ l(JG, { checklistItem: e, show: n, setModalShow: r, mutation: a })
  ] });
}, Tn = {
  movingOut: "Moving out...",
  skipping: "Skipping...",
  unskipping: "Unskipping...",
  operationFinished: "Operation finished",
  operationSkipped: "Operation skipped",
  operationUnskipped: "Operation unskipped"
};
function QG({
  run: e,
  runStep: t,
  reloadRunStep: n
}) {
  let r = Jg();
  const { environment: i } = mt(), [a, s] = B(null), [o, c] = B(!1);
  re(() => {
    if (a) {
      const b = setTimeout(() => {
        s(null);
      }, 3e3);
      return () => clearTimeout(b);
    }
  }, [a]), e || (e = ke(Ht).run), t || (t = ke(Ht).runStep);
  const u = ke(Ht).reloadRunStep;
  if (n || (n = u ?? (() => null)), !t || !n || !e)
    return /* @__PURE__ */ l(ve, { children: "Please set RunStepContext in RunStepChecklist" });
  let f = Oe(!1);
  const { data: p, error: g, isLoading: h, refetch: y } = Gn({
    queryKey: ["checklist", t.id],
    queryFn: () => ov({ runStep: t })
  });
  if (h)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  function _(b) {
    s(Tn.movingOut), c(!0), setTimeout(() => c(!1), 1e3), lv(b).then((E) => {
      s(Tn.operationFinished), E.data.next_step_id !== null ? r(`/${i}/operator/run/step/${E.data.next_step_id}`) : n();
    });
  }
  function S(b) {
    s(Tn.skipping), c(!0), setTimeout(() => c(!1), 1e3), ae.create().patch("update/run/step/skip/" + b.id, {}).then(() => {
      s(Tn.operationSkipped), n(), b.next_step_id;
    });
  }
  function w(b) {
    s(Tn.unskipping), c(!0), setTimeout(() => c(!1), 1e3), ae.create().patch("update/run/step/un-skip/" + b.id, {}).then(() => {
      s(Tn.operationUnskipped), n();
    });
  }
  let I = !1;
  return f.current = !t.is_finished, p.items.forEach((b) => {
    let E = !b.is_executed && !I;
    b.can_finish = E, E && (I = !0, f.current = !1);
  }), /* @__PURE__ */ v(ve, { children: [
    p.items.length === 0 && /* @__PURE__ */ l(Rt, { variant: "info", children: "No checklist found" }),
    p.items.length > 0 && /* @__PURE__ */ l(kn, { children: p.items.map((b, E) => /* @__PURE__ */ l(Kx, { checklistItem: b, refetch: y }, E)) }),
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-between mt-3", children: [
      /* @__PURE__ */ v("div", { className: "d-flex gap-2 align-items-center", children: [
        f.current && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "success", onClick: () => _(t), disabled: o, children: a === Tn.operationFinished || a === Tn.movingOut ? a : "Move out" }) }),
        e.access.edit && !t.is_skipped && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "primary", onClick: () => S(t), disabled: o, children: a === Tn.operationSkipped || a === Tn.skipping ? a : "Skip operation" }) }),
        e.access.edit && t.is_skipped && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "warning", onClick: () => w(t), disabled: o, children: a === Tn.operationUnskipped || a === Tn.unskipping ? a : "Unskip operation" }) })
      ] }),
      /* @__PURE__ */ l("div", { className: "d-flex gap-2", children: t.next_step_id && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(pn, { to: `/${i}/operator/run/step/${t.next_step_id}`, className: "btn btn-secondary", children: "Next step" }) }) })
    ] })
  ] });
}
function ew({ runStep: e, reloadRunStep: t }) {
  let n = (() => null);
  if (e || (e = ke(Ht).runStep, n = ke(Ht).setRunStep ?? (() => null)), t !== void 0 && (n = (g) => {
    t();
  }), !e)
    return /* @__PURE__ */ l(ve, { children: "Please set RunStepContext for StepRemark" });
  const [r, i] = B(!1), [a, s] = B(!e.is_finished), { register: o, handleSubmit: c, formState: u } = rn({
    defaultValues: {
      remark: e.remark_unparsed
    }
  }), { isSubmitting: f } = u, p = async (g) => {
    await ae.create().patch("update/run/step/" + e.id, {
      remark: g.remark
    });
    const h = await ae.get("view/run/step/" + e.id);
    n({
      ...e,
      remark: h.data.remark,
      remark_unparsed: h.data.remark_unparsed
    }), i(!1);
  };
  return !r || !a ? /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l("div", { className: "text-success", dangerouslySetInnerHTML: { __html: e.remark } }),
    a && /* @__PURE__ */ l(ce, { variant: "primary", className: "mt-3", onClick: () => i(!0), children: "Edit Remark" })
  ] }) : /* @__PURE__ */ v(j, { onSubmit: c(p), children: [
    /* @__PURE__ */ l(j.Control, { as: "textarea", rows: 6, ...o("remark") }),
    /* @__PURE__ */ l("p", { children: /* @__PURE__ */ l("small", { className: "text-muted", children: "If a non-conformity happens during the process, write it down in the form field below" }) }),
    /* @__PURE__ */ v(ce, { variant: "primary", type: "submit", disabled: f, children: [
      f && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
      "Save remark"
    ] }),
    /* @__PURE__ */ l(ce, { variant: "secondary", className: "ms-2", onClick: () => i(!1), children: "Cancel" })
  ] });
}
const KG = ({
  run: e,
  show: t,
  setShow: n,
  runHoldCode: r,
  setRunHoldCode: i
}) => {
  const [a, s] = ne.useState(!1), { register: o, control: c, setValue: u, handleSubmit: f, formState: p } = rn({
    defaultValues: {
      holdCode: r ? {
        value: r.hold_code.id,
        label: r.hold_code.code
      } : {},
      description: r ? r.description : ""
    }
  }), { errors: g, isSubmitting: h } = p, y = async (S) => {
    try {
      const w = await ae.patch("update/run/hold-code/" + e.id, {
        holdcode: a ? null : S.holdCode.value,
        description: S.description
      });
      w.data.hold_code ? i(w.data) : i(void 0), s(!1);
    } finally {
      n(!1);
    }
  }, _ = (S, w) => {
    ae.get("list/run/hold-code").then((I) => {
      const { data: b } = I;
      return b._embedded.items;
    }).then((I) => {
      w(
        I.map((b) => ({
          value: b.id,
          label: b.code
        }))
      );
    });
  };
  return /* @__PURE__ */ l(be, { show: t, size: "lg", onHide: () => n(!1), children: /* @__PURE__ */ v(j, { onSubmit: f(y), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: a ? "Reset hold code" : "Update hold code" }) }),
    /* @__PURE__ */ v(be.Body, { children: [
      !a && /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l(j.Label, { className: "col-sm-3 col-form-label text-end", children: "Hold code" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ l(
            jn,
            {
              name: "holdCode",
              control: c,
              rules: {
                validate: {
                  required: (S) => S.value !== void 0 || a || "A hold code is required"
                }
              },
              render: ({ field: S }) => /* @__PURE__ */ l(
                $l,
                {
                  isSearchable: !1,
                  defaultOptions: !0,
                  placeholder: "Select a hold code",
                  loadOptions: _,
                  value: S.value,
                  onChange: (w) => {
                    S.onChange(w);
                  }
                }
              )
            }
          ),
          g.holdCode && /* @__PURE__ */ l("span", { className: "text-danger", children: g.holdCode.message })
        ] })
      ] }),
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "Message" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              as: "textarea",
              rows: 3,
              ...o("description", {
                required: "A message is required"
              }),
              isInvalid: g.description !== void 0
            }
          ),
          g.description && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: g.description.message })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ v(be.Footer, { children: [
      /* @__PURE__ */ v(ce, { type: "submit", variant: a ? "success" : "primary", disabled: h, children: [
        h && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
        a ? "Release lot" : "Update Hold code"
      ] }),
      r && /* @__PURE__ */ l(
        ce,
        {
          variant: "outline-danger",
          onClick: () => {
            u("description", a ? r.description : ""), s(!a);
          },
          children: a ? "Update hold Code" : "Reset hold code"
        }
      )
    ] })
  ] }) });
}, eY = () => {
  const { run: e } = ke(Ht), [t, n] = B(!1), [r, i] = B(e.hold_code), a = () => {
    n(!0);
  };
  return /* @__PURE__ */ v(ve, { children: [
    r && /* @__PURE__ */ l(
      "span",
      {
        className: "badge handle",
        style: {
          backgroundColor: r.hold_code.back_color,
          color: r.hold_code.front_color,
          fontSize: "1.5rem",
          cursor: "pointer"
        },
        onClick: () => a(),
        children: r.hold_code.code
      }
    ),
    !r && /* @__PURE__ */ l(
      hn,
      {
        bg: "secondary",
        className: "handle",
        onClick: () => a(),
        style: {
          fontSize: "1.5rem",
          cursor: "pointer"
        },
        children: "No hold code"
      }
    ),
    /* @__PURE__ */ l(
      KG,
      {
        run: e,
        show: t,
        setShow: n,
        runHoldCode: r,
        setRunHoldCode: i
      }
    )
  ] });
}, tY = () => {
  const { run: e } = ke(Ht), [t, n] = B(e.priority);
  return /* @__PURE__ */ v(ne.Fragment, { children: [
    t && /* @__PURE__ */ l(
      "span",
      {
        className: "badge",
        style: {
          backgroundColor: t.priority.back_color,
          color: t.priority.front_color,
          fontSize: "1.5rem"
        },
        children: t.priority.code
      }
    ),
    !t && /* @__PURE__ */ l(
      "span",
      {
        className: "badge bg-info",
        style: {
          fontSize: "1.5rem"
        },
        children: "NORMAL"
      }
    )
  ] });
}, nY = ({
  run: e,
  runStep: t,
  showOnlyEmphasizedParameters: n
}) => /* @__PURE__ */ l(ve, { children: /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { colSpan: 6, children: /* @__PURE__ */ v("div", { className: "d-flex gap-2", children: [
  /* @__PURE__ */ l("div", { style: { flexGrow: 1, flex: "1 1 50%" }, children: /* @__PURE__ */ l(pp, { run: e, editable: !1, runStep: t }) }),
  /* @__PURE__ */ v("div", { style: { flexGrow: 1, flex: "1 1 50%" }, children: [
    n && /* @__PURE__ */ l("h4", { children: "Emphasized parameters" }),
    !n && /* @__PURE__ */ l("h4", { children: "Parameters" }),
    /* @__PURE__ */ l(
      cc,
      {
        runStep: t,
        editableParameters: !1,
        showOnlyEmphasizedParameters: n
      }
    )
  ] })
] }) }) }) }), rY = ({
  run: e,
  monitoredBy: t,
  runStep: n,
  runParts: r,
  runStepParts: i,
  hideLabel: a,
  firstInGroup: s
}) => {
  const { environment: o } = mt(), [c, u] = B(!1), { runStep: f } = ke(Ht);
  return /* @__PURE__ */ v(ve, { children: [
    !a && n.has_label && n.is_own_label && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { className: "bg-info", colSpan: 7, children: n.label?.label }) }),
    n.step_group && s && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { className: "bg-secondary", colSpan: 7, children: n.step_group?.label }) }),
    /* @__PURE__ */ v("tr", { children: [
      /* @__PURE__ */ v("td", { className: n.has_step_group ? "ps-4" : "", children: [
        n.id !== f.id && /* @__PURE__ */ l(
          "i",
          {
            className: "fa " + (c ? "fa-chevron-down" : "fa-chevron-right"),
            style: { cursor: "pointer" },
            onClick: () => {
              u(!c);
            }
          }
        ),
        n.id === f.id && /* @__PURE__ */ l(
          "i",
          {
            className: "fa fa-chevron-right text-success",
            style: { cursor: "pointer" },
            title: "This step is currently running"
          }
        )
      ] }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(qx, { step: n, parts: r, stepParts: i }) }),
      /* @__PURE__ */ v("td", { children: [
        n.number,
        " ",
        n.is_skipped && /* @__PURE__ */ l(hn, { bg: "info", children: "Skipped" })
      ] }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l(
          pn,
          {
            to: `/${o}/operator/run/step/${n.id}`,
            dangerouslySetInnerHTML: { __html: n.name }
          }
        ),
        " ",
        t && /* @__PURE__ */ l(
          Di,
          {
            placement: "top",
            overlay: /* @__PURE__ */ l(si, { id: `tooltip-${t.id}`, children: `Monitored by step: ${t.step.number}` }),
            children: /* @__PURE__ */ l("i", { className: "fa fa-search me-2" })
          }
        )
      ] }),
      /* @__PURE__ */ l("td", { children: n.finish_user ? n.finish_user.initials : "" }),
      /* @__PURE__ */ l("td", { children: n.has_rework ? /* @__PURE__ */ l("span", { className: "badge bg-primary", children: "Rework" }) : "" }),
      /* @__PURE__ */ l("td", { children: n.is_finished ? /* @__PURE__ */ l(Ia, { format: "DD-MM-YYYY", children: n.finish_date }) : "" })
    ] }),
    c && /* @__PURE__ */ l(nY, { run: e, runStep: n, showOnlyEmphasizedParameters: !1 })
  ] });
};
function iY({
  requirement: e,
  step: t,
  stepParts: n,
  parts: r,
  measurementResults: i
}) {
  const a = n.filter((o) => o.step.id === (e.requirement_for_step?.id ?? e.step.id)), { environment: s } = mt();
  return /* @__PURE__ */ l(ve, { children: /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { colSpan: 7, children: /* @__PURE__ */ v("div", { className: "d-flex gap-2", children: [
    /* @__PURE__ */ v("div", { style: { flexGrow: 1, flex: "1 1 50%" }, children: [
      /* @__PURE__ */ l("h4", { children: "Measurement results" }),
      /* @__PURE__ */ l(
        mp,
        {
          requirement: e,
          step: t,
          stepParts: a,
          parts: r,
          measurementResults: i,
          editOnly: !0
        }
      )
    ] }),
    /* @__PURE__ */ v("div", { style: { flexGrow: 1, flex: "1 1 50%" }, children: [
      " ",
      /* @__PURE__ */ l("h4", { children: "Monitored Step" }),
      /* @__PURE__ */ l(pn, { to: `/${s}/operator/run/step/${e.requirement_for_step?.id ?? e.step.id}`, children: /* @__PURE__ */ v("span", { children: [
        /* @__PURE__ */ l("i", { className: "fa fa-search" }),
        " ",
        e.requirement_for_step?.name ?? e.step.name
      ] }) }),
      /* @__PURE__ */ l("h4", { children: "Definition" }),
      /* @__PURE__ */ l("span", { children: e.definition }),
      /* @__PURE__ */ l("h4", { children: "Targets" }),
      /* @__PURE__ */ v(Qt, { size: "sm", striped: !1, bordered: !1, children: [
        /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
          /* @__PURE__ */ l("th", { children: "min value" }),
          /* @__PURE__ */ l("th", { children: "max value" }),
          /* @__PURE__ */ l("th", { children: "inclusive" })
        ] }) }),
        /* @__PURE__ */ l("tbody", { children: e.targets.map((o) => /* @__PURE__ */ v("tr", { children: [
          /* @__PURE__ */ l("td", { children: o.min_value }),
          /* @__PURE__ */ l("td", { children: o.max_value }),
          /* @__PURE__ */ l("td", { children: o.inclusive ? "yes" : "no" })
        ] }, o.id)) })
      ] })
    ] })
  ] }) }) }) });
}
function aY({
  requirement: e,
  runParts: t,
  runStepParts: n,
  hideLabel: r,
  firstInGroup: i
}) {
  const a = e.step, { environment: s } = mt(), { runStep: o } = ke(Ht), [c, u] = B(!1), f = nn({
    queries: [
      {
        queryKey: ["requirement", "measurementResults", JSON.stringify(e.measurement.id)],
        queryFn: () => Il({ measurement: e.measurement })
      }
    ]
  }), [p] = f, g = () => {
    if (!p.data)
      return "";
    let h = !1;
    for (const y of n) {
      const _ = p.data?.items.find((I) => I.values.some((b) => b.step_part_id === y.id))?.values.find((I) => I.step_part_id === y.id);
      if (!(_ && !isNaN(parseFloat(_.string_value))))
        return a.id === o.id ? "table-success" : "";
      const S = parseFloat(_.string_value);
      if (e.targets.some((I) => I.inclusive ? !(I.min_value <= S && I.max_value >= S) : !(I.min_value < S && I.max_value > S))) {
        h = !0;
        break;
      }
    }
    return h ? "table-danger" : a.id === o.id ? "table-success" : "";
  };
  return /* @__PURE__ */ v(ve, { children: [
    !r && a.has_label && a.is_own_label && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { className: "bg-info", colSpan: 7, children: a.label?.label }) }),
    a.step_group && i && /* @__PURE__ */ l("tr", { children: /* @__PURE__ */ l("td", { className: "bg-secondary", colSpan: 7, children: a.step_group?.label }) }),
    /* @__PURE__ */ v("tr", { className: g(), children: [
      /* @__PURE__ */ l("td", { className: a.has_step_group ? "ps-4" : "", children: a.id !== o.id && /* @__PURE__ */ l(
        "i",
        {
          className: "fa " + (c ? "fa-chevron-down" : "fa-chevron-right"),
          style: { cursor: "pointer" },
          onClick: () => {
            u(!c);
          }
        }
      ) }),
      /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
        Qx,
        {
          requirement: e,
          step: a,
          parts: t,
          stepParts: n,
          measurementResults: p.data?.items ?? []
        }
      ) }),
      /* @__PURE__ */ v("td", { children: [
        a.number,
        " ",
        a.is_skipped && /* @__PURE__ */ l(hn, { bg: "info", children: "Skipped" })
      ] }),
      /* @__PURE__ */ v("td", { children: [
        /* @__PURE__ */ l(hn, { bg: "info", children: "requirement" }),
        " ",
        /* @__PURE__ */ l(
          pn,
          {
            to: `/${s}/operator/run/step/${a.id}`,
            dangerouslySetInnerHTML: { __html: a.name }
          }
        ),
        " "
      ] }),
      /* @__PURE__ */ l("td", { children: a.finish_user ? a.finish_user.initials : "" }),
      /* @__PURE__ */ l("td", { children: a.has_rework ? /* @__PURE__ */ l("span", { className: "badge bg-primary", children: "Rework" }) : "" }),
      /* @__PURE__ */ l("td", { children: a.is_finished ? /* @__PURE__ */ l(Ia, { format: "DD-MM-YYYY", children: a.finish_date }) : "" })
    ] }),
    c && /* @__PURE__ */ l(
      iY,
      {
        requirement: e,
        step: a,
        stepParts: n,
        parts: t,
        measurementResults: p.data?.items ?? []
      }
    )
  ] });
}
const tw = ({ pageSize: e = 25, hideLabel: t = !1 }) => {
  const { runStep: n, run: r } = ke(Ht), [i, a] = B(1);
  re(() => {
    n?.sequence && a(Math.max(1, Math.ceil(n.sequence / e)));
  }, [n?.sequence, e]);
  const s = r?.id ?? null, o = Gn({
    queryKey: ["runParts", `${s}`],
    queryFn: () => Sl({ run: r }),
    enabled: !!s
  }), c = Gn({
    queryKey: ["runStepParts", `${s}`],
    queryFn: () => Ns({ run: r }),
    enabled: !!s
  }), u = Gn({
    queryKey: ["runSteps", s, i, e],
    queryFn: () => Md({ run: r, page: i, pageSize: e }),
    enabled: !!s,
    placeholderData: ma
  }), f = Gn({
    queryKey: ["requirements", s],
    queryFn: () => Od({ run: r }),
    enabled: !!s,
    placeholderData: ma
  }), p = o.isLoading || c.isLoading || u.isLoading || f.isLoading, g = o.isError || c.isError || u.isError || f.isError, h = o.error || c.error || u.error || f.error, y = o.data?.items ?? [], _ = c.data?.items ?? [], S = u.data?.items ?? [], w = f.data?.items ?? [], I = /* @__PURE__ */ new Set(), b = S.filter((C) => !C.has_step_group || typeof C.step_group?.id != "number" || I.has(String(C.step_group.id)) ? !1 : (I.add(String(C.step_group.id)), !0)), E = {};
  for (const C of w)
    C.requirement_for_step != null && (E[String(C.requirement_for_step.id)] = C);
  return ne.useEffect(() => {
    g && console.error("RunStepSimpleList query error", {
      runId: s,
      errors: [o.error, c.error, u.error, f.error]
    });
  }, [g, s, o.error, c.error, u.error, f.error]), /* @__PURE__ */ v("div", { children: [
    p ? /* @__PURE__ */ l("div", { children: "Loading..." }) : g ? /* @__PURE__ */ v("div", { children: [
      "Error: ",
      String(h?.message ?? h)
    ] }) : /* @__PURE__ */ l(Qt, { size: "sm", striped: !0, bordered: !0, hover: !0, children: /* @__PURE__ */ l("tbody", { children: S.map((C, A) => /* @__PURE__ */ l(ne.Fragment, { children: C.has_requirement ? (() => {
      const N = w.find((D) => D.step.id === C.id);
      return /* @__PURE__ */ l(
        aY,
        {
          requirement: N,
          runParts: y,
          runStepParts: _,
          firstInGroup: b.includes(C)
        },
        C.id ?? C.sequence ?? A
      );
    })() : /* @__PURE__ */ l(
      rY,
      {
        run: r,
        monitoredBy: E[C.id],
        runParts: y,
        runStepParts: _,
        hideLabel: t,
        firstInGroup: b.includes(C),
        runStep: C
      },
      C.id ?? C.sequence ?? A
    ) }, A)) }) }),
    /* @__PURE__ */ l(
      lc,
      {
        data: u.data,
        setPage: a,
        isPlaceholderData: u.isPlaceholderData
      }
    ),
    u.isFetching ? /* @__PURE__ */ l("span", { children: " Loading..." }) : null
  ] });
}, sY = ({
  show: e,
  setModalShow: t
}) => {
  const { run: n } = ke(Ht), [r, i] = B(1), { isPending: a, isLoading: s, isError: o, error: c, data: u, isFetching: f, isPlaceholderData: p } = Gn({
    queryKey: ["run_changelog", n, r],
    queryFn: () => RI({ run: n, page: r }),
    placeholderData: ma
  });
  return /* @__PURE__ */ v(be, { show: e, size: "lg", onHide: () => t(!1), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ v(be.Title, { children: [
      "History of Run ",
      n.label
    ] }) }),
    /* @__PURE__ */ l(be.Body, { children: /* @__PURE__ */ v("div", { children: [
      a ? /* @__PURE__ */ l("div", { children: "Loading..." }) : o ? /* @__PURE__ */ v("div", { children: [
        "Error: ",
        c.message
      ] }) : /* @__PURE__ */ l(Qt, { size: "sm", striped: !0, bordered: !0, hover: !0, children: /* @__PURE__ */ l("tbody", { children: u.items.map((g, h) => /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(Ia, { format: "DD-MM-YYYY", children: g.date_created }) }),
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l(
          "span",
          {
            dangerouslySetInnerHTML: {
              __html: g.message
            }
          }
        ) }),
        /* @__PURE__ */ v("td", { children: [
          g.user.first_name,
          " ",
          g.user.last_name
        ] })
      ] }, h)) }) }),
      /* @__PURE__ */ l(lc, { data: u, setPage: i, isPlaceholderData: p }),
      f ? /* @__PURE__ */ l("span", { children: " Loading..." }) : null
    ] }) }),
    /* @__PURE__ */ l(be.Footer, { children: /* @__PURE__ */ l(
      ce,
      {
        className: "float-end",
        variant: "secondary",
        onClick: () => {
          t(!1);
        },
        children: "Close"
      }
    ) })
  ] });
}, oY = ({ size: e }) => {
  const [t, n] = B(!1);
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(ce, { size: e, variant: "primary", onClick: () => n(!t), children: "Run history" }),
    t && /* @__PURE__ */ l(sY, { show: t, setModalShow: n })
  ] });
}, lY = ({ show: e, setModalShow: t }) => {
  const { run: n } = ke(Ht);
  return /* @__PURE__ */ v(be, { show: e, size: "xl", onHide: () => t(!1), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ v(be.Title, { children: [
      "All steps of run ",
      n.label
    ] }) }),
    /* @__PURE__ */ l(be.Body, { children: /* @__PURE__ */ l(tw, { hideLabel: !1 }) }),
    /* @__PURE__ */ l(be.Footer, { children: /* @__PURE__ */ l(
      ce,
      {
        className: "float-end",
        variant: "secondary",
        onClick: () => {
          t(!1);
        },
        children: "Close"
      }
    ) })
  ] });
}, cY = ({ size: e }) => {
  const [t, n] = B(!1);
  return /* @__PURE__ */ v(ne.Fragment, { children: [
    /* @__PURE__ */ l(ce, { size: e, variant: "primary", onClick: () => n(!0), children: "All run steps" }),
    t && /* @__PURE__ */ l(lY, { show: t, setModalShow: n })
  ] });
}, uY = () => {
  const { runStep: e, run: t } = ke(Ht), [n, r] = B(!1), [i, a] = B({}), [s, o] = B(null), [c, u] = B([]), [f, p] = B([]), [g, h] = B([]), [y, _] = B(""), [S, w] = B(!1);
  if (!e.has_recipe)
    return "Reworks are only possible for steps with a recipe";
  const [I, b, E] = nn({
    queries: [
      {
        queryKey: ["templates", g],
        queryFn: () => WI({ reworkRecipes: g }),
        enabled: n && g.length > 0
      },
      {
        queryKey: ["run_steps", e.id],
        queryFn: () => Md({ run: t, page: 1, pageSize: 1e3 }),
        enabled: n
      },
      {
        queryKey: ["template_steps", "rework", s, e.id],
        queryFn: () => YI({
          template: s,
          pageSize: 1e3
        }),
        enabled: s !== null
      }
    ]
  });
  re(() => {
    if (b.isSuccess && c.length > 0) {
      let N = b.data.items.filter((D) => c.includes(D.id)).map((D) => D.recipe_version.recipe);
      h([...N]);
    }
  }, [b.isSuccess, c]);
  function C(N) {
    let D = I.data.templates.find((F) => F.id === N);
    D !== void 0 && o(D);
  }
  function A() {
    let N = {};
    a({}), c.length === 0 && (N.runStep = "Please select at least one step"), a((D) => ({ ...D, ...N })), Object.keys(N).length === 0 && (w(!0), ae.create().patch("/update/run/step/rework/" + e.id, {
      reworked_run_steps: c,
      template_steps: f,
      comment: y
    }).then(() => {
      w(!1), window.location.reload();
    }));
  }
  return /* @__PURE__ */ v(ve, { children: [
    n && /* @__PURE__ */ v(j, { method: "post", onSubmit: () => A(), children: [
      /* @__PURE__ */ v("div", { className: "row mb-3", children: [
        /* @__PURE__ */ l(j.Label, { className: "col-sm-3 col-form-label text-end", children: "Template" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          g.length === 0 && /* @__PURE__ */ l(Rt, { variant: "info", children: "Please select a rework step" }),
          g.length > 0 && /* @__PURE__ */ v(
            j.Control,
            {
              as: "select",
              name: "template",
              onChange: (N) => C(parseInt(N.target.value)),
              isInvalid: !!i.template,
              children: [
                /* @__PURE__ */ l("option", { value: "", children: "â€” Select a template" }),
                I.data !== void 0 && I.data.templates.map((N, D) => /* @__PURE__ */ v("option", { value: N.id, children: [
                  N.label,
                  ": ",
                  N.name
                ] }, D))
              ]
            }
          ),
          i.template && /* @__PURE__ */ l("span", { className: "text-danger", children: i.template })
        ] })
      ] }),
      s !== null && /* @__PURE__ */ v("div", { className: "row mb-3", children: [
        /* @__PURE__ */ l(j.Label, { className: "col-sm-3 col-form-label text-end", children: "Include template steps" }),
        /* @__PURE__ */ l("div", { className: "col-sm-9", children: /* @__PURE__ */ l("ul", { className: "list-group", children: !E.isLoading && E.data !== void 0 && E.data.steps.map((N, D) => /* @__PURE__ */ l("li", { className: "list-group-item ", children: /* @__PURE__ */ v("div", { className: "form-check", children: [
          /* @__PURE__ */ l(
            "input",
            {
              type: "checkbox",
              className: "form-check-input",
              id: "templateStep" + N.id,
              name: "templateStep",
              onChange: (F) => {
                F.target.checked ? p([...f, N.id]) : p(f.filter((P) => P !== N.id));
              },
              value: N.id
            }
          ),
          /* @__PURE__ */ v("label", { htmlFor: "templateStep" + N.id, className: "from-check-label", children: [
            /* @__PURE__ */ v("small", { className: "text-muted pe-2", children: [
              N.number,
              ":"
            ] }),
            N.process_module.process.name
          ] })
        ] }) }, D)) }) })
      ] }),
      /* @__PURE__ */ v("div", { className: "row mb-3", children: [
        /* @__PURE__ */ l(j.Label, { className: "col-sm-3 col-form-label text-end", children: "Repeat steps" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ v("ul", { className: "list-group", children: [
            b.isLoading && /* @__PURE__ */ l("option", { children: "Loading run steps..." }),
            !b.isLoading && b.data.items.map((N, D) => {
              if (e.sequence >= N.sequence)
                return /* @__PURE__ */ v(
                  "li",
                  {
                    className: "list-group-item d-flex justify-content-between" + (e.id === N.id ? " bg-success-subtle" : ""),
                    children: [
                      /* @__PURE__ */ v("div", { className: "form-check", children: [
                        /* @__PURE__ */ l(
                          "input",
                          {
                            type: "checkbox",
                            className: "form-check-input",
                            id: "runStep" + N.id,
                            name: "runStep",
                            onChange: (F) => {
                              F.target.checked ? u([...c, N.id]) : u(c.filter((P) => P !== N.id));
                            },
                            value: N.id
                          }
                        ),
                        /* @__PURE__ */ v("label", { htmlFor: "runStep" + N.id, className: "from-check-label", children: [
                          /* @__PURE__ */ v("small", { className: "text-muted pe-2", children: [
                            N.number,
                            ":"
                          ] }),
                          N.process_module.process.name
                        ] })
                      ] }),
                      N.is_finished && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l("span", { className: "badge bg-success", children: "Finished" }) })
                    ]
                  },
                  D
                );
            })
          ] }),
          i.runStep && /* @__PURE__ */ l("span", { className: "text-danger", children: i.runStep })
        ] })
      ] }),
      /* @__PURE__ */ v("div", { className: "row mb-3", children: [
        /* @__PURE__ */ l(j.Label, { className: "col-sm-3 col-form-label text-end", children: "Comment" }),
        /* @__PURE__ */ l("div", { className: "col-sm-9", children: /* @__PURE__ */ v(j.Group, { controlId: "runStep.remark", children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              as: "textarea",
              rows: 6,
              onChange: (N) => _(N.target.value),
              value: y,
              isInvalid: !!i.comment
            }
          ),
          /* @__PURE__ */ l("small", { className: "text-muted", children: "Optional comment for the rework" })
        ] }) })
      ] }),
      /* @__PURE__ */ l("div", { className: "row mb-3", children: /* @__PURE__ */ v("div", { className: "col-sm-9 offset-sm-3", children: [
        /* @__PURE__ */ v(ce, { variant: "primary", onClick: () => A(), disabled: S, children: [
          S && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
          "Create rework"
        ] }),
        "Â ",
        /* @__PURE__ */ l(ce, { variant: "warning", onClick: () => r(!1), children: "Cancel" })
      ] }) })
    ] }),
    !n && /* @__PURE__ */ l(ce, { variant: "primary", className: "mt-3", onClick: () => r(!0), children: "Set Rework" })
  ] });
}, dY = () => {
  const { environment: e } = mt(), { runStep: t, run: n } = ke(Ht), r = nn({
    queries: [
      {
        queryKey: ["monitors", t.process_module.module.equipment],
        queryFn: () => av({
          equipment: t.process_module.module.equipment
        })
      },
      {
        queryKey: ["ecn", t.process_module.module],
        queryFn: () => Dd({ module: t.process_module.module })
      },
      {
        queryKey: ["equipmentModule", t.process_module.module],
        queryFn: () => SI({
          id: t.process_module.module.id
        })
      },
      {
        queryKey: ["requirement", t.id],
        queryFn: () => Od({ run: n, step: t })
      }
    ]
  }), [i, a, s, o] = r, [c, u] = B(!0), f = r.some((h) => h.isLoading);
  if (r.some((h) => h.isError))
    return r.filter((h) => h.isError).forEach((h, y) => {
      console.error("StepDashboard query error", { index: y, error: h.error, runStep: t, run: n });
    }), /* @__PURE__ */ l(ve, { children: "Error fetching data" });
  if (f)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  const g = s.data;
  return /* @__PURE__ */ l(Fi, { fluid: !0, children: /* @__PURE__ */ v(Yn, { children: [
    /* @__PURE__ */ v(Mt, { className: "col-9", children: [
      n.run_type === Vn.RESEARCH && /* @__PURE__ */ l("small", { children: "Research run" }),
      n.run_type === Vn.PRODUCTION && /* @__PURE__ */ l("small", { children: "Production run" }),
      /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center mb-3", children: [
        /* @__PURE__ */ v("h1", { className: "display-4", children: [
          n.name,
          " (",
          n.project.name,
          ")"
        ] }),
        /* @__PURE__ */ v("div", { className: "d-flex flex-column flex-lg-row gap-2 flex-wrap justify-content-end", children: [
          t.has_rework && /* @__PURE__ */ l("span", { style: { fontSize: "1.5rem" }, className: "mx-1 badge bg-primary", children: "Rework" }),
          /* @__PURE__ */ l(tY, {}),
          /* @__PURE__ */ l(eY, {}),
          t.is_skipped && /* @__PURE__ */ l("span", { style: { fontSize: "1.5rem" }, className: "badge bg-info", children: "SKIPPED" })
        ] })
      ] }),
      /* @__PURE__ */ l(Zx, { run: n }),
      t.label && /* @__PURE__ */ l(ZG, { label: t.label }),
      /* @__PURE__ */ l(qG, { runStep: t }),
      t.is_finished && /* @__PURE__ */ v(Rt, { variant: "success", children: [
        "This step has been finished by ",
        t.finish_user?.first_name,
        " ",
        t.finish_user?.last_name
      ] }),
      t.has_recipe && /* @__PURE__ */ l(Ze, { className: "rounded my-4", children: /* @__PURE__ */ v(Ze.Body, { children: [
        /* @__PURE__ */ l(Ze.Title, { className: "text-muted", children: "Recipe" }),
        /* @__PURE__ */ v(Ze.Text, { className: "display-5", children: [
          t.recipe_version.recipe.name,
          " (Version ",
          t.recipe_version.version,
          ")"
        ] })
      ] }) }),
      o.data?.items.length == 1 && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l("h4", { children: "Measurements by part" }),
        /* @__PURE__ */ l(
          mp,
          {
            requirement: o.data.items[0],
            step: t,
            editOnly: !1
          }
        ),
        /* @__PURE__ */ l("h4", { children: "Measurements for whole step" }),
        /* @__PURE__ */ l(Jx, { requirement: o.data.items[0], editOnly: !1 })
      ] }),
      o.data?.items.length != 1 && n.run_type === Vn.RESEARCH && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l("h3", { children: "Available parts" }),
        /* @__PURE__ */ l(pp, { run: n, runStep: t })
      ] }),
      o.data?.items.length != 1 && n.run_type === Vn.PRODUCTION && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l("h3", { children: "Available parts" }),
        /* @__PURE__ */ l(hp, { run: n, runStep: t })
      ] }),
      /* @__PURE__ */ v(Yn, { className: "py-4", children: [
        /* @__PURE__ */ v(Mt, { children: [
          /* @__PURE__ */ l("h3", { children: "Checklist" }),
          /* @__PURE__ */ l(QG, {})
        ] }),
        /* @__PURE__ */ v(Mt, { children: [
          /* @__PURE__ */ l("h2", { children: "Parameters" }),
          /* @__PURE__ */ v("div", { className: "form-check form-switch", children: [
            /* @__PURE__ */ l(
              "input",
              {
                type: "checkbox",
                checked: c,
                className: "form-check-input",
                "data-toggle": "toggle",
                onChange: () => u(!c)
              }
            ),
            /* @__PURE__ */ l("label", { className: "ms-2", children: "Show only emphasized parameters" })
          ] }),
          /* @__PURE__ */ l(
            cc,
            {
              runStep: t,
              editableParameters: !1,
              showOnlyEmphasizedParameters: c
            }
          ),
          t.has_instructions && t.instructions && /* @__PURE__ */ v(ve, { children: [
            /* @__PURE__ */ l("h3", { children: "Instructions" }),
            /* @__PURE__ */ l(
              "span",
              {
                dangerouslySetInnerHTML: {
                  __html: t.instructions
                }
              }
            )
          ] }),
          /* @__PURE__ */ l("h3", { children: "Remark" }),
          /* @__PURE__ */ l(ew, {}),
          /* @__PURE__ */ l("h3", { className: "pt-3", children: "Rework" }),
          /* @__PURE__ */ l(uY, {})
        ] })
      ] }),
      /* @__PURE__ */ v(Yn, { children: [
        /* @__PURE__ */ v(Mt, { children: [
          /* @__PURE__ */ l("h2", { children: "Step files" }),
          /* @__PURE__ */ l(uc, { runStep: t })
        ] }),
        /* @__PURE__ */ v(Mt, { children: [
          /* @__PURE__ */ v("div", { className: "d-flex justify-content-between mb-3", children: [
            /* @__PURE__ */ l("h2", { children: "Run steps" }),
            /* @__PURE__ */ v("div", { className: "d-flex gap-2 flex-wrap justify-content-end", children: [
              /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(cY, { size: void 0 }) }),
              /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(oY, { size: void 0 }) }),
              /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(jx, { size: void 0, moduleId: t.process_module.module.id }) })
            ] })
          ] }),
          /* @__PURE__ */ l(tw, { pageSize: n.run_type === Vn.RESEARCH ? 5 : 1e3, hideLabel: !0 })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ l(Mt, { className: "col-3", children: /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
      /* @__PURE__ */ l("h2", { children: /* @__PURE__ */ v(pn, { to: `/${e}/operator/equipment/${t.process_module.module.equipment.id}`, children: [
        t.process_module.module.equipment.name,
        " (",
        t.process_module.module.name,
        ")"
      ] }) }),
      g && /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l("h2", { children: /* @__PURE__ */ l(Oi, { module: g }) }) }),
      i.data?.items && i.data.items.map((h, y) => /* @__PURE__ */ l(Hx, { monitor: h }, y)),
      a.data?.items.map(function(h, y) {
        return /* @__PURE__ */ v(Ze, { className: "my-2", children: [
          /* @__PURE__ */ v(Ze.Header, { children: [
            "ECN: ",
            h.ecn
          ] }),
          /* @__PURE__ */ l(Ze.Body, { children: /* @__PURE__ */ l(Ze.Text, { children: /* @__PURE__ */ l(Gi, { children: h.description }) }) }),
          /* @__PURE__ */ v(Ze.Footer, { children: [
            h.date_created && /* @__PURE__ */ v(ve, { children: [
              "Created by ",
              On(h.date_created, "DD-MM-YY H:m"),
              " by ",
              h.owner.full_name
            ] }),
            h.last_update && /* @__PURE__ */ v(ve, { children: [
              " ",
              "Â· Updated by ",
              On(h.last_update, "DD-MM-YY H:m"),
              " by ",
              h.owner.full_name
            ] })
          ] })
        ] }, y);
      })
    ] }) })
  ] }) });
}, fY = () => {
  const [e, t] = B(!1), { modalProperties: n } = ke(Ht), r = () => {
    t(!1), n.show = !1;
  };
  return re(() => {
    t(n.show);
  }, [n]), /* @__PURE__ */ v(be, { show: e, size: "xl", onHide: r, children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: n.modalTitle }) }),
    /* @__PURE__ */ l(be.Body, { children: n.modalContent }),
    /* @__PURE__ */ v(be.Footer, { children: [
      /* @__PURE__ */ l(ce, { variant: "secondary", onClick: r, children: "Save" }),
      n.modalSaveButton
    ] })
  ] });
};
function lW() {
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ l(dY, {}),
    /* @__PURE__ */ l(fY, {})
  ] });
}
const Ug = {
  movingOut: "Moving out...",
  movingIn: "Moving in..."
};
function pY({
  run: e,
  runStep: t,
  reloadRunStep: n
}) {
  const [r, i] = B(null), [a, s] = B(!1);
  re(() => {
    if (r) {
      const _ = setTimeout(() => {
        i(null);
      }, 3e3);
      return () => clearTimeout(_);
    }
  }, [r]), e || (e = ke(Ht).run), t || (t = ke(Ht).runStep);
  const o = ke(Ht).reloadRunStep;
  if (n || (n = o ?? (() => null)), !t || !n || !e)
    return /* @__PURE__ */ l(ve, { children: "Please set RunStepContext in RunStepChecklist" });
  const { data: c, isLoading: u, refetch: f } = Gn({
    queryKey: ["checklist", t.id],
    queryFn: () => ov({ runStep: t })
  });
  let p = Oe(t.is_started);
  if (Oe(t.is_finished))
    return /* @__PURE__ */ l("div", { children: "Step is finished" });
  if (u)
    return /* @__PURE__ */ l("div", { children: "Loading..." });
  function h(_) {
    i(Ug.movingOut), s(!0), lv(_).then(() => {
      s(!1), i(null), n();
    });
  }
  function y(_) {
    i(Ug.movingIn), s(!0), FI(_).then(() => {
      s(!1), i(null), n();
    });
  }
  return /* @__PURE__ */ v(ve, { children: [
    c.items.length === 0 && /* @__PURE__ */ l(Rt, { variant: "info", children: "No checklist found" }),
    c.items.length > 0 && /* @__PURE__ */ l(kn, { children: c.items.map((_, S) => /* @__PURE__ */ l(Kx, { checklistItem: _, refetch: f }, S)) }),
    /* @__PURE__ */ l("div", { className: "d-flex justify-content-between mt-3", children: /* @__PURE__ */ l("div", { className: "d-flex gap-2 align-items-center", children: p ? /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "success", onClick: () => h(t), disabled: a, children: r !== null ? r : "Move out" }) }) : /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "success", onClick: () => y(t), disabled: a, children: r !== null ? r : "Move in" }) }) }) })
  ] });
}
function cW({
  run: e,
  runStep: t,
  showOnlyEmphasizedParameters: n,
  reloadRunStepFn: r
}) {
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v("div", { children: [
      /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Parts" }),
      /* @__PURE__ */ l(hp, { run: e, runStep: t })
    ] }),
    /* @__PURE__ */ v("div", { className: "d-flex flex-row flex-wrap gap-2", children: [
      /* @__PURE__ */ v("div", { className: "flex-grow-1", children: [
        /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Parameters" }),
        /* @__PURE__ */ l(cc, { runStep: t, showOnlyEmphasizedParameters: n })
      ] }),
      /* @__PURE__ */ v("div", { className: "d-flex flex-column gap-2", children: [
        /* @__PURE__ */ v("div", { className: "badge p-2 text-start", children: [
          /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Remark" }),
          /* @__PURE__ */ l(ew, { runStep: t, reloadRunStep: r })
        ] }),
        t.has_instructions && t.instructions && /* @__PURE__ */ v("div", { className: "badge text-dark p-2 text-start", children: [
          /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Instructions" }),
          /* @__PURE__ */ l(
            "span",
            {
              dangerouslySetInnerHTML: {
                __html: t.instructions
              }
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ v("div", { className: "d-flex flex-row flex-wrap gap-2", children: [
      /* @__PURE__ */ v("div", { className: "badge d-block p-2 flex-grow-1", children: [
        /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Checklist" }),
        /* @__PURE__ */ l(pY, { run: e, runStep: t, reloadRunStep: r })
      ] }),
      /* @__PURE__ */ v("div", { className: "badge d-block p-2 flex-grow-1", children: [
        /* @__PURE__ */ l("h3", { className: "mb-2 text-start", children: "Step files" }),
        /* @__PURE__ */ l(uc, { runStep: t })
      ] })
    ] })
  ] });
}
function nw({ control: e }) {
  return /* @__PURE__ */ l(j.Group, { className: "mb-3", controlId: "chemical.scanBarcode", children: /* @__PURE__ */ l(
    jn,
    {
      name: "barcode",
      control: e,
      render: ({ field: t }) => /* @__PURE__ */ l(
        "input",
        {
          ...t,
          id: "chemical.scanBarcodeElement",
          type: "text",
          autoFocus: !0,
          placeholder: "Scan or enter barcode",
          className: "form-control form-control-lg"
        }
      )
    }
  ) });
}
var hY = Object.defineProperty, wl = Object.getOwnPropertySymbols, rw = Object.prototype.hasOwnProperty, iw = Object.prototype.propertyIsEnumerable, Xg = (e, t, n) => t in e ? hY(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Ed = (e, t) => {
  for (var n in t || (t = {}))
    rw.call(t, n) && Xg(e, n, t[n]);
  if (wl)
    for (var n of wl(t))
      iw.call(t, n) && Xg(e, n, t[n]);
  return e;
}, kd = (e, t) => {
  var n = {};
  for (var r in e)
    rw.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
  if (e != null && wl)
    for (var r of wl(e))
      t.indexOf(r) < 0 && iw.call(e, r) && (n[r] = e[r]);
  return n;
};
var Ri;
((e) => {
  const t = class Je {
    /*-- Constructor (low level) and fields --*/
    // Creates a new QR Code with the given version number,
    // error correction level, data codeword bytes, and mask number.
    // This is a low-level API that most users should not use directly.
    // A mid-level API is the encodeSegments() function.
    constructor(c, u, f, p) {
      if (this.version = c, this.errorCorrectionLevel = u, this.modules = [], this.isFunction = [], c < Je.MIN_VERSION || c > Je.MAX_VERSION)
        throw new RangeError("Version value out of range");
      if (p < -1 || p > 7)
        throw new RangeError("Mask value out of range");
      this.size = c * 4 + 17;
      let g = [];
      for (let y = 0; y < this.size; y++)
        g.push(!1);
      for (let y = 0; y < this.size; y++)
        this.modules.push(g.slice()), this.isFunction.push(g.slice());
      this.drawFunctionPatterns();
      const h = this.addEccAndInterleave(f);
      if (this.drawCodewords(h), p == -1) {
        let y = 1e9;
        for (let _ = 0; _ < 8; _++) {
          this.applyMask(_), this.drawFormatBits(_);
          const S = this.getPenaltyScore();
          S < y && (p = _, y = S), this.applyMask(_);
        }
      }
      i(0 <= p && p <= 7), this.mask = p, this.applyMask(p), this.drawFormatBits(p), this.isFunction = [];
    }
    /*-- Static factory functions (high level) --*/
    // Returns a QR Code representing the given Unicode text string at the given error correction level.
    // As a conservative upper bound, this function is guaranteed to succeed for strings that have 738 or fewer
    // Unicode code points (not UTF-16 code units) if the low error correction level is used. The smallest possible
    // QR Code version is automatically chosen for the output. The ECC level of the result may be higher than the
    // ecl argument if it can be done without increasing the version.
    static encodeText(c, u) {
      const f = e.QrSegment.makeSegments(c);
      return Je.encodeSegments(f, u);
    }
    // Returns a QR Code representing the given binary data at the given error correction level.
    // This function always encodes using the binary segment mode, not any text mode. The maximum number of
    // bytes allowed is 2953. The smallest possible QR Code version is automatically chosen for the output.
    // The ECC level of the result may be higher than the ecl argument if it can be done without increasing the version.
    static encodeBinary(c, u) {
      const f = e.QrSegment.makeBytes(c);
      return Je.encodeSegments([f], u);
    }
    /*-- Static factory functions (mid level) --*/
    // Returns a QR Code representing the given segments with the given encoding parameters.
    // The smallest possible QR Code version within the given range is automatically
    // chosen for the output. Iff boostEcl is true, then the ECC level of the result
    // may be higher than the ecl argument if it can be done without increasing the
    // version. The mask number is either between 0 to 7 (inclusive) to force that
    // mask, or -1 to automatically choose an appropriate mask (which may be slow).
    // This function allows the user to create a custom sequence of segments that switches
    // between modes (such as alphanumeric and byte) to encode text in less space.
    // This is a mid-level API; the high-level API is encodeText() and encodeBinary().
    static encodeSegments(c, u, f = 1, p = 40, g = -1, h = !0) {
      if (!(Je.MIN_VERSION <= f && f <= p && p <= Je.MAX_VERSION) || g < -1 || g > 7)
        throw new RangeError("Invalid value");
      let y, _;
      for (y = f; ; y++) {
        const b = Je.getNumDataCodewords(y, u) * 8, E = s.getTotalBits(c, y);
        if (E <= b) {
          _ = E;
          break;
        }
        if (y >= p)
          throw new RangeError("Data too long");
      }
      for (const b of [Je.Ecc.MEDIUM, Je.Ecc.QUARTILE, Je.Ecc.HIGH])
        h && _ <= Je.getNumDataCodewords(y, b) * 8 && (u = b);
      let S = [];
      for (const b of c) {
        n(b.mode.modeBits, 4, S), n(b.numChars, b.mode.numCharCountBits(y), S);
        for (const E of b.getData())
          S.push(E);
      }
      i(S.length == _);
      const w = Je.getNumDataCodewords(y, u) * 8;
      i(S.length <= w), n(0, Math.min(4, w - S.length), S), n(0, (8 - S.length % 8) % 8, S), i(S.length % 8 == 0);
      for (let b = 236; S.length < w; b ^= 253)
        n(b, 8, S);
      let I = [];
      for (; I.length * 8 < S.length; )
        I.push(0);
      return S.forEach((b, E) => I[E >>> 3] |= b << 7 - (E & 7)), new Je(y, u, I, g);
    }
    /*-- Accessor methods --*/
    // Returns the color of the module (pixel) at the given coordinates, which is false
    // for light or true for dark. The top left corner has the coordinates (x=0, y=0).
    // If the given coordinates are out of bounds, then false (light) is returned.
    getModule(c, u) {
      return 0 <= c && c < this.size && 0 <= u && u < this.size && this.modules[u][c];
    }
    // Modified to expose modules for easy access
    getModules() {
      return this.modules;
    }
    /*-- Private helper methods for constructor: Drawing function modules --*/
    // Reads this object's version field, and draws and marks all function modules.
    drawFunctionPatterns() {
      for (let f = 0; f < this.size; f++)
        this.setFunctionModule(6, f, f % 2 == 0), this.setFunctionModule(f, 6, f % 2 == 0);
      this.drawFinderPattern(3, 3), this.drawFinderPattern(this.size - 4, 3), this.drawFinderPattern(3, this.size - 4);
      const c = this.getAlignmentPatternPositions(), u = c.length;
      for (let f = 0; f < u; f++)
        for (let p = 0; p < u; p++)
          f == 0 && p == 0 || f == 0 && p == u - 1 || f == u - 1 && p == 0 || this.drawAlignmentPattern(c[f], c[p]);
      this.drawFormatBits(0), this.drawVersion();
    }
    // Draws two copies of the format bits (with its own error correction code)
    // based on the given mask and this object's error correction level field.
    drawFormatBits(c) {
      const u = this.errorCorrectionLevel.formatBits << 3 | c;
      let f = u;
      for (let g = 0; g < 10; g++)
        f = f << 1 ^ (f >>> 9) * 1335;
      const p = (u << 10 | f) ^ 21522;
      i(p >>> 15 == 0);
      for (let g = 0; g <= 5; g++)
        this.setFunctionModule(8, g, r(p, g));
      this.setFunctionModule(8, 7, r(p, 6)), this.setFunctionModule(8, 8, r(p, 7)), this.setFunctionModule(7, 8, r(p, 8));
      for (let g = 9; g < 15; g++)
        this.setFunctionModule(14 - g, 8, r(p, g));
      for (let g = 0; g < 8; g++)
        this.setFunctionModule(this.size - 1 - g, 8, r(p, g));
      for (let g = 8; g < 15; g++)
        this.setFunctionModule(8, this.size - 15 + g, r(p, g));
      this.setFunctionModule(8, this.size - 8, !0);
    }
    // Draws two copies of the version bits (with its own error correction code),
    // based on this object's version field, iff 7 <= version <= 40.
    drawVersion() {
      if (this.version < 7)
        return;
      let c = this.version;
      for (let f = 0; f < 12; f++)
        c = c << 1 ^ (c >>> 11) * 7973;
      const u = this.version << 12 | c;
      i(u >>> 18 == 0);
      for (let f = 0; f < 18; f++) {
        const p = r(u, f), g = this.size - 11 + f % 3, h = Math.floor(f / 3);
        this.setFunctionModule(g, h, p), this.setFunctionModule(h, g, p);
      }
    }
    // Draws a 9*9 finder pattern including the border separator,
    // with the center module at (x, y). Modules can be out of bounds.
    drawFinderPattern(c, u) {
      for (let f = -4; f <= 4; f++)
        for (let p = -4; p <= 4; p++) {
          const g = Math.max(Math.abs(p), Math.abs(f)), h = c + p, y = u + f;
          0 <= h && h < this.size && 0 <= y && y < this.size && this.setFunctionModule(h, y, g != 2 && g != 4);
        }
    }
    // Draws a 5*5 alignment pattern, with the center module
    // at (x, y). All modules must be in bounds.
    drawAlignmentPattern(c, u) {
      for (let f = -2; f <= 2; f++)
        for (let p = -2; p <= 2; p++)
          this.setFunctionModule(c + p, u + f, Math.max(Math.abs(p), Math.abs(f)) != 1);
    }
    // Sets the color of a module and marks it as a function module.
    // Only used by the constructor. Coordinates must be in bounds.
    setFunctionModule(c, u, f) {
      this.modules[u][c] = f, this.isFunction[u][c] = !0;
    }
    /*-- Private helper methods for constructor: Codewords and masking --*/
    // Returns a new byte string representing the given data with the appropriate error correction
    // codewords appended to it, based on this object's version and error correction level.
    addEccAndInterleave(c) {
      const u = this.version, f = this.errorCorrectionLevel;
      if (c.length != Je.getNumDataCodewords(u, f))
        throw new RangeError("Invalid argument");
      const p = Je.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u], g = Je.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u], h = Math.floor(Je.getNumRawDataModules(u) / 8), y = p - h % p, _ = Math.floor(h / p);
      let S = [];
      const w = Je.reedSolomonComputeDivisor(g);
      for (let b = 0, E = 0; b < p; b++) {
        let C = c.slice(E, E + _ - g + (b < y ? 0 : 1));
        E += C.length;
        const A = Je.reedSolomonComputeRemainder(C, w);
        b < y && C.push(0), S.push(C.concat(A));
      }
      let I = [];
      for (let b = 0; b < S[0].length; b++)
        S.forEach((E, C) => {
          (b != _ - g || C >= y) && I.push(E[b]);
        });
      return i(I.length == h), I;
    }
    // Draws the given sequence of 8-bit codewords (data and error correction) onto the entire
    // data area of this QR Code. Function modules need to be marked off before this is called.
    drawCodewords(c) {
      if (c.length != Math.floor(Je.getNumRawDataModules(this.version) / 8))
        throw new RangeError("Invalid argument");
      let u = 0;
      for (let f = this.size - 1; f >= 1; f -= 2) {
        f == 6 && (f = 5);
        for (let p = 0; p < this.size; p++)
          for (let g = 0; g < 2; g++) {
            const h = f - g, _ = (f + 1 & 2) == 0 ? this.size - 1 - p : p;
            !this.isFunction[_][h] && u < c.length * 8 && (this.modules[_][h] = r(c[u >>> 3], 7 - (u & 7)), u++);
          }
      }
      i(u == c.length * 8);
    }
    // XORs the codeword modules in this QR Code with the given mask pattern.
    // The function modules must be marked and the codeword bits must be drawn
    // before masking. Due to the arithmetic of XOR, calling applyMask() with
    // the same mask value a second time will undo the mask. A final well-formed
    // QR Code needs exactly one (not zero, two, etc.) mask applied.
    applyMask(c) {
      if (c < 0 || c > 7)
        throw new RangeError("Mask value out of range");
      for (let u = 0; u < this.size; u++)
        for (let f = 0; f < this.size; f++) {
          let p;
          switch (c) {
            case 0:
              p = (f + u) % 2 == 0;
              break;
            case 1:
              p = u % 2 == 0;
              break;
            case 2:
              p = f % 3 == 0;
              break;
            case 3:
              p = (f + u) % 3 == 0;
              break;
            case 4:
              p = (Math.floor(f / 3) + Math.floor(u / 2)) % 2 == 0;
              break;
            case 5:
              p = f * u % 2 + f * u % 3 == 0;
              break;
            case 6:
              p = (f * u % 2 + f * u % 3) % 2 == 0;
              break;
            case 7:
              p = ((f + u) % 2 + f * u % 3) % 2 == 0;
              break;
            default:
              throw new Error("Unreachable");
          }
          !this.isFunction[u][f] && p && (this.modules[u][f] = !this.modules[u][f]);
        }
    }
    // Calculates and returns the penalty score based on state of this QR Code's current modules.
    // This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.
    getPenaltyScore() {
      let c = 0;
      for (let g = 0; g < this.size; g++) {
        let h = !1, y = 0, _ = [0, 0, 0, 0, 0, 0, 0];
        for (let S = 0; S < this.size; S++)
          this.modules[g][S] == h ? (y++, y == 5 ? c += Je.PENALTY_N1 : y > 5 && c++) : (this.finderPenaltyAddHistory(y, _), h || (c += this.finderPenaltyCountPatterns(_) * Je.PENALTY_N3), h = this.modules[g][S], y = 1);
        c += this.finderPenaltyTerminateAndCount(h, y, _) * Je.PENALTY_N3;
      }
      for (let g = 0; g < this.size; g++) {
        let h = !1, y = 0, _ = [0, 0, 0, 0, 0, 0, 0];
        for (let S = 0; S < this.size; S++)
          this.modules[S][g] == h ? (y++, y == 5 ? c += Je.PENALTY_N1 : y > 5 && c++) : (this.finderPenaltyAddHistory(y, _), h || (c += this.finderPenaltyCountPatterns(_) * Je.PENALTY_N3), h = this.modules[S][g], y = 1);
        c += this.finderPenaltyTerminateAndCount(h, y, _) * Je.PENALTY_N3;
      }
      for (let g = 0; g < this.size - 1; g++)
        for (let h = 0; h < this.size - 1; h++) {
          const y = this.modules[g][h];
          y == this.modules[g][h + 1] && y == this.modules[g + 1][h] && y == this.modules[g + 1][h + 1] && (c += Je.PENALTY_N2);
        }
      let u = 0;
      for (const g of this.modules)
        u = g.reduce((h, y) => h + (y ? 1 : 0), u);
      const f = this.size * this.size, p = Math.ceil(Math.abs(u * 20 - f * 10) / f) - 1;
      return i(0 <= p && p <= 9), c += p * Je.PENALTY_N4, i(0 <= c && c <= 2568888), c;
    }
    /*-- Private helper functions --*/
    // Returns an ascending list of positions of alignment patterns for this version number.
    // Each position is in the range [0,177), and are used on both the x and y axes.
    // This could be implemented as lookup table of 40 variable-length lists of integers.
    getAlignmentPatternPositions() {
      if (this.version == 1)
        return [];
      {
        const c = Math.floor(this.version / 7) + 2, u = this.version == 32 ? 26 : Math.ceil((this.version * 4 + 4) / (c * 2 - 2)) * 2;
        let f = [6];
        for (let p = this.size - 7; f.length < c; p -= u)
          f.splice(1, 0, p);
        return f;
      }
    }
    // Returns the number of data bits that can be stored in a QR Code of the given version number, after
    // all function modules are excluded. This includes remainder bits, so it might not be a multiple of 8.
    // The result is in the range [208, 29648]. This could be implemented as a 40-entry lookup table.
    static getNumRawDataModules(c) {
      if (c < Je.MIN_VERSION || c > Je.MAX_VERSION)
        throw new RangeError("Version number out of range");
      let u = (16 * c + 128) * c + 64;
      if (c >= 2) {
        const f = Math.floor(c / 7) + 2;
        u -= (25 * f - 10) * f - 55, c >= 7 && (u -= 36);
      }
      return i(208 <= u && u <= 29648), u;
    }
    // Returns the number of 8-bit data (i.e. not error correction) codewords contained in any
    // QR Code of the given version number and error correction level, with remainder bits discarded.
    // This stateless pure function could be implemented as a (40*4)-cell lookup table.
    static getNumDataCodewords(c, u) {
      return Math.floor(Je.getNumRawDataModules(c) / 8) - Je.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c] * Je.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c];
    }
    // Returns a Reed-Solomon ECC generator polynomial for the given degree. This could be
    // implemented as a lookup table over all possible parameter values, instead of as an algorithm.
    static reedSolomonComputeDivisor(c) {
      if (c < 1 || c > 255)
        throw new RangeError("Degree out of range");
      let u = [];
      for (let p = 0; p < c - 1; p++)
        u.push(0);
      u.push(1);
      let f = 1;
      for (let p = 0; p < c; p++) {
        for (let g = 0; g < u.length; g++)
          u[g] = Je.reedSolomonMultiply(u[g], f), g + 1 < u.length && (u[g] ^= u[g + 1]);
        f = Je.reedSolomonMultiply(f, 2);
      }
      return u;
    }
    // Returns the Reed-Solomon error correction codeword for the given data and divisor polynomials.
    static reedSolomonComputeRemainder(c, u) {
      let f = u.map((p) => 0);
      for (const p of c) {
        const g = p ^ f.shift();
        f.push(0), u.forEach((h, y) => f[y] ^= Je.reedSolomonMultiply(h, g));
      }
      return f;
    }
    // Returns the product of the two given field elements modulo GF(2^8/0x11D). The arguments and result
    // are unsigned 8-bit integers. This could be implemented as a lookup table of 256*256 entries of uint8.
    static reedSolomonMultiply(c, u) {
      if (c >>> 8 || u >>> 8)
        throw new RangeError("Byte out of range");
      let f = 0;
      for (let p = 7; p >= 0; p--)
        f = f << 1 ^ (f >>> 7) * 285, f ^= (u >>> p & 1) * c;
      return i(f >>> 8 == 0), f;
    }
    // Can only be called immediately after a light run is added, and
    // returns either 0, 1, or 2. A helper function for getPenaltyScore().
    finderPenaltyCountPatterns(c) {
      const u = c[1];
      i(u <= this.size * 3);
      const f = u > 0 && c[2] == u && c[3] == u * 3 && c[4] == u && c[5] == u;
      return (f && c[0] >= u * 4 && c[6] >= u ? 1 : 0) + (f && c[6] >= u * 4 && c[0] >= u ? 1 : 0);
    }
    // Must be called at the end of a line (row or column) of modules. A helper function for getPenaltyScore().
    finderPenaltyTerminateAndCount(c, u, f) {
      return c && (this.finderPenaltyAddHistory(u, f), u = 0), u += this.size, this.finderPenaltyAddHistory(u, f), this.finderPenaltyCountPatterns(f);
    }
    // Pushes the given value to the front and drops the last value. A helper function for getPenaltyScore().
    finderPenaltyAddHistory(c, u) {
      u[0] == 0 && (c += this.size), u.pop(), u.unshift(c);
    }
  };
  t.MIN_VERSION = 1, t.MAX_VERSION = 40, t.PENALTY_N1 = 3, t.PENALTY_N2 = 3, t.PENALTY_N3 = 40, t.PENALTY_N4 = 10, t.ECC_CODEWORDS_PER_BLOCK = [
    // Version: (note that index 0 is for padding, and is set to an illegal value)
    //0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level
    [-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],
    // Low
    [-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],
    // Medium
    [-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],
    // Quartile
    [-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30]
    // High
  ], t.NUM_ERROR_CORRECTION_BLOCKS = [
    // Version: (note that index 0 is for padding, and is set to an illegal value)
    //0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level
    [-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],
    // Low
    [-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],
    // Medium
    [-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],
    // Quartile
    [-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81]
    // High
  ], e.QrCode = t;
  function n(o, c, u) {
    if (c < 0 || c > 31 || o >>> c)
      throw new RangeError("Value out of range");
    for (let f = c - 1; f >= 0; f--)
      u.push(o >>> f & 1);
  }
  function r(o, c) {
    return (o >>> c & 1) != 0;
  }
  function i(o) {
    if (!o)
      throw new Error("Assertion error");
  }
  const a = class Ot {
    /*-- Constructor (low level) and fields --*/
    // Creates a new QR Code segment with the given attributes and data.
    // The character count (numChars) must agree with the mode and the bit buffer length,
    // but the constraint isn't checked. The given bit buffer is cloned and stored.
    constructor(c, u, f) {
      if (this.mode = c, this.numChars = u, this.bitData = f, u < 0)
        throw new RangeError("Invalid argument");
      this.bitData = f.slice();
    }
    /*-- Static factory functions (mid level) --*/
    // Returns a segment representing the given binary data encoded in
    // byte mode. All input byte arrays are acceptable. Any text string
    // can be converted to UTF-8 bytes and encoded as a byte mode segment.
    static makeBytes(c) {
      let u = [];
      for (const f of c)
        n(f, 8, u);
      return new Ot(Ot.Mode.BYTE, c.length, u);
    }
    // Returns a segment representing the given string of decimal digits encoded in numeric mode.
    static makeNumeric(c) {
      if (!Ot.isNumeric(c))
        throw new RangeError("String contains non-numeric characters");
      let u = [];
      for (let f = 0; f < c.length; ) {
        const p = Math.min(c.length - f, 3);
        n(parseInt(c.substring(f, f + p), 10), p * 3 + 1, u), f += p;
      }
      return new Ot(Ot.Mode.NUMERIC, c.length, u);
    }
    // Returns a segment representing the given text string encoded in alphanumeric mode.
    // The characters allowed are: 0 to 9, A to Z (uppercase only), space,
    // dollar, percent, asterisk, plus, hyphen, period, slash, colon.
    static makeAlphanumeric(c) {
      if (!Ot.isAlphanumeric(c))
        throw new RangeError("String contains unencodable characters in alphanumeric mode");
      let u = [], f;
      for (f = 0; f + 2 <= c.length; f += 2) {
        let p = Ot.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)) * 45;
        p += Ot.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f + 1)), n(p, 11, u);
      }
      return f < c.length && n(Ot.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)), 6, u), new Ot(Ot.Mode.ALPHANUMERIC, c.length, u);
    }
    // Returns a new mutable list of zero or more segments to represent the given Unicode text string.
    // The result may use various segment modes and switch modes to optimize the length of the bit stream.
    static makeSegments(c) {
      return c == "" ? [] : Ot.isNumeric(c) ? [Ot.makeNumeric(c)] : Ot.isAlphanumeric(c) ? [Ot.makeAlphanumeric(c)] : [Ot.makeBytes(Ot.toUtf8ByteArray(c))];
    }
    // Returns a segment representing an Extended Channel Interpretation
    // (ECI) designator with the given assignment value.
    static makeEci(c) {
      let u = [];
      if (c < 0)
        throw new RangeError("ECI assignment value out of range");
      if (c < 128)
        n(c, 8, u);
      else if (c < 16384)
        n(2, 2, u), n(c, 14, u);
      else if (c < 1e6)
        n(6, 3, u), n(c, 21, u);
      else
        throw new RangeError("ECI assignment value out of range");
      return new Ot(Ot.Mode.ECI, 0, u);
    }
    // Tests whether the given string can be encoded as a segment in numeric mode.
    // A string is encodable iff each character is in the range 0 to 9.
    static isNumeric(c) {
      return Ot.NUMERIC_REGEX.test(c);
    }
    // Tests whether the given string can be encoded as a segment in alphanumeric mode.
    // A string is encodable iff each character is in the following set: 0 to 9, A to Z
    // (uppercase only), space, dollar, percent, asterisk, plus, hyphen, period, slash, colon.
    static isAlphanumeric(c) {
      return Ot.ALPHANUMERIC_REGEX.test(c);
    }
    /*-- Methods --*/
    // Returns a new copy of the data bits of this segment.
    getData() {
      return this.bitData.slice();
    }
    // (Package-private) Calculates and returns the number of bits needed to encode the given segments at
    // the given version. The result is infinity if a segment has too many characters to fit its length field.
    static getTotalBits(c, u) {
      let f = 0;
      for (const p of c) {
        const g = p.mode.numCharCountBits(u);
        if (p.numChars >= 1 << g)
          return 1 / 0;
        f += 4 + g + p.bitData.length;
      }
      return f;
    }
    // Returns a new array of bytes representing the given string encoded in UTF-8.
    static toUtf8ByteArray(c) {
      c = encodeURI(c);
      let u = [];
      for (let f = 0; f < c.length; f++)
        c.charAt(f) != "%" ? u.push(c.charCodeAt(f)) : (u.push(parseInt(c.substring(f + 1, f + 3), 16)), f += 2);
      return u;
    }
  };
  a.NUMERIC_REGEX = /^[0-9]*$/, a.ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\/:-]*$/, a.ALPHANUMERIC_CHARSET = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";
  let s = a;
  e.QrSegment = a;
})(Ri || (Ri = {}));
((e) => {
  ((t) => {
    const n = class {
      // The QR Code can tolerate about 30% erroneous codewords
      /*-- Constructor and fields --*/
      constructor(i, a) {
        this.ordinal = i, this.formatBits = a;
      }
    };
    n.LOW = new n(0, 1), n.MEDIUM = new n(1, 0), n.QUARTILE = new n(2, 3), n.HIGH = new n(3, 2), t.Ecc = n;
  })(e.QrCode || (e.QrCode = {}));
})(Ri || (Ri = {}));
((e) => {
  ((t) => {
    const n = class {
      /*-- Constructor and fields --*/
      constructor(i, a) {
        this.modeBits = i, this.numBitsCharCount = a;
      }
      /*-- Method --*/
      // (Package-private) Returns the bit width of the character count field for a segment in
      // this mode in a QR Code at the given version number. The result is in the range [0, 16].
      numCharCountBits(i) {
        return this.numBitsCharCount[Math.floor((i + 7) / 17)];
      }
    };
    n.NUMERIC = new n(1, [10, 12, 14]), n.ALPHANUMERIC = new n(2, [9, 11, 13]), n.BYTE = new n(4, [8, 16, 16]), n.KANJI = new n(8, [8, 10, 12]), n.ECI = new n(7, [0, 0, 0]), t.Mode = n;
  })(e.QrSegment || (e.QrSegment = {}));
})(Ri || (Ri = {}));
var oa = Ri;
var mY = {
  L: oa.QrCode.Ecc.LOW,
  M: oa.QrCode.Ecc.MEDIUM,
  Q: oa.QrCode.Ecc.QUARTILE,
  H: oa.QrCode.Ecc.HIGH
}, aw = 128, sw = "L", ow = "#FFFFFF", lw = "#000000", cw = !1, uw = 1, gY = 4, vY = 0, yY = 0.1;
function dw(e, t = 0) {
  const n = [];
  return e.forEach(function(r, i) {
    let a = null;
    r.forEach(function(s, o) {
      if (!s && a !== null) {
        n.push(
          `M${a + t} ${i + t}h${o - a}v1H${a + t}z`
        ), a = null;
        return;
      }
      if (o === r.length - 1) {
        if (!s)
          return;
        a === null ? n.push(`M${o + t},${i + t} h1v1H${o + t}z`) : n.push(
          `M${a + t},${i + t} h${o + 1 - a}v1H${a + t}z`
        );
        return;
      }
      s && a === null && (a = o);
    });
  }), n.join("");
}
function fw(e, t) {
  return e.slice().map((n, r) => r < t.y || r >= t.y + t.h ? n : n.map((i, a) => a < t.x || a >= t.x + t.w ? i : !1));
}
function bY(e, t, n, r) {
  if (r == null)
    return null;
  const i = e.length + n * 2, a = Math.floor(t * yY), s = i / t, o = (r.width || a) * s, c = (r.height || a) * s, u = r.x == null ? e.length / 2 - o / 2 : r.x * s, f = r.y == null ? e.length / 2 - c / 2 : r.y * s, p = r.opacity == null ? 1 : r.opacity;
  let g = null;
  if (r.excavate) {
    let y = Math.floor(u), _ = Math.floor(f), S = Math.ceil(o + u - y), w = Math.ceil(c + f - _);
    g = { x: y, y: _, w: S, h: w };
  }
  const h = r.crossOrigin;
  return { x: u, y: f, h: c, w: o, excavation: g, opacity: p, crossOrigin: h };
}
function xY(e, t) {
  return t != null ? Math.max(Math.floor(t), 0) : e ? gY : vY;
}
function pw({
  value: e,
  level: t,
  minVersion: n,
  includeMargin: r,
  marginSize: i,
  imageSettings: a,
  size: s,
  boostLevel: o
}) {
  let c = ne.useMemo(() => {
    const y = (Array.isArray(e) ? e : [e]).reduce((_, S) => (_.push(...oa.QrSegment.makeSegments(S)), _), []);
    return oa.QrCode.encodeSegments(
      y,
      mY[t],
      n,
      void 0,
      void 0,
      o
    );
  }, [e, t, n, o]);
  const { cells: u, margin: f, numCells: p, calculatedImageSettings: g } = ne.useMemo(() => {
    let h = c.getModules();
    const y = xY(r, i), _ = h.length + y * 2, S = bY(
      h,
      s,
      y,
      a
    );
    return {
      cells: h,
      margin: y,
      numCells: _,
      calculatedImageSettings: S
    };
  }, [c, s, a, r, i]);
  return {
    qrcode: c,
    margin: f,
    cells: u,
    numCells: p,
    calculatedImageSettings: g
  };
}
var wY = (function() {
  try {
    new Path2D().addPath(new Path2D());
  } catch {
    return !1;
  }
  return !0;
})(), CY = ne.forwardRef(
  function(t, n) {
    const r = t, {
      value: i,
      size: a = aw,
      level: s = sw,
      bgColor: o = ow,
      fgColor: c = lw,
      includeMargin: u = cw,
      minVersion: f = uw,
      boostLevel: p,
      marginSize: g,
      imageSettings: h
    } = r, _ = kd(r, [
      "value",
      "size",
      "level",
      "bgColor",
      "fgColor",
      "includeMargin",
      "minVersion",
      "boostLevel",
      "marginSize",
      "imageSettings"
    ]), { style: S } = _, w = kd(_, ["style"]), I = h?.src, b = ne.useRef(null), E = ne.useRef(null), C = ne.useCallback(
      (H) => {
        b.current = H, typeof n == "function" ? n(H) : n && (n.current = H);
      },
      [n]
    ), [A, N] = ne.useState(!1), { margin: D, cells: F, numCells: P, calculatedImageSettings: G } = pw({
      value: i,
      level: s,
      minVersion: f,
      boostLevel: p,
      includeMargin: u,
      marginSize: g,
      imageSettings: h,
      size: a
    });
    ne.useEffect(() => {
      if (b.current != null) {
        const H = b.current, L = H.getContext("2d");
        if (!L)
          return;
        let q = F;
        const te = E.current, ge = G != null && te !== null && te.complete && te.naturalHeight !== 0 && te.naturalWidth !== 0;
        ge && G.excavation != null && (q = fw(
          F,
          G.excavation
        ));
        const Ce = window.devicePixelRatio || 1;
        H.height = H.width = a * Ce;
        const O = a / P * Ce;
        L.scale(O, O), L.fillStyle = o, L.fillRect(0, 0, P, P), L.fillStyle = c, wY ? L.fill(new Path2D(dw(q, D))) : F.forEach(function(ie, se) {
          ie.forEach(function(R, oe) {
            R && L.fillRect(oe + D, se + D, 1, 1);
          });
        }), G && (L.globalAlpha = G.opacity), ge && L.drawImage(
          te,
          G.x + D,
          G.y + D,
          G.w,
          G.h
        );
      }
    }), ne.useEffect(() => {
      N(!1);
    }, [I]);
    const Y = Ed({ height: a, width: a }, S);
    let z = null;
    return I != null && (z = /* @__PURE__ */ ne.createElement(
      "img",
      {
        src: I,
        key: I,
        style: { display: "none" },
        onLoad: () => {
          N(!0);
        },
        ref: E,
        crossOrigin: G?.crossOrigin
      }
    )), /* @__PURE__ */ ne.createElement(ne.Fragment, null, /* @__PURE__ */ ne.createElement(
      "canvas",
      Ed({
        style: Y,
        height: a,
        width: a,
        ref: C,
        role: "img"
      }, w)
    ), z);
  }
);
CY.displayName = "QRCodeCanvas";
var oi = ne.forwardRef(
  function(t, n) {
    const r = t, {
      value: i,
      size: a = aw,
      level: s = sw,
      bgColor: o = ow,
      fgColor: c = lw,
      includeMargin: u = cw,
      minVersion: f = uw,
      boostLevel: p,
      title: g,
      marginSize: h,
      imageSettings: y
    } = r, _ = kd(r, [
      "value",
      "size",
      "level",
      "bgColor",
      "fgColor",
      "includeMargin",
      "minVersion",
      "boostLevel",
      "title",
      "marginSize",
      "imageSettings"
    ]), { margin: S, cells: w, numCells: I, calculatedImageSettings: b } = pw({
      value: i,
      level: s,
      minVersion: f,
      boostLevel: p,
      includeMargin: u,
      marginSize: h,
      imageSettings: y,
      size: a
    });
    let E = w, C = null;
    y != null && b != null && (b.excavation != null && (E = fw(
      w,
      b.excavation
    )), C = /* @__PURE__ */ ne.createElement(
      "image",
      {
        href: y.src,
        height: b.h,
        width: b.w,
        x: b.x + S,
        y: b.y + S,
        preserveAspectRatio: "none",
        opacity: b.opacity,
        crossOrigin: b.crossOrigin
      }
    ));
    const A = dw(E, S);
    return /* @__PURE__ */ ne.createElement(
      "svg",
      Ed({
        height: a,
        width: a,
        viewBox: `0 0 ${I} ${I}`,
        ref: n,
        role: "img"
      }, _),
      !!g && /* @__PURE__ */ ne.createElement("title", null, g),
      /* @__PURE__ */ ne.createElement(
        "path",
        {
          fill: o,
          d: `M0,0 h${I}v${I}H0z`,
          shapeRendering: "crispEdges"
        }
      ),
      /* @__PURE__ */ ne.createElement("path", { fill: c, d: A, shapeRendering: "crispEdges" }),
      C
    );
  }
);
oi.displayName = "QRCodeSVG";
function fW({ setRun: e, runsList: t }) {
  const [n, r] = B(!1), { control: i, watch: a, reset: s, setFocus: o } = rn({
    defaultValues: {
      barcode: ""
    }
  }), c = a("barcode");
  re(() => {
    const f = setTimeout(() => {
      if (!c?.includes("/l/") && c?.includes("/r/")) {
        const p = c.split("/r/")[1], g = t.find((h) => h.id === Number(p));
        g !== void 0 && (e(g), u());
      }
    }, 1e3);
    return () => {
      clearTimeout(f);
    };
  }, [c, s]), re(() => {
    let f = "";
    const p = (g) => {
      g.target instanceof HTMLInputElement || g.target instanceof HTMLTextAreaElement || g.key.length > 1 && g.key !== "Enter" || (g.key === "Enter" ? (f === "start-form" && u(), f = "") : f += g.key);
    };
    return window.addEventListener("keydown", p), () => {
      window.removeEventListener("keydown", p);
    };
  }, [s]);
  const u = () => {
    r(!0), o("barcode"), s({ barcode: "" });
  };
  return /* @__PURE__ */ v("div", { className: "d-flex flex-column justify-content-between", children: [
    n && /* @__PURE__ */ l(nw, { control: i }),
    /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
      /* @__PURE__ */ l(oi, { value: "start-form", size: 100, className: "float-end", onClick: () => u() }),
      /* @__PURE__ */ l("span", { className: "text-muted", children: "Start QR" })
    ] })
  ] });
}
function pW({ children: e }) {
  const [t, n] = B(!1);
  return /* @__PURE__ */ l(
    fp.Provider,
    {
      value: {
        showOnlyEmphasizedParameters: t,
        setShowOnlyEmphasizedParameters: n
      },
      children: e
    }
  );
}
function hW() {
  return /* @__PURE__ */ l(Fi, { fluid: !0, children: /* @__PURE__ */ l(Es, {}) });
}
function SY({ control: e, name: t }) {
  const { environment: n } = mt(), [r, i] = B([]), [a, s] = B(!0);
  return re(() => {
    async function o() {
      try {
        const c = await NI({
          environment: n,
          withLocations: !0
        });
        i(c.items);
      } catch (c) {
        console.error("Error fetching rooms:", c);
      } finally {
        s(!1);
      }
    }
    o();
  }, []), a ? /* @__PURE__ */ l("p", { children: "Loading labs..." }) : /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h3", { children: "Choose a lab" }),
    /* @__PURE__ */ l(j.Group, { className: "mb-3", controlId: "chemical.roomSelect", children: /* @__PURE__ */ l(
      jn,
      {
        name: t,
        render: ({ field: { onChange: o, value: c } }) => /* @__PURE__ */ v(
          j.Select,
          {
            "aria-label": "Choose a lab",
            value: c?.id || "",
            onChange: (u) => {
              const f = r.find((p) => p.id.toString() === u.target.value);
              o(f || null);
            },
            children: [
              /* @__PURE__ */ l("option", { value: "", children: "â€” Choose a lab" }),
              r.map((u) => /* @__PURE__ */ l("option", { value: u.id, children: u.name }, u.id))
            ]
          }
        ),
        control: e
      }
    ) })
  ] });
}
function hw({ control: e, name: t, room: n }) {
  const [r, i] = B([]), [a, s] = B(!0);
  return re(() => {
    async function o() {
      try {
        const c = await kI({ room: n, pageSize: 1e3 });
        i(c.items), s(!1);
      } catch (c) {
        console.error("Error fetching locations:", c);
      }
    }
    o();
  }, [n]), a ? /* @__PURE__ */ l("p", { children: "Loading locations..." }) : /* @__PURE__ */ v(j.Group, { className: "mb-3", controlId: "chemical.roomSelect", children: [
    /* @__PURE__ */ l(j.Label, { children: "Select a storage location" }),
    /* @__PURE__ */ l(
      jn,
      {
        name: t,
        control: e,
        defaultValue: "",
        render: ({ field: { onChange: o, value: c } }) => /* @__PURE__ */ l(ve, { children: /* @__PURE__ */ l(Yn, { children: r.map((u) => /* @__PURE__ */ l(Mt, { xs: 4, md: 3, className: "mb-3", children: /* @__PURE__ */ l(
          Ze,
          {
            onClick: () => o(u.id.toString()),
            style: {
              cursor: "pointer",
              border: c.toString() === u.id.toString() ? "2px solid #007bff" : "1px solid #ddd",
              borderRadius: "8px"
            },
            className: "h-100",
            children: /* @__PURE__ */ v(Ze.Body, { children: [
              /* @__PURE__ */ l(Ze.Title, { children: u.name }),
              /* @__PURE__ */ v("div", { className: "text-muted small mb-2 d-flex gap-2 justify-content-between", children: [
                u.code && /* @__PURE__ */ v("div", { children: [
                  "Code: ",
                  u.code
                ] }),
                u.zone_group && /* @__PURE__ */ v("div", { children: [
                  "Zone group: ",
                  u.zone_group.name
                ] })
              ] }),
              /* @__PURE__ */ v(
                "div",
                {
                  style: {
                    textAlign: "center",
                    marginTop: "10px"
                  },
                  children: [
                    /* @__PURE__ */ l(oi, { value: "/l/" + u.id.toString(), size: 128 }),
                    " "
                  ]
                }
              )
            ] })
          }
        ) }, u.id)) }) })
      }
    )
  ] });
}
const IY = ({
  show: e,
  setShow: t,
  onChemicalCreate: n
}) => {
  const {
    register: r,
    control: i,
    setValue: a,
    handleSubmit: s,
    formState: { errors: o, isSubmitting: c }
  } = rn({
    defaultValues: {}
  }), u = async (f) => {
    try {
      const p = await ae.post("create/chemical", f);
      p.data && n(p.data);
    } finally {
      t(!1);
    }
  };
  return /* @__PURE__ */ l(be, { show: e, size: "lg", onHide: () => t(!1), children: /* @__PURE__ */ v(j, { onSubmit: s(u), children: [
    /* @__PURE__ */ l(be.Header, { closeButton: !0, children: /* @__PURE__ */ l(be.Title, { children: "Create new chemical" }) }),
    /* @__PURE__ */ v(be.Body, { children: [
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "CAS Number" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              as: "input",
              ...r("cas_number", {
                required: "A cas number is required"
              }),
              isInvalid: o.cas_number !== void 0
            }
          ),
          o.cas_number && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: o.cas_number.message })
        ] })
      ] }),
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "Name" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ l(
            j.Control,
            {
              as: "input",
              ...r("name", {
                required: "A name is required"
              }),
              isInvalid: o.name !== void 0
            }
          ),
          o.name && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: o.name.message })
        ] })
      ] }),
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "Description" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ l(j.Control, { as: "textarea", rows: 3, ...r("description") }),
          o.description && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: o.description.message })
        ] })
      ] }),
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "Standard product" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ v(
            j.Select,
            {
              ...r("standard_product", {
                required: "A standard product is required"
              }),
              isInvalid: o.standard_product !== void 0,
              children: [
                /* @__PURE__ */ l("option", { value: Ou.NON_STANDARD_PRODUCT, children: "Non standard product" }),
                /* @__PURE__ */ l("option", { value: Ou.STANDARD_PRODUCT, children: "Standard product" })
              ]
            }
          ),
          o.standard_product && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: o.standard_product.message })
        ] })
      ] }),
      /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
        /* @__PURE__ */ l("label", { className: "col-sm-3 col-form-label text-end", children: "Physical state" }),
        /* @__PURE__ */ v("div", { className: "col-sm-9", children: [
          /* @__PURE__ */ v(
            j.Select,
            {
              ...r("physical_state", {
                required: "A physical state is required"
              }),
              isInvalid: o.physical_state !== void 0,
              children: [
                /* @__PURE__ */ l("option", { value: es.SOLID, children: "Solid" }),
                /* @__PURE__ */ l("option", { value: es.LIQUID, children: "Liquid" }),
                /* @__PURE__ */ l("option", { value: es.GAS, children: "Gas" }),
                /* @__PURE__ */ l("option", { value: es.OTHER, children: "Other" })
              ]
            }
          ),
          o.physical_state && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: o.physical_state.message })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ l(be.Footer, { children: /* @__PURE__ */ v(ce, { variant: "primary", disabled: c, onClick: () => s(u)(), children: [
      c && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
      "Create new chemical"
    ] }) })
  ] }) });
};
function mw({
  control: e,
  name: t,
  setValue: n,
  errors: r
}) {
  const [i, a] = B({}), [s, o] = B(!1), [c, u] = B(null), f = (h, y) => {
    try {
      yI({ query: h }).then((S) => {
        const w = S.items.map((b) => ({
          value: b.id,
          label: b.name + (b.cas_number ? " (" + b.cas_number + ")" : "")
        })), I = { ...i };
        w.forEach((b) => {
          I[b.value] = b;
        }), a(I), y(w);
      });
    } catch (_) {
      console.error("Error fetching chemicals:", _);
    }
  }, p = (h) => h && i[h] ? i[h] : c || null, g = async (h) => {
    try {
      const y = await ae.post("create/chemical", h), _ = {
        value: y.data.id,
        label: y.data.name + (y.data.cas_number ? ` (${y.data.cas_number})` : "")
      };
      a((S) => ({ ...S, [_.value]: _ })), u(_), o(!1), n(t, y.data.id);
    } catch (y) {
      console.error("Error creating chemical:", y);
    }
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
      /* @__PURE__ */ l(j.Label, { children: "Search Existing Chemicals" }),
      /* @__PURE__ */ v(Yn, { children: [
        /* @__PURE__ */ l(
          jn,
          {
            name: t,
            control: e,
            render: ({ field: h }) => /* @__PURE__ */ l(
              $l,
              {
                isSearchable: !0,
                isClearable: !0,
                defaultOptions: !0,
                placeholder: "â€” Select a chemical, or start typing",
                loadOptions: f,
                value: p(h.value),
                styles: Nf,
                onChange: (y) => {
                  u(null), h.onChange(y?.value);
                }
              }
            )
          }
        ),
        r.chemical && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: r.chemical.message }),
        /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(ce, { variant: "primary", className: "mt-2", onClick: () => o(!0), children: "Create New Chemical" }) })
      ] })
    ] }),
    /* @__PURE__ */ l(IY, { show: s, setShow: o, onChemicalCreate: g })
  ] });
}
function gw(e) {
  return /\/l\/\d+$/.test(e);
}
function vw(e) {
  const t = e.match(/\/l\/(\d+)$/);
  return t ? parseInt(t[1], 10) : null;
}
const yw = [
  { value: "g", label: "Gram" },
  { value: "kg", label: "Kilogram" },
  { value: "lb", label: "US pound" },
  { value: "mc", label: "Microgram" },
  { value: "mg", label: "Milligram" },
  { value: "oz", label: "Ounce" },
  { value: "to", label: "Tonnes" },
  { value: "ton", label: "US ton" },
  { value: '"3', label: "Cubic inch" },
  { value: "ccm", label: "Cubic centimeter" },
  { value: "cl", label: "Centiliter" },
  { value: "dm3", label: "Cubic decimeter" },
  { value: "foz", label: "Fluid Ounce Us" },
  { value: "ft3", label: "Cubic foot" },
  { value: "gal", label: "US gallon" },
  { value: "hl", label: "Hectoliter" },
  { value: "kit", label: "Kit" },
  { value: "l", label: "Liter" },
  { value: "m3", label: "Cubic meter" },
  { value: "ml", label: "Mililiter" },
  { value: "mm3", label: "Cubic milimeter" },
  { value: "pc", label: "Item" },
  { value: "pce", label: "Piece" },
  { value: "pt", label: "Pint, US liquid" },
  { value: "qt", label: "Quart, US liquid" },
  { value: "yd3", label: "Cubic Yard" },
  { value: "Âµl", label: "Microliter" }
].sort((e, t) => e.label.localeCompare(t.label));
function _Y({
  room: e,
  barcode: t,
  resetForm: n,
  location: r,
  setLocation: i
}) {
  const { user: a } = ke(ks), { environment: s } = mt(), [o, c] = B(null);
  let u = /* @__PURE__ */ new Date();
  u.setFullYear(u.getFullYear() + 5);
  const {
    register: f,
    control: p,
    handleSubmit: g,
    watch: h,
    setValue: y,
    formState: { errors: _, isSubmitting: S }
  } = rn({
    defaultValues: {
      expire_date: u.toISOString().split("T")[0],
      owner: {
        value: a?.id,
        label: a?.full_name
      }
    }
  }), w = h("location");
  re(() => {
    w && ds({ id: w }).then((E) => {
      i(E);
    });
  }, [w]), re(() => {
    let E = "";
    const C = (A) => {
      if (!(A.target instanceof HTMLInputElement || A.target instanceof HTMLTextAreaElement) && !(A.key.length > 1 && A.key !== "Enter"))
        if (A.key === "Enter") {
          if (gw(E)) {
            const N = vw(E);
            N !== null && (ds({ id: N }).then((D) => {
              i(D);
            }), y("location", N));
          }
          E.startsWith("reset-scan-location") && b(), E = "";
        } else
          E += A.key;
    };
    return window.addEventListener("keydown", C), () => {
      window.removeEventListener("keydown", C);
    };
  }, [y]);
  const I = async (E) => {
    if (E.user = E.owner.value, (await Kg({
      qrCodeContent: t
    })).items.length > 0) {
      alert("This barcode is already registered to a container");
      return;
    }
    const A = await ae.post("create/chemical/container", E);
    c(A.data), await ae.post("create/chemical/container/external-label", {
      container: A.data.id,
      qr_code_content: t
    });
  }, b = () => {
    i(null), y("location", 0);
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(j, { onSubmit: g(I), children: [
      !r && /* @__PURE__ */ l(hw, { room: e, control: p, name: "location" }),
      r && /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Scanned location" }),
        /* @__PURE__ */ l(Mt, { children: /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
          /* @__PURE__ */ l("span", { className: "h1", children: r.name }),
          /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
            /* @__PURE__ */ l(oi, { value: "reset-scan-location", size: 100, onClick: () => b() }),
            /* @__PURE__ */ l("span", { className: "text-muted", children: "Reset location" })
          ] })
        ] }) })
      ] }),
      r && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l(
          mw,
          {
            control: p,
            errors: _,
            setValue: y,
            ...f("chemical", {
              required: "Chemical is required"
            })
          }
        ),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Owner" }),
          /* @__PURE__ */ l(
            Hs,
            {
              control: p,
              ...f("owner", {
                required: "Owner is required"
              }),
              name: "owner"
            }
          )
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Concentration" }),
          /* @__PURE__ */ v(ln, { className: "mb-3 w-25", hasValidation: !0, children: [
            /* @__PURE__ */ l(
              j.Control,
              {
                as: "input",
                ...f("concentration", {
                  required: "An concentration is required"
                }),
                isInvalid: _.concentration !== void 0
              }
            ),
            _.concentration && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: _.concentration.message })
          ] })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Amount" }),
          /* @__PURE__ */ v(ln, { className: "mb-3 w-25", hasValidation: !0, children: [
            /* @__PURE__ */ l(
              j.Control,
              {
                as: "input",
                ...f("amount", {
                  required: "An amount is required"
                }),
                isInvalid: _.amount !== void 0
              }
            ),
            /* @__PURE__ */ l(
              jn,
              {
                name: "amount_unit",
                control: p,
                render: ({ field: E }) => /* @__PURE__ */ v(
                  Ps,
                  {
                    id: "input-group-dropdown-1",
                    title: E.value || "(no unit)",
                    onSelect: (C) => E.onChange(C),
                    children: [
                      /* @__PURE__ */ l(je.Item, { eventKey: "", children: "(no unit)" }, 0),
                      yw.map((C) => /* @__PURE__ */ v(je.Item, { eventKey: C.value, children: [
                        C.label,
                        " (",
                        C.value,
                        ")"
                      ] }, C.value))
                    ]
                  }
                )
              }
            ),
            _.amount && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: _.amount.message })
          ] })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Expire date" }),
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "date",
              ...f("expire_date", {
                required: "An expire date is required"
              }),
              isInvalid: _.expire_date !== void 0
            }
          ),
          _.expire_date && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: _.expire_date.message })
        ] }),
        /* @__PURE__ */ v(ce, { type: "submit", variant: "primary", disabled: S, children: [
          S && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
          "Register container"
        ] })
      ] })
    ] }),
    o && /* @__PURE__ */ v("div", { className: "mt-3", children: [
      /* @__PURE__ */ l(Rt, { variant: "success", children: "Container registered successfully" }),
      /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center gap-2", children: [
        /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
          "a",
          {
            className: "btn btn-primary",
            href: `${s}/chemical/container/details/${o.id}/general.html`,
            children: "Go to container"
          }
        ) }),
        /* @__PURE__ */ l(oi, { value: "reset-form", size: 100, className: "float-end", onClick: () => n() })
      ] })
    ] })
  ] });
}
function EY({ control: e, errors: t }) {
  const [n, r] = B({}), i = (s, o) => {
    try {
      vI({ query: s }).then((u) => {
        const f = u.items.map((g) => ({
          value: g.id,
          label: g.name
        })), p = { ...n };
        f.forEach((g) => {
          p[g.value] = g;
        }), r(p), o(f);
      });
    } catch (c) {
      console.error("Error fetching types:", c);
    }
  }, a = (s) => n[s] || null;
  return /* @__PURE__ */ l(
    jn,
    {
      name: "container_type",
      control: e,
      render: ({ field: s }) => /* @__PURE__ */ l(
        $l,
        {
          isSearchable: !0,
          defaultOptions: !0,
          placeholder: "â€” Select a container type",
          loadOptions: i,
          value: a(s.value),
          onChange: (o) => {
            s.onChange(o?.value);
          },
          styles: Nf
        }
      )
    }
  );
}
function kY({
  room: e,
  resetForm: t,
  location: n,
  setLocation: r
}) {
  const { user: i } = ke(ks), { environment: a } = mt(), [s, o] = B(null);
  let c = /* @__PURE__ */ new Date();
  c.setFullYear(c.getFullYear() + 5);
  const {
    register: u,
    control: f,
    handleSubmit: p,
    watch: g,
    setValue: h,
    formState: { errors: y, isSubmitting: _ }
  } = rn({
    defaultValues: {
      expire_date: c.toISOString().split("T")[0],
      owner: {
        value: i?.id,
        label: i?.full_name
      }
    }
  }), S = g("location");
  re(() => {
    S && ds({ id: S }).then((b) => {
      r(b);
    });
  }, [S]), re(() => {
    let b = "";
    const E = (C) => {
      if (!(C.target instanceof HTMLInputElement || C.target instanceof HTMLTextAreaElement) && !(C.key.length > 1 && C.key !== "Enter"))
        if (C.key === "Enter") {
          if (gw(b)) {
            const A = vw(b);
            A !== null && (ds({ id: A }).then((N) => {
              r(N);
            }), h("location", A));
          }
          b.startsWith("reset-scan-location") && I(), b = "";
        } else
          b += C.key;
    };
    return window.addEventListener("keydown", E), () => {
      window.removeEventListener("keydown", E);
    };
  }, [h]);
  const w = async (b) => {
    b.user = b.owner.value;
    const E = await ae.post("create/chemical/container", b);
    o(E.data);
  }, I = () => {
    r(null), h("location", 0);
  };
  return /* @__PURE__ */ v(ve, { children: [
    /* @__PURE__ */ v(j, { onSubmit: p(w), children: [
      !n && /* @__PURE__ */ l(hw, { room: e, control: f, name: "location" }),
      n && /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
        /* @__PURE__ */ l(j.Label, { children: "Scanned location" }),
        /* @__PURE__ */ l(Mt, { children: /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
          /* @__PURE__ */ l("span", { className: "h1", children: n.name }),
          /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
            /* @__PURE__ */ l(oi, { value: "reset-scan-location", size: 100, onClick: () => I() }),
            /* @__PURE__ */ l("span", { className: "text-muted", children: "Reset location" })
          ] })
        ] }) })
      ] }),
      n && /* @__PURE__ */ v(ve, { children: [
        /* @__PURE__ */ l(
          mw,
          {
            control: f,
            errors: y,
            setValue: h,
            ...u("chemical", {
              required: "Chemical is required"
            })
          }
        ),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Owner" }),
          /* @__PURE__ */ l(
            Hs,
            {
              control: f,
              ...u("owner", {
                required: "Owner is required"
              }),
              name: "owner"
            }
          )
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Concentration" }),
          /* @__PURE__ */ v(ln, { className: "mb-3 w-25", hasValidation: !0, children: [
            /* @__PURE__ */ l(
              j.Control,
              {
                as: "input",
                ...u("concentration", {
                  required: "An concentration is required"
                }),
                isInvalid: y.concentration !== void 0
              }
            ),
            y.concentration && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: y.concentration.message })
          ] })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3", children: [
          /* @__PURE__ */ l(j.Label, { children: "Amount" }),
          /* @__PURE__ */ v(ln, { className: "mb-3 w-25", hasValidation: !0, children: [
            /* @__PURE__ */ l(
              j.Control,
              {
                as: "input",
                ...u("amount", {
                  required: "An amount is required"
                }),
                isInvalid: y.amount !== void 0
              }
            ),
            /* @__PURE__ */ l(
              jn,
              {
                name: "amount_unit",
                control: f,
                render: ({ field: b }) => /* @__PURE__ */ v(
                  Ps,
                  {
                    id: "input-group-dropdown-1",
                    title: b.value || "(no unit)",
                    onSelect: (E) => b.onChange(E),
                    children: [
                      /* @__PURE__ */ l(je.Item, { eventKey: "", children: "(no unit)" }, 0),
                      yw.map((E) => /* @__PURE__ */ v(je.Item, { eventKey: E.value, children: [
                        E.label,
                        " (",
                        E.value,
                        ")"
                      ] }, E.value))
                    ]
                  }
                )
              }
            ),
            y.amount && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: y.amount.message })
          ] })
        ] }),
        /* @__PURE__ */ v(ln, { hasValidation: !0, className: "mb-3 row", children: [
          /* @__PURE__ */ l(j.Label, { children: "Container type" }),
          /* @__PURE__ */ l(
            EY,
            {
              control: f,
              ...u("container_type", {
                required: "Container type is required"
              }),
              errors: y
            }
          ),
          y.container_type && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: y.container_type.message })
        ] }),
        /* @__PURE__ */ v(j.Group, { className: "mb-3 w-50 w-25-sm", children: [
          /* @__PURE__ */ l(j.Label, { children: "Expire date" }),
          /* @__PURE__ */ l(
            j.Control,
            {
              type: "date",
              ...u("expire_date", {
                required: "An expire date is required"
              }),
              isInvalid: y.expire_date !== void 0
            }
          ),
          y.expire_date && /* @__PURE__ */ l(j.Control.Feedback, { type: "invalid", children: y.expire_date.message })
        ] }),
        /* @__PURE__ */ v(ce, { type: "submit", variant: "primary", disabled: _, children: [
          _ && /* @__PURE__ */ l("span", { className: "spinner-border spinner-border-sm me-1" }),
          "Register container"
        ] })
      ] })
    ] }),
    s && /* @__PURE__ */ v("div", { className: "mt-3", children: [
      /* @__PURE__ */ l(Rt, { variant: "success", children: "Container registered successfully" }),
      /* @__PURE__ */ v("div", { className: "d-flex justify-content-between align-items-center gap-2", children: [
        /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
          "a",
          {
            className: "btn btn-primary",
            href: `${a}/chemical/container/render/single-${s.id}.pdf`,
            children: "Print label"
          }
        ) }),
        /* @__PURE__ */ l("div", { children: /* @__PURE__ */ l(
          "a",
          {
            className: "btn btn-primary",
            href: `${a}/chemical/container/details/${s.id}/general.html`,
            children: "Go to container"
          }
        ) }),
        /* @__PURE__ */ l(oi, { value: "reset-form", size: 100, className: "float-end", onClick: () => t() })
      ] })
    ] })
  ] });
}
function mW() {
  const { environment: e } = mt(), [t, n] = B(null), [r, i] = B([]), [a, s] = B(null), [o, c] = B(!1), [u, f] = B(!1), [p, g] = B(null), [h, y] = B(null), { control: _, watch: S, reset: w, setValue: I } = rn({
    defaultValues: {
      room: p,
      barcode: ""
    }
  }), b = S("room");
  re(() => {
    b && (g(b), f(b.building.site.has_external_chemical_labelling));
  }, [b]), re(() => {
    const N = new URLSearchParams(window.location.search).get("room");
    N && EI({ id: parseInt(N) }).then((D) => {
      g(D), f(D.building.site.has_external_chemical_labelling), I("room", D);
    });
  }, [I]), re(() => {
    const N = new URLSearchParams(window.location.search).get("location");
    N && ds({ id: parseInt(N) }).then((D) => {
      y(D), g(D.zone_group.room), f(D.zone_group.room.building.site.has_external_chemical_labelling), I("room", D.zone_group.room);
    });
  }, [I]);
  const E = S("barcode");
  re(() => {
    const N = setTimeout(() => {
      if (!E?.includes("/l/")) {
        if (E?.includes("/cc/")) {
          n(E);
          const D = E.split("/cc/")[1];
          gI({ id: parseInt(D) }).then((F) => {
            s(F);
          });
        }
        E && (n(E), A({ barcode: E }));
      }
    }, 1e3);
    return () => {
      clearTimeout(N);
    };
  }, [E, w]), re(() => {
    let N = "";
    const D = (F) => {
      F.target instanceof HTMLInputElement || F.target instanceof HTMLTextAreaElement || F.key.length > 1 && F.key !== "Enter" || (F.key === "Enter" ? (N === "reset-form" && C(), N = "") : N += F.key);
    };
    return window.addEventListener("keydown", D), () => {
      window.removeEventListener("keydown", D);
    };
  }, [w]);
  const C = () => {
    w({ room: p, barcode: "" }), n(null), y(null);
  };
  async function A({ barcode: N }) {
    try {
      const D = await Kg({
        qrCodeContent: N
      });
      D && Array.isArray(D.items) && D.items.length > 0 ? (i(D.items), c(!1)) : (c(!0), i([]));
    } catch (D) {
      console.error("Error fetching chemical container external labels", D), i([]), c(!1);
    }
  }
  return /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-between", children: [
      /* @__PURE__ */ l(SY, { control: _, name: "room" }),
      /* @__PURE__ */ v("div", { className: "d-flex flex-column", children: [
        /* @__PURE__ */ l(oi, { value: "reset-form", size: 100, className: "float-end", onClick: () => C() }),
        /* @__PURE__ */ l("span", { className: "text-muted", children: "Reset form" })
      ] })
    ] }),
    p && u && /* @__PURE__ */ v(Rt, { children: [
      "Lab ",
      p.name,
      " has external labels, each chemical material should have a material from the internal supplier/warehouse"
    ] }),
    p && !u && /* @__PURE__ */ v(Rt, { children: [
      "Lab ",
      p.name,
      " has no external labels, labels can be printed via the intake form"
    ] }),
    p !== null && !t && u && /* @__PURE__ */ l(nw, { control: _ }),
    t && a && /* @__PURE__ */ v(Rt, { variant: "info d-flex flex-column gap-3", children: [
      "This is already an own chemical material, this is ",
      a.chemical.name,
      " and should be stored on",
      " ",
      a.location.name,
      " in ",
      a.location.zone_group.room.name,
      /* @__PURE__ */ l(
        "a",
        {
          className: "alert-link",
          href: `${e}/chemical/container/details/${a.id}/general.html`,
          children: "Go to container"
        }
      )
    ] }),
    !a && t && /* @__PURE__ */ l(ve, { children: r.length === 0 ? /* @__PURE__ */ l(Rt, { variant: "info d-flex flex-column gap-3", children: /* @__PURE__ */ v("div", { children: [
      "No chemical container external labels found with label ",
      /* @__PURE__ */ l("strong", { children: t })
    ] }) }) : /* @__PURE__ */ v(Qt, { children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "ID" }),
        /* @__PURE__ */ l("th", { children: "Label" }),
        /* @__PURE__ */ l("th", { children: "Container" }),
        /* @__PURE__ */ l("th", { children: "Location" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: r.map((N) => /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("td", { children: N.id }),
        /* @__PURE__ */ l("td", { children: N.label }),
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("a", { href: `/${e}/chemical/container/details/${N.container.id}/general.html`, children: N.container.chemical.name }) }),
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("a", { href: `/${e}/location/details/${N.container.location.id}/general.html`, children: N.container.location.name }) })
      ] }, N.id)) })
    ] }) }),
    !a && o && p && t && /* @__PURE__ */ l(
      _Y,
      {
        room: p,
        barcode: t,
        location: h,
        setLocation: y,
        resetForm: C
      }
    ),
    !a && p && !u && /* @__PURE__ */ l(kY, { room: p, location: h, setLocation: y, resetForm: C })
  ] });
}
function NY({ badge_uuid: e }) {
  return /* @__PURE__ */ v("span", { className: "rounded p-2 bg-success", children: [
    "Card read: ",
    e
  ] });
}
function AY({ user_id: e }) {
  const [t, n] = B("");
  return re(() => {
    const r = "https://" + gp + `/api/onelab/view/user/${e}`;
    (async () => {
      try {
        const a = await fetch(r);
        if (!a.ok)
          throw new Error(`Response status: ${a.status} with body: ${await a.text()}`);
        const s = await a.json();
        n(s.full_name);
      } catch (a) {
        console.log(a);
      }
    })();
  }, []), /* @__PURE__ */ v("span", { className: "rounded p-2 bg-success", children: [
    "Clients has detected user: ",
    t || "loading..."
  ] });
}
function DY() {
  return /* @__PURE__ */ l("div", {});
}
const Nd = ["all", "equipment", "not_set"], gp = document.getElementById("root")?.dataset.goldsteinEndpoint ?? "", OY = "mock-token", MY = 10, RY = 15;
async function TY(e) {
  const t = "https://" + gp + "/api/update/client-association", n = prompt("Select the new association for the client:", e);
  if (n === null) {
    alert("Please enter a not null value");
    return;
  }
  const [r, i] = n.split(":"), a = Number(i);
  if (!r || isNaN(a) || a === 0) {
    alert("Please follow the correct format: $item:$id");
    return;
  }
  if (!Nd.slice(1).includes(r)) {
    alert("Please select a valid $item: (equipment, not_set)");
    return;
  }
  const s = await fetch(t, {
    method: "PATCH",
    body: JSON.stringify({
      previous_association: e,
      new_association: n
    }),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  });
  if (!s.ok)
    throw new Error(`Response status: ${s.status} with body: ${await s.text()}`);
  const o = await s.text();
  alert(o);
}
function gW() {
  const e = Oe(null), [t, n] = B(/* @__PURE__ */ new Map());
  async function r(u) {
    const f = s0(u.notifications_list, /* @__PURE__ */ new Date(), MY, RY);
    n(f);
  }
  function i() {
    const f = `
      SELECT * FROM notifications
      ${o === "all" ? "" : `WHERE association_item = "${o}"`}
    `.trim(), p = {
      listening_association: `${o}:*`,
      sql_statement: f
    };
    let g = {
      package_type: Ii.UPDATE_LISTENING_DATA,
      payload: JSON.stringify(p)
    };
    _i(e.current, g), g = {
      package_type: Ii.GET_DATA,
      payload: ""
    }, _i(e.current, g);
  }
  const a = () => {
    setTimeout(() => {
      (e.current === null || e.current.readyState === WebSocket.CLOSED || e.current.readyState === WebSocket.CLOSING) && s();
    }, 1e3);
  }, s = () => {
    a0("wss://" + gp + "/ws", OY).then((u) => {
      e.current !== null && e.current.close(), u.onmessage = (p) => {
        i0(p, r);
      }, u.onclose = () => {
        console.log("WebSocket closed"), a();
      }, u.onerror = (p) => {
        console.error("WebSocket error", p), a();
      }, e.current = u, console.log("WebSocket connected"), i();
      const f = {
        package_type: Ii.GET_DATA,
        payload: ""
      };
      _i(u, f);
    }).catch((u) => {
      console.error("WebSocket connection failed", u), a();
    });
  };
  re(() => (s(), () => {
    e.current && (e.current.close(), console.log("Web socket disconnected"));
  }), []);
  const [o, c] = B(Nd[0]);
  return re(() => {
    i();
  }, [o]), /* @__PURE__ */ v("div", { children: [
    /* @__PURE__ */ l("h1", { children: "Goldstein Clients" }),
    /* @__PURE__ */ v("div", { children: [
      /* @__PURE__ */ l("label", { htmlFor: "typeFilter", children: "Filter by type:" }),
      /* @__PURE__ */ l(
        "select",
        {
          className: "form-control",
          id: "typeFilter",
          value: o,
          onChange: (u) => c(u.target.value),
          children: Nd.map((u) => /* @__PURE__ */ l("option", { value: u, children: u }, u))
        }
      )
    ] }),
    /* @__PURE__ */ v(Qt, { size: "sm", striped: !0, bordered: !0, hover: !0, children: [
      /* @__PURE__ */ l("thead", { children: /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("th", { children: "Client" }),
        /* @__PURE__ */ l("th", { children: "Status" }),
        /* @__PURE__ */ l("th", { children: "Actions" })
      ] }) }),
      /* @__PURE__ */ l("tbody", { children: Array.from(t.entries()).map(([u, f]) => /* @__PURE__ */ v("tr", { children: [
        /* @__PURE__ */ l("td", { children: u }),
        /* @__PURE__ */ v("td", { children: [
          f.status === Ei.CLIENT_CONNECTED && /* @__PURE__ */ l(DY, {}),
          f.status === Ei.CARD_READED && /* @__PURE__ */ l(NY, { badge_uuid: f.message.badgeUUID }),
          f.status === Ei.USER_AUTHENTICATED && /* @__PURE__ */ l(AY, { user_id: f.message.userID })
        ] }),
        /* @__PURE__ */ l("td", { children: /* @__PURE__ */ l("button", { className: "btn btn-primary", onClick: () => TY(u), children: "Edit association" }) })
      ] }, u)) })
    ] })
  ] });
}
function FY({
  result: e,
  status: t,
  onAutoSave: n,
  onDirty: r
}) {
  const { control: i, formState: a } = _N(), s = e.criterion_version, o = String(e.id), c = s.criterion.background_color && s.criterion.has_background_color ? { backgroundColor: s.criterion.background_color } : void 0, f = a.errors[o]?.message, p = s.required, g = (w) => p ? Array.isArray(w) ? w.length > 0 || "This field is required." : typeof w == "boolean" || w != null && w !== "" ? !0 : "This field is required." : !0, h = f ? "is-invalid" : t?.state === "saved" ? "is-valid" : t?.state === "dirty" ? "border-warning" : "", y = f ? "border border-danger rounded p-2" : t?.state === "saved" ? "border border-success rounded p-2" : t?.state === "dirty" ? "border border-warning rounded p-2" : "", _ = (w) => typeof w == "string" ? w : "", S = s.criterion.values ?? {};
  return /* @__PURE__ */ v(
    "div",
    {
      className: `form-group mb-3 rounded ${s.highlighted ? "border border-warning" : ""}`,
      style: c,
      children: [
        /* @__PURE__ */ v("label", { htmlFor: `result-${e.id}`, className: "form-label", children: [
          s.criterion.criterion,
          s.required && /* @__PURE__ */ l("span", { className: "text-danger", children: "*" })
        ] }),
        /* @__PURE__ */ l(
          jn,
          {
            name: o,
            control: i,
            rules: { validate: g },
            render: ({ field: w }) => {
              switch (s.criterion.input_type) {
                case "integer":
                case "float":
                  return /* @__PURE__ */ l(
                    "input",
                    {
                      id: `result-${e.id}`,
                      type: "number",
                      step: s.criterion.input_type === "float" ? "0.01" : "1",
                      className: `form-control ${h}`,
                      value: _(w.value),
                      onChange: (I) => {
                        w.onChange(I.target.value), r(e.id);
                      },
                      onBlur: () => {
                        w.onBlur(), n(e);
                      }
                    }
                  );
                case "date":
                  return /* @__PURE__ */ l(
                    "input",
                    {
                      id: `result-${e.id}`,
                      type: "date",
                      className: `form-control ${h}`,
                      value: _(w.value),
                      onChange: (I) => {
                        w.onChange(I.target.value), r(e.id);
                      },
                      onBlur: () => {
                        w.onBlur(), n(e);
                      }
                    }
                  );
                case "text":
                  return /* @__PURE__ */ l(
                    "textarea",
                    {
                      id: `result-${e.id}`,
                      className: `form-control ${h}`,
                      rows: 3,
                      value: _(w.value),
                      onChange: (I) => {
                        w.onChange(I.target.value), r(e.id);
                      },
                      onBlur: () => {
                        w.onBlur(), n(e);
                      }
                    }
                  );
                case "string":
                  return /* @__PURE__ */ l(
                    "input",
                    {
                      id: `result-${e.id}`,
                      type: "text",
                      className: `form-control ${h}`,
                      value: _(w.value),
                      onChange: (I) => {
                        w.onChange(I.target.value), r(e.id);
                      },
                      onBlur: () => {
                        w.onBlur(), n(e);
                      }
                    }
                  );
                case "select":
                  return /* @__PURE__ */ v(
                    "select",
                    {
                      id: `result-${e.id}`,
                      className: `form-select ${h}`,
                      value: _(w.value),
                      onChange: (I) => {
                        w.onChange(I.target.value), r(e.id), n(e);
                      },
                      children: [
                        /* @__PURE__ */ l("option", { value: "", children: "-- select --" }),
                        Object.entries(S).map(([I, b]) => /* @__PURE__ */ l("option", { value: I, children: b }, I))
                      ]
                    }
                  );
                case "radio": {
                  const I = String(w.value ?? "");
                  return /* @__PURE__ */ l("div", { className: `form-check ${y}`, children: Object.entries(S).map(([b, E]) => /* @__PURE__ */ v("div", { className: "form-check", children: [
                    /* @__PURE__ */ l(
                      "input",
                      {
                        type: "radio",
                        id: `result-${e.id}_${b}`,
                        name: `result-${e.id}`,
                        value: b,
                        checked: I === b,
                        onChange: (C) => {
                          w.onChange(C.target.value), r(e.id), n(e);
                        },
                        className: `form-check-input ${h}`
                      }
                    ),
                    /* @__PURE__ */ l("label", { htmlFor: `result-${e.id}_${b}`, className: "form-check-label", children: E })
                  ] }, b)) });
                }
                case "checkbox": {
                  const I = Array.isArray(w.value) ? w.value : [], b = (E, C) => {
                    const A = C ? [...I, E] : I.filter((N) => N !== E);
                    w.onChange(A), r(e.id), n(e);
                  };
                  return /* @__PURE__ */ l("div", { className: `form-check ${y}`, children: Object.entries(S).map(([E, C]) => /* @__PURE__ */ v("div", { className: "form-check", children: [
                    /* @__PURE__ */ l(
                      "input",
                      {
                        type: "checkbox",
                        id: `result-${e.id}_${E}`,
                        name: `result-${e.id}`,
                        value: E,
                        checked: I.includes(E),
                        onChange: (A) => b(E, A.target.checked),
                        className: `form-check-input ${h}`
                      }
                    ),
                    /* @__PURE__ */ l("label", { htmlFor: `result-${e.id}_${E}`, className: "form-check-label", children: C })
                  ] }, E)) });
                }
                case "bool":
                  return /* @__PURE__ */ l("div", { className: `form-check form-switch ${y}`, children: /* @__PURE__ */ l(
                    "input",
                    {
                      type: "checkbox",
                      id: `result-${e.id}`,
                      checked: !!w.value,
                      onChange: (I) => {
                        w.onChange(I.target.checked), r(e.id), n(e);
                      },
                      className: `form-check-input ${h}`
                    }
                  ) });
                case "action":
                  return /* @__PURE__ */ v("div", { className: `d-flex align-items-center ${y}`, children: [
                    /* @__PURE__ */ l("label", { className: "me-2", children: "Done " }),
                    /* @__PURE__ */ v(
                      "div",
                      {
                        role: "group",
                        "aria-label": `${e.id}-action`,
                        className: "btn-group btn-group-sm",
                        children: [
                          /* @__PURE__ */ l(
                            "button",
                            {
                              type: "button",
                              className: `btn ${w.value ? "btn-primary" : "btn-outline-secondary"}`,
                              onClick: () => {
                                w.onChange(!0), r(e.id), n(e);
                              },
                              "aria-pressed": !!w.value,
                              children: "Yes"
                            }
                          ),
                          /* @__PURE__ */ l(
                            "button",
                            {
                              type: "button",
                              className: `btn ${w.value ? "btn-outline-secondary" : "btn-primary"}`,
                              onClick: () => {
                                w.onChange(!1), r(e.id), n(e);
                              },
                              "aria-pressed": !w.value,
                              children: "No"
                            }
                          )
                        ]
                      }
                    )
                  ] });
                default:
                  return /* @__PURE__ */ l(ve, {});
              }
            }
          }
        ),
        s.criterion.help_block && /* @__PURE__ */ l("small", { className: "form-text text-muted", children: s.criterion.help_block }),
        f && /* @__PURE__ */ l("div", { className: "invalid-feedback", children: f })
      ]
    }
  );
}
function PY({
  categoryId: e,
  label: t,
  results: n
}) {
  const r = Oe({}), i = Oe({}), [a, s] = B({}), o = _e((I) => {
    const b = {}, E = (C) => C === null ? null : String(C);
    return I.forEach((C) => {
      const A = C.criterion_version;
      if (A.criterion.input_type === "checkbox") {
        const N = C.value || A.default_value || "";
        b[String(C.id)] = N ? N.toString().split(", ") : [];
      } else if (A.criterion.input_type === "bool" || A.criterion.input_type === "action") {
        const N = C.value ?? A.default_value ?? "false";
        b[String(C.id)] = N === "true";
      } else {
        const N = C.value ?? A.default_value ?? "";
        b[String(C.id)] = E(N) ?? "";
      }
    }), b;
  }, []), c = Xe(() => o(n), [o, n]), u = rn({
    defaultValues: c,
    mode: "onBlur"
  }), { control: f, getValues: p, reset: g, trigger: h } = u;
  re(() => {
    const I = String(e), b = r.current[I];
    if (b)
      g(b);
    else {
      const E = o(n);
      r.current[I] = E, g(E);
    }
    s({});
  }, [o, e, g, n]);
  const y = ib({ control: f });
  re(() => {
    const I = String(e);
    if (!y)
      return;
    const b = Object.entries(y);
    r.current[I] = b.reduce((E, [C, A]) => (E[C] = A ?? null, E), {});
  }, [y, e]);
  const _ = _e(
    async (I) => {
      const b = String(I.id);
      if (!await h(b))
        return;
      const C = p(b), A = (i.current[I.id] ?? 0) + 1;
      i.current[I.id] = A, s((D) => ({
        ...D,
        [I.id]: { state: "saving" }
      }));
      let N = C ?? "";
      Array.isArray(C) ? N = C.join(", ") : typeof C == "boolean" && (N = C ? "true" : "false");
      try {
        await ae.patch(`/update/service/event/report/result/${I.id}`, { value: N }), i.current[I.id] === A && s((D) => ({
          ...D,
          [I.id]: { state: "saved", savedAt: Date.now() }
        }));
      } catch (D) {
        console.error("Failed to save:", D), i.current[I.id] === A && s((F) => ({
          ...F,
          [I.id]: { state: "error", message: "Save failed. Try again." }
        }));
      }
    },
    [p, h]
  ), S = _e((I) => {
    s((b) => ({
      ...b,
      [I]: { state: "dirty" }
    }));
  }, []), w = Xe(
    () => Object.values(a).some(
      (I) => I.state === "dirty" || I.state === "saving" || I.state === "error"
    ),
    [a]
  );
  return re(() => {
    const I = (b) => {
      w && (b.preventDefault(), b.returnValue = "");
    };
    return window.addEventListener("beforeunload", I), () => window.removeEventListener("beforeunload", I);
  }, [w]), /* @__PURE__ */ v(EN, { ...u, children: [
    /* @__PURE__ */ l("legend", { children: t }),
    n.map((I) => /* @__PURE__ */ l(
      FY,
      {
        result: I,
        status: a[I.id],
        onAutoSave: _,
        onDirty: S
      },
      I.id
    ))
  ] });
}
function vW() {
  const { id: e } = mt(), t = sI(), n = Jg(), [r, i] = B(), [a, s] = B({}), [o, c] = B({}), [u, f] = B(0), [p, g] = B(null);
  re(() => {
    e && (VI({ id: Number(e) }).then((w) => {
      const I = w.reduce(
        (C, A) => {
          const N = A.criterion_version.type.category, D = String(N.id);
          return C[D] || (C[D] = []), C[D].push(A), C;
        },
        {}
      ), b = {}, E = {};
      w.forEach((C) => {
        const A = C.criterion_version.type.category, N = String(A.id);
        b[N] = A.category, E[N] = typeof A.sequence == "number" ? A.sequence : Number.MAX_SAFE_INTEGER;
      }), i(I), s(b), c(E);
    }), BI({ id: Number(e) }).then((w) => g(w)).catch(() => g(null)));
  }, [e]);
  const h = Xe(() => r ? Object.keys(r).sort((w, I) => {
    const b = o[w] ?? Number.MAX_SAFE_INTEGER, E = o[I] ?? Number.MAX_SAFE_INTEGER;
    return b !== E ? b - E : Number(w) - Number(I);
  }) : [], [r, o]), y = h.length;
  if (re(() => {
    if (!y) return;
    const I = new URLSearchParams(t.search).get("category");
    if (I) {
      const b = h.indexOf(I);
      if (b !== -1) {
        f(b);
        return;
      }
    }
    f(0);
  }, [y, t.search, h]), re(() => {
    if (!y) return;
    const w = h[u], I = new URLSearchParams(t.search);
    w && I.get("category") !== w && (I.set("category", w), n({ pathname: t.pathname, search: I.toString() }, { replace: !1 }));
  }, [u, y, h, t.pathname, t.search, n]), !r) return /* @__PURE__ */ l("div", { children: "Loadingâ€¦" });
  if (y === 0) return /* @__PURE__ */ l("div", { children: "No categories found" });
  const _ = () => {
    f((w) => Math.max(w - 1, 0));
  }, S = () => {
    f((w) => Math.min(w + 1, y - 1));
  };
  return /* @__PURE__ */ v(ne.Fragment, { children: [
    /* @__PURE__ */ v("div", { className: "d-flex justify-content-center align-items-center gap-3 mb-3", children: [
      /* @__PURE__ */ l("button", { className: "btn btn-sm btn-outline-primary", onClick: _, disabled: u === 0, children: "Previous" }),
      /* @__PURE__ */ v("div", { className: "text-center", children: [
        "Category ",
        u + 1,
        " of ",
        y
      ] }),
      /* @__PURE__ */ l(
        "button",
        {
          className: "btn btn-outline-primary btn-sm",
          onClick: S,
          disabled: u === y - 1,
          children: "Next"
        }
      )
    ] }),
    /* @__PURE__ */ l(
      PY,
      {
        categoryId: h[u],
        label: a[h[u]],
        results: r[h[u]]
      }
    )
  ] });
}
export {
  ks as AuthContext,
  $Y as AuthProvider,
  Zx as BatchCardElement,
  hW as ChemicalHeaderElement,
  mW as ChemicalIntakeElement,
  Ia as DateFormat,
  fp as EmphasizedParametersContext,
  pW as EmphasizedParametersProvider,
  dp as EquipmentContext,
  QY as EquipmentDashboard,
  KY as EquipmentHeaderElement,
  nG as EquipmentProvider,
  gW as GoldsteinClientsDashboard,
  qY as GoldsteinEquipmentDashboard,
  fY as InputModal,
  Oi as ModuleStatusElement,
  Hx as MonitorCard,
  OG as MonitorContext,
  nW as MonitorHeaderElement,
  tW as MonitorPage,
  rW as MonitorProvider,
  lc as PaginationLinks,
  vW as ReportResults,
  Ta as RunContext,
  iW as RunHeaderElement,
  sW as RunInformationElement,
  RG as RunProvider,
  QG as RunStepChecklist,
  Ht as RunStepContext,
  lW as RunStepExecuteElement,
  cW as RunStepExecuteMinimal,
  oW as RunStepHeaderElement,
  XG as RunStepProvider,
  aW as RunStepsElement,
  fW as SelectRunWithQrScanner,
  ZY as SetupUpdateEquipment,
  JY as StatusMailComponent,
  Ef as StatusMailContext,
  eW as StatusMailProvider,
  YG as StepDetails,
  jY as initSolodbComponents,
  zI as useAuth
};
//# sourceMappingURL=index.js.map
